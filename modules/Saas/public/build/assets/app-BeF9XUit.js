var vS=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);var Cue=vS((zue,Op)=>{function _w(o,r){return function(){return o.apply(r,arguments)}}const{toString:gS}=Object.prototype,{getPrototypeOf:Eg}=Object,np=(o=>r=>{const e=gS.call(r);return o[e]||(o[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Bo=o=>(o=o.toLowerCase(),r=>np(r)===o),op=o=>r=>typeof r===o,{isArray:yl}=Array,ru=op("undefined");function mS(o){return o!==null&&!ru(o)&&o.constructor!==null&&!ru(o.constructor)&&vo(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const bw=Bo("ArrayBuffer");function yS(o){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(o):r=o&&o.buffer&&bw(o.buffer),r}const _S=op("string"),vo=op("function"),ww=op("number"),ip=o=>o!==null&&typeof o=="object",bS=o=>o===!0||o===!1,If=o=>{if(np(o)!=="object")return!1;const r=Eg(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},wS=Bo("Date"),xS=Bo("File"),CS=Bo("Blob"),SS=Bo("FileList"),OS=o=>ip(o)&&vo(o.pipe),TS=o=>{let r;return o&&(typeof FormData=="function"&&o instanceof FormData||vo(o.append)&&((r=np(o))==="formdata"||r==="object"&&vo(o.toString)&&o.toString()==="[object FormData]"))},ES=Bo("URLSearchParams"),[PS,kS,AS,MS]=["ReadableStream","Request","Response","Headers"].map(Bo),VS=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(o,r,{allOwnKeys:e=!1}={}){if(o===null||typeof o>"u")return;let t,n;if(typeof o!="object"&&(o=[o]),yl(o))for(t=0,n=o.length;t<n;t++)r.call(null,o[t],t,o);else{const i=e?Object.getOwnPropertyNames(o):Object.keys(o),s=i.length;let l;for(t=0;t<s;t++)l=i[t],r.call(null,o[l],l,o)}}function xw(o,r){r=r.toLowerCase();const e=Object.keys(o);let t=e.length,n;for(;t-- >0;)if(n=e[t],r===n.toLowerCase())return n;return null}const rs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cw=o=>!ru(o)&&o!==rs;function kv(){const{caseless:o}=Cw(this)&&this||{},r={},e=(t,n)=>{const i=o&&xw(r,n)||n;If(r[i])&&If(t)?r[i]=kv(r[i],t):If(t)?r[i]=kv({},t):yl(t)?r[i]=t.slice():r[i]=t};for(let t=0,n=arguments.length;t<n;t++)arguments[t]&&su(arguments[t],e);return r}const IS=(o,r,e,{allOwnKeys:t}={})=>(su(r,(n,i)=>{e&&vo(n)?o[i]=_w(n,e):o[i]=n},{allOwnKeys:t}),o),$S=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),DS=(o,r,e,t)=>{o.prototype=Object.create(r.prototype,t),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:r.prototype}),e&&Object.assign(o.prototype,e)},LS=(o,r,e,t)=>{let n,i,s;const l={};if(r=r||{},o==null)return r;do{for(n=Object.getOwnPropertyNames(o),i=n.length;i-- >0;)s=n[i],(!t||t(s,o,r))&&!l[s]&&(r[s]=o[s],l[s]=!0);o=e!==!1&&Eg(o)}while(o&&(!e||e(o,r))&&o!==Object.prototype);return r},jS=(o,r,e)=>{o=String(o),(e===void 0||e>o.length)&&(e=o.length),e-=r.length;const t=o.indexOf(r,e);return t!==-1&&t===e},RS=o=>{if(!o)return null;if(yl(o))return o;let r=o.length;if(!ww(r))return null;const e=new Array(r);for(;r-- >0;)e[r]=o[r];return e},NS=(o=>r=>o&&r instanceof o)(typeof Uint8Array<"u"&&Eg(Uint8Array)),FS=(o,r)=>{const t=(o&&o[Symbol.iterator]).call(o);let n;for(;(n=t.next())&&!n.done;){const i=n.value;r.call(o,i[0],i[1])}},BS=(o,r)=>{let e;const t=[];for(;(e=o.exec(r))!==null;)t.push(e);return t},HS=Bo("HTMLFormElement"),US=o=>o.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),Fy=(({hasOwnProperty:o})=>(r,e)=>o.call(r,e))(Object.prototype),zS=Bo("RegExp"),Sw=(o,r)=>{const e=Object.getOwnPropertyDescriptors(o),t={};su(e,(n,i)=>{let s;(s=r(n,i,o))!==!1&&(t[i]=s||n)}),Object.defineProperties(o,t)},WS=o=>{Sw(o,(r,e)=>{if(vo(o)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const t=o[e];if(vo(t)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},qS=(o,r)=>{const e={},t=n=>{n.forEach(i=>{e[i]=!0})};return yl(o)?t(o):t(String(o).split(r)),e},KS=()=>{},GS=(o,r)=>o!=null&&Number.isFinite(o=+o)?o:r,bh="abcdefghijklmnopqrstuvwxyz",By="0123456789",Ow={DIGIT:By,ALPHA:bh,ALPHA_DIGIT:bh+bh.toUpperCase()+By},ZS=(o=16,r=Ow.ALPHA_DIGIT)=>{let e="";const{length:t}=r;for(;o--;)e+=r[Math.random()*t|0];return e};function XS(o){return!!(o&&vo(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator])}const YS=o=>{const r=new Array(10),e=(t,n)=>{if(ip(t)){if(r.indexOf(t)>=0)return;if(!("toJSON"in t)){r[n]=t;const i=yl(t)?[]:{};return su(t,(s,l)=>{const u=e(s,n+1);!ru(u)&&(i[l]=u)}),r[n]=void 0,i}}return t};return e(o,0)},JS=Bo("AsyncFunction"),QS=o=>o&&(ip(o)||vo(o))&&vo(o.then)&&vo(o.catch),Tw=((o,r)=>o?setImmediate:r?((e,t)=>(rs.addEventListener("message",({source:n,data:i})=>{n===rs&&i===e&&t.length&&t.shift()()},!1),n=>{t.push(n),rs.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",vo(rs.postMessage)),eO=typeof queueMicrotask<"u"?queueMicrotask.bind(rs):typeof process<"u"&&process.nextTick||Tw,Pe={isArray:yl,isArrayBuffer:bw,isBuffer:mS,isFormData:TS,isArrayBufferView:yS,isString:_S,isNumber:ww,isBoolean:bS,isObject:ip,isPlainObject:If,isReadableStream:PS,isRequest:kS,isResponse:AS,isHeaders:MS,isUndefined:ru,isDate:wS,isFile:xS,isBlob:CS,isRegExp:zS,isFunction:vo,isStream:OS,isURLSearchParams:ES,isTypedArray:NS,isFileList:SS,forEach:su,merge:kv,extend:IS,trim:VS,stripBOM:$S,inherits:DS,toFlatObject:LS,kindOf:np,kindOfTest:Bo,endsWith:jS,toArray:RS,forEachEntry:FS,matchAll:BS,isHTMLForm:HS,hasOwnProperty:Fy,hasOwnProp:Fy,reduceDescriptors:Sw,freezeMethods:WS,toObjectSet:qS,toCamelCase:US,noop:KS,toFiniteNumber:GS,findKey:xw,global:rs,isContextDefined:Cw,ALPHABET:Ow,generateString:ZS,isSpecCompliantForm:XS,toJSONObject:YS,isAsyncFn:JS,isThenable:QS,setImmediate:Tw,asap:eO};function It(o,r,e,t,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",r&&(this.code=r),e&&(this.config=e),t&&(this.request=t),n&&(this.response=n,this.status=n.status?n.status:null)}Pe.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const Ew=It.prototype,Pw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Pw[o]={value:o}});Object.defineProperties(It,Pw);Object.defineProperty(Ew,"isAxiosError",{value:!0});It.from=(o,r,e,t,n,i)=>{const s=Object.create(Ew);return Pe.toFlatObject(o,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),It.call(s,o.message,r,e,t,n),s.cause=o,s.name=o.name,i&&Object.assign(s,i),s};const tO=null;function Av(o){return Pe.isPlainObject(o)||Pe.isArray(o)}function kw(o){return Pe.endsWith(o,"[]")?o.slice(0,-2):o}function Hy(o,r,e){return o?o.concat(r).map(function(n,i){return n=kw(n),!e&&i?"["+n+"]":n}).join(e?".":""):r}function rO(o){return Pe.isArray(o)&&!o.some(Av)}const nO=Pe.toFlatObject(Pe,{},null,function(r){return/^is[A-Z]/.test(r)});function ap(o,r,e){if(!Pe.isObject(o))throw new TypeError("target must be an object");r=r||new FormData,e=Pe.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!Pe.isUndefined(x[w])});const t=e.metaTokens,n=e.visitor||d,i=e.dots,s=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(r);if(!Pe.isFunction(n))throw new TypeError("visitor must be a function");function f(b){if(b===null)return"";if(Pe.isDate(b))return b.toISOString();if(!u&&Pe.isBlob(b))throw new It("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(b)||Pe.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function d(b,w,x){let O=b;if(b&&!x&&typeof b=="object"){if(Pe.endsWith(w,"{}"))w=t?w:w.slice(0,-2),b=JSON.stringify(b);else if(Pe.isArray(b)&&rO(b)||(Pe.isFileList(b)||Pe.endsWith(w,"[]"))&&(O=Pe.toArray(b)))return w=kw(w),O.forEach(function(T,E){!(Pe.isUndefined(T)||T===null)&&r.append(s===!0?Hy([w],E,i):s===null?w:w+"[]",f(T))}),!1}return Av(b)?!0:(r.append(Hy(x,w,i),f(b)),!1)}const v=[],m=Object.assign(nO,{defaultVisitor:d,convertValue:f,isVisitable:Av});function y(b,w){if(!Pe.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));v.push(b),Pe.forEach(b,function(O,M){(!(Pe.isUndefined(O)||O===null)&&n.call(r,O,Pe.isString(M)?M.trim():M,w,m))===!0&&y(O,w?w.concat(M):[M])}),v.pop()}}if(!Pe.isObject(o))throw new TypeError("data must be an object");return y(o),r}function Uy(o){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(t){return r[t]})}function Pg(o,r){this._pairs=[],o&&ap(o,this,r)}const Aw=Pg.prototype;Aw.append=function(r,e){this._pairs.push([r,e])};Aw.toString=function(r){const e=r?function(t){return r.call(this,t,Uy)}:Uy;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function oO(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mw(o,r,e){if(!r)return o;const t=e&&e.encode||oO;Pe.isFunction(e)&&(e={serialize:e});const n=e&&e.serialize;let i;if(n?i=n(r,e):i=Pe.isURLSearchParams(r)?r.toString():new Pg(r,e).toString(t),i){const s=o.indexOf("#");s!==-1&&(o=o.slice(0,s)),o+=(o.indexOf("?")===-1?"?":"&")+i}return o}class zy{constructor(){this.handlers=[]}use(r,e,t){return this.handlers.push({fulfilled:r,rejected:e,synchronous:t?t.synchronous:!1,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Pe.forEach(this.handlers,function(t){t!==null&&r(t)})}}const Vw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iO=typeof URLSearchParams<"u"?URLSearchParams:Pg,aO=typeof FormData<"u"?FormData:null,sO=typeof Blob<"u"?Blob:null,lO={isBrowser:!0,classes:{URLSearchParams:iO,FormData:aO,Blob:sO},protocols:["http","https","file","blob","url","data"]},kg=typeof window<"u"&&typeof document<"u",Mv=typeof navigator=="object"&&navigator||void 0,cO=kg&&(!Mv||["ReactNative","NativeScript","NS"].indexOf(Mv.product)<0),uO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fO=kg&&window.location.href||"http://localhost",dO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kg,hasStandardBrowserEnv:cO,hasStandardBrowserWebWorkerEnv:uO,navigator:Mv,origin:fO},Symbol.toStringTag,{value:"Module"})),mn={...dO,...lO};function pO(o,r){return ap(o,new mn.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return mn.isNode&&Pe.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},r))}function hO(o){return Pe.matchAll(/\w+|\[(\w*)]/g,o).map(r=>r[0]==="[]"?"":r[1]||r[0])}function vO(o){const r={},e=Object.keys(o);let t;const n=e.length;let i;for(t=0;t<n;t++)i=e[t],r[i]=o[i];return r}function Iw(o){function r(e,t,n,i){let s=e[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),u=i>=e.length;return s=!s&&Pe.isArray(n)?n.length:s,u?(Pe.hasOwnProp(n,s)?n[s]=[n[s],t]:n[s]=t,!l):((!n[s]||!Pe.isObject(n[s]))&&(n[s]=[]),r(e,t,n[s],i)&&Pe.isArray(n[s])&&(n[s]=vO(n[s])),!l)}if(Pe.isFormData(o)&&Pe.isFunction(o.entries)){const e={};return Pe.forEachEntry(o,(t,n)=>{r(hO(t),n,e,0)}),e}return null}function gO(o,r,e){if(Pe.isString(o))try{return(r||JSON.parse)(o),Pe.trim(o)}catch(t){if(t.name!=="SyntaxError")throw t}return(e||JSON.stringify)(o)}const lu={transitional:Vw,adapter:["xhr","http","fetch"],transformRequest:[function(r,e){const t=e.getContentType()||"",n=t.indexOf("application/json")>-1,i=Pe.isObject(r);if(i&&Pe.isHTMLForm(r)&&(r=new FormData(r)),Pe.isFormData(r))return n?JSON.stringify(Iw(r)):r;if(Pe.isArrayBuffer(r)||Pe.isBuffer(r)||Pe.isStream(r)||Pe.isFile(r)||Pe.isBlob(r)||Pe.isReadableStream(r))return r;if(Pe.isArrayBufferView(r))return r.buffer;if(Pe.isURLSearchParams(r))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let l;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return pO(r,this.formSerializer).toString();if((l=Pe.isFileList(r))||t.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ap(l?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),gO(r)):r}],transformResponse:[function(r){const e=this.transitional||lu.transitional,t=e&&e.forcedJSONParsing,n=this.responseType==="json";if(Pe.isResponse(r)||Pe.isReadableStream(r))return r;if(r&&Pe.isString(r)&&(t&&!this.responseType||n)){const s=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(r)}catch(l){if(s)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],o=>{lu.headers[o]={}});const mO=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yO=o=>{const r={};let e,t,n;return o&&o.split(`
`).forEach(function(s){n=s.indexOf(":"),e=s.substring(0,n).trim().toLowerCase(),t=s.substring(n+1).trim(),!(!e||r[e]&&mO[e])&&(e==="set-cookie"?r[e]?r[e].push(t):r[e]=[t]:r[e]=r[e]?r[e]+", "+t:t)}),r},Wy=Symbol("internals");function pc(o){return o&&String(o).trim().toLowerCase()}function $f(o){return o===!1||o==null?o:Pe.isArray(o)?o.map($f):String(o)}function _O(o){const r=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let t;for(;t=e.exec(o);)r[t[1]]=t[2];return r}const bO=o=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(o.trim());function wh(o,r,e,t,n){if(Pe.isFunction(t))return t.call(this,r,e);if(n&&(r=e),!!Pe.isString(r)){if(Pe.isString(t))return r.indexOf(t)!==-1;if(Pe.isRegExp(t))return t.test(r)}}function wO(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,e,t)=>e.toUpperCase()+t)}function xO(o,r){const e=Pe.toCamelCase(" "+r);["get","set","has"].forEach(t=>{Object.defineProperty(o,t+e,{value:function(n,i,s){return this[t].call(this,r,n,i,s)},configurable:!0})})}let Zn=class{constructor(r){r&&this.set(r)}set(r,e,t){const n=this;function i(l,u,f){const d=pc(u);if(!d)throw new Error("header name must be a non-empty string");const v=Pe.findKey(n,d);(!v||n[v]===void 0||f===!0||f===void 0&&n[v]!==!1)&&(n[v||u]=$f(l))}const s=(l,u)=>Pe.forEach(l,(f,d)=>i(f,d,u));if(Pe.isPlainObject(r)||r instanceof this.constructor)s(r,e);else if(Pe.isString(r)&&(r=r.trim())&&!bO(r))s(yO(r),e);else if(Pe.isHeaders(r))for(const[l,u]of r.entries())i(u,l,t);else r!=null&&i(e,r,t);return this}get(r,e){if(r=pc(r),r){const t=Pe.findKey(this,r);if(t){const n=this[t];if(!e)return n;if(e===!0)return _O(n);if(Pe.isFunction(e))return e.call(this,n,t);if(Pe.isRegExp(e))return e.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,e){if(r=pc(r),r){const t=Pe.findKey(this,r);return!!(t&&this[t]!==void 0&&(!e||wh(this,this[t],t,e)))}return!1}delete(r,e){const t=this;let n=!1;function i(s){if(s=pc(s),s){const l=Pe.findKey(t,s);l&&(!e||wh(t,t[l],l,e))&&(delete t[l],n=!0)}}return Pe.isArray(r)?r.forEach(i):i(r),n}clear(r){const e=Object.keys(this);let t=e.length,n=!1;for(;t--;){const i=e[t];(!r||wh(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const e=this,t={};return Pe.forEach(this,(n,i)=>{const s=Pe.findKey(t,i);if(s){e[s]=$f(n),delete e[i];return}const l=r?wO(i):String(i).trim();l!==i&&delete e[i],e[l]=$f(n),t[l]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const e=Object.create(null);return Pe.forEach(this,(t,n)=>{t!=null&&t!==!1&&(e[n]=r&&Pe.isArray(t)?t.join(", "):t)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,e])=>r+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...e){const t=new this(r);return e.forEach(n=>t.set(n)),t}static accessor(r){const t=(this[Wy]=this[Wy]={accessors:{}}).accessors,n=this.prototype;function i(s){const l=pc(s);t[l]||(xO(n,s),t[l]=!0)}return Pe.isArray(r)?r.forEach(i):i(r),this}};Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Zn.prototype,({value:o},r)=>{let e=r[0].toUpperCase()+r.slice(1);return{get:()=>o,set(t){this[e]=t}}});Pe.freezeMethods(Zn);function xh(o,r){const e=this||lu,t=r||e,n=Zn.from(t.headers);let i=t.data;return Pe.forEach(o,function(l){i=l.call(e,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function $w(o){return!!(o&&o.__CANCEL__)}function _l(o,r,e){It.call(this,o??"canceled",It.ERR_CANCELED,r,e),this.name="CanceledError"}Pe.inherits(_l,It,{__CANCEL__:!0});function Dw(o,r,e){const t=e.config.validateStatus;!e.status||!t||t(e.status)?o(e):r(new It("Request failed with status code "+e.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function CO(o){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return r&&r[1]||""}function SO(o,r){o=o||10;const e=new Array(o),t=new Array(o);let n=0,i=0,s;return r=r!==void 0?r:1e3,function(u){const f=Date.now(),d=t[i];s||(s=f),e[n]=u,t[n]=f;let v=i,m=0;for(;v!==n;)m+=e[v++],v=v%o;if(n=(n+1)%o,n===i&&(i=(i+1)%o),f-s<r)return;const y=d&&f-d;return y?Math.round(m*1e3/y):void 0}}function OO(o,r){let e=0,t=1e3/r,n,i;const s=(f,d=Date.now())=>{e=d,n=null,i&&(clearTimeout(i),i=null),o.apply(null,f)};return[(...f)=>{const d=Date.now(),v=d-e;v>=t?s(f,d):(n=f,i||(i=setTimeout(()=>{i=null,s(n)},t-v)))},()=>n&&s(n)]}const Hf=(o,r,e=3)=>{let t=0;const n=SO(50,250);return OO(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,u=s-t,f=n(u),d=s<=l;t=s;const v={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:f||void 0,estimated:f&&l&&d?(l-s)/f:void 0,event:i,lengthComputable:l!=null,[r?"download":"upload"]:!0};o(v)},e)},qy=(o,r)=>{const e=o!=null;return[t=>r[0]({lengthComputable:e,total:o,loaded:t}),r[1]]},Ky=o=>(...r)=>Pe.asap(()=>o(...r)),TO=mn.hasStandardBrowserEnv?((o,r)=>e=>(e=new URL(e,mn.origin),o.protocol===e.protocol&&o.host===e.host&&(r||o.port===e.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,EO=mn.hasStandardBrowserEnv?{write(o,r,e,t,n,i){const s=[o+"="+encodeURIComponent(r)];Pe.isNumber(e)&&s.push("expires="+new Date(e).toGMTString()),Pe.isString(t)&&s.push("path="+t),Pe.isString(n)&&s.push("domain="+n),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(o){const r=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(o){this.write(o,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PO(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function kO(o,r){return r?o.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):o}function Lw(o,r){return o&&!PO(r)?kO(o,r):r}const Gy=o=>o instanceof Zn?{...o}:o;function ss(o,r){r=r||{};const e={};function t(f,d,v,m){return Pe.isPlainObject(f)&&Pe.isPlainObject(d)?Pe.merge.call({caseless:m},f,d):Pe.isPlainObject(d)?Pe.merge({},d):Pe.isArray(d)?d.slice():d}function n(f,d,v,m){if(Pe.isUndefined(d)){if(!Pe.isUndefined(f))return t(void 0,f,v,m)}else return t(f,d,v,m)}function i(f,d){if(!Pe.isUndefined(d))return t(void 0,d)}function s(f,d){if(Pe.isUndefined(d)){if(!Pe.isUndefined(f))return t(void 0,f)}else return t(void 0,d)}function l(f,d,v){if(v in r)return t(f,d);if(v in o)return t(void 0,f)}const u={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(f,d,v)=>n(Gy(f),Gy(d),v,!0)};return Pe.forEach(Object.keys(Object.assign({},o,r)),function(d){const v=u[d]||n,m=v(o[d],r[d],d);Pe.isUndefined(m)&&v!==l||(e[d]=m)}),e}const jw=o=>{const r=ss({},o);let{data:e,withXSRFToken:t,xsrfHeaderName:n,xsrfCookieName:i,headers:s,auth:l}=r;r.headers=s=Zn.from(s),r.url=Mw(Lw(r.baseURL,r.url),o.params,o.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Pe.isFormData(e)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((u=s.getContentType())!==!1){const[f,...d]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...d].join("; "))}}if(mn.hasStandardBrowserEnv&&(t&&Pe.isFunction(t)&&(t=t(r)),t||t!==!1&&TO(r.url))){const f=n&&i&&EO.read(i);f&&s.set(n,f)}return r},AO=typeof XMLHttpRequest<"u",MO=AO&&function(o){return new Promise(function(e,t){const n=jw(o);let i=n.data;const s=Zn.from(n.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:f}=n,d,v,m,y,b;function w(){y&&y(),b&&b(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout;function O(){if(!x)return;const T=Zn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),U={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:T,config:o,request:x};Dw(function(te){e(te),w()},function(te){t(te),w()},U),x=null}"onloadend"in x?x.onloadend=O:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(O)},x.onabort=function(){x&&(t(new It("Request aborted",It.ECONNABORTED,o,x)),x=null)},x.onerror=function(){t(new It("Network Error",It.ERR_NETWORK,o,x)),x=null},x.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const U=n.transitional||Vw;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),t(new It(E,U.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,o,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&Pe.forEach(s.toJSON(),function(E,U){x.setRequestHeader(U,E)}),Pe.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),l&&l!=="json"&&(x.responseType=n.responseType),f&&([m,b]=Hf(f,!0),x.addEventListener("progress",m)),u&&x.upload&&([v,y]=Hf(u),x.upload.addEventListener("progress",v),x.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(d=T=>{x&&(t(!T||T.type?new _l(null,o,x):T),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const M=CO(n.url);if(M&&mn.protocols.indexOf(M)===-1){t(new It("Unsupported protocol "+M+":",It.ERR_BAD_REQUEST,o));return}x.send(i||null)})},VO=(o,r)=>{const{length:e}=o=o?o.filter(Boolean):[];if(r||e){let t=new AbortController,n;const i=function(f){if(!n){n=!0,l();const d=f instanceof Error?f:this.reason;t.abort(d instanceof It?d:new _l(d instanceof Error?d.message:d))}};let s=r&&setTimeout(()=>{s=null,i(new It(`timeout ${r} of ms exceeded`,It.ETIMEDOUT))},r);const l=()=>{o&&(s&&clearTimeout(s),s=null,o.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),o=null)};o.forEach(f=>f.addEventListener("abort",i));const{signal:u}=t;return u.unsubscribe=()=>Pe.asap(l),u}},IO=function*(o,r){let e=o.byteLength;if(e<r){yield o;return}let t=0,n;for(;t<e;)n=t+r,yield o.slice(t,n),t=n},$O=async function*(o,r){for await(const e of DO(o))yield*IO(e,r)},DO=async function*(o){if(o[Symbol.asyncIterator]){yield*o;return}const r=o.getReader();try{for(;;){const{done:e,value:t}=await r.read();if(e)break;yield t}}finally{await r.cancel()}},Zy=(o,r,e,t)=>{const n=$O(o,r);let i=0,s,l=u=>{s||(s=!0,t&&t(u))};return new ReadableStream({async pull(u){try{const{done:f,value:d}=await n.next();if(f){l(),u.close();return}let v=d.byteLength;if(e){let m=i+=v;e(m)}u.enqueue(new Uint8Array(d))}catch(f){throw l(f),f}},cancel(u){return l(u),n.return()}},{highWaterMark:2})},sp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Rw=sp&&typeof ReadableStream=="function",LO=sp&&(typeof TextEncoder=="function"?(o=>r=>o.encode(r))(new TextEncoder):async o=>new Uint8Array(await new Response(o).arrayBuffer())),Nw=(o,...r)=>{try{return!!o(...r)}catch{return!1}},jO=Rw&&Nw(()=>{let o=!1;const r=new Request(mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return o=!0,"half"}}).headers.has("Content-Type");return o&&!r}),Xy=64*1024,Vv=Rw&&Nw(()=>Pe.isReadableStream(new Response("").body)),Uf={stream:Vv&&(o=>o.body)};sp&&(o=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!Uf[r]&&(Uf[r]=Pe.isFunction(o[r])?e=>e[r]():(e,t)=>{throw new It(`Response type '${r}' is not supported`,It.ERR_NOT_SUPPORT,t)})})})(new Response);const RO=async o=>{if(o==null)return 0;if(Pe.isBlob(o))return o.size;if(Pe.isSpecCompliantForm(o))return(await new Request(mn.origin,{method:"POST",body:o}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(o)||Pe.isArrayBuffer(o))return o.byteLength;if(Pe.isURLSearchParams(o)&&(o=o+""),Pe.isString(o))return(await LO(o)).byteLength},NO=async(o,r)=>{const e=Pe.toFiniteNumber(o.getContentLength());return e??RO(r)},FO=sp&&(async o=>{let{url:r,method:e,data:t,signal:n,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:u,responseType:f,headers:d,withCredentials:v="same-origin",fetchOptions:m}=jw(o);f=f?(f+"").toLowerCase():"text";let y=VO([n,i&&i.toAbortSignal()],s),b;const w=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let x;try{if(u&&jO&&e!=="get"&&e!=="head"&&(x=await NO(d,t))!==0){let U=new Request(r,{method:"POST",body:t,duplex:"half"}),Z;if(Pe.isFormData(t)&&(Z=U.headers.get("content-type"))&&d.setContentType(Z),U.body){const[te,ee]=qy(x,Hf(Ky(u)));t=Zy(U.body,Xy,te,ee)}}Pe.isString(v)||(v=v?"include":"omit");const O="credentials"in Request.prototype;b=new Request(r,{...m,signal:y,method:e.toUpperCase(),headers:d.normalize().toJSON(),body:t,duplex:"half",credentials:O?v:void 0});let M=await fetch(b);const T=Vv&&(f==="stream"||f==="response");if(Vv&&(l||T&&w)){const U={};["status","statusText","headers"].forEach(G=>{U[G]=M[G]});const Z=Pe.toFiniteNumber(M.headers.get("content-length")),[te,ee]=l&&qy(Z,Hf(Ky(l),!0))||[];M=new Response(Zy(M.body,Xy,te,()=>{ee&&ee(),w&&w()}),U)}f=f||"text";let E=await Uf[Pe.findKey(Uf,f)||"text"](M,o);return!T&&w&&w(),await new Promise((U,Z)=>{Dw(U,Z,{data:E,headers:Zn.from(M.headers),status:M.status,statusText:M.statusText,config:o,request:b})})}catch(O){throw w&&w(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,o,b),{cause:O.cause||O}):It.from(O,O&&O.code,o,b)}}),Iv={http:tO,xhr:MO,fetch:FO};Pe.forEach(Iv,(o,r)=>{if(o){try{Object.defineProperty(o,"name",{value:r})}catch{}Object.defineProperty(o,"adapterName",{value:r})}});const Yy=o=>`- ${o}`,BO=o=>Pe.isFunction(o)||o===null||o===!1,Fw={getAdapter:o=>{o=Pe.isArray(o)?o:[o];const{length:r}=o;let e,t;const n={};for(let i=0;i<r;i++){e=o[i];let s;if(t=e,!BO(e)&&(t=Iv[(s=String(e)).toLowerCase()],t===void 0))throw new It(`Unknown adapter '${s}'`);if(t)break;n[s||"#"+i]=t}if(!t){const i=Object.entries(n).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?i.length>1?`since :
`+i.map(Yy).join(`
`):" "+Yy(i[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return t},adapters:Iv};function Ch(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new _l(null,o)}function Jy(o){return Ch(o),o.headers=Zn.from(o.headers),o.data=xh.call(o,o.transformRequest),["post","put","patch"].indexOf(o.method)!==-1&&o.headers.setContentType("application/x-www-form-urlencoded",!1),Fw.getAdapter(o.adapter||lu.adapter)(o).then(function(t){return Ch(o),t.data=xh.call(o,o.transformResponse,t),t.headers=Zn.from(t.headers),t},function(t){return $w(t)||(Ch(o),t&&t.response&&(t.response.data=xh.call(o,o.transformResponse,t.response),t.response.headers=Zn.from(t.response.headers))),Promise.reject(t)})}const Bw="1.7.9",lp={};["object","boolean","number","function","string","symbol"].forEach((o,r)=>{lp[o]=function(t){return typeof t===o||"a"+(r<1?"n ":" ")+o}});const Qy={};lp.transitional=function(r,e,t){function n(i,s){return"[Axios v"+Bw+"] Transitional option '"+i+"'"+s+(t?". "+t:"")}return(i,s,l)=>{if(r===!1)throw new It(n(s," has been removed"+(e?" in "+e:"")),It.ERR_DEPRECATED);return e&&!Qy[s]&&(Qy[s]=!0,console.warn(n(s," has been deprecated since v"+e+" and will be removed in the near future"))),r?r(i,s,l):!0}};lp.spelling=function(r){return(e,t)=>(console.warn(`${t} is likely a misspelling of ${r}`),!0)};function HO(o,r,e){if(typeof o!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const t=Object.keys(o);let n=t.length;for(;n-- >0;){const i=t[n],s=r[i];if(s){const l=o[i],u=l===void 0||s(l,i,o);if(u!==!0)throw new It("option "+i+" must be "+u,It.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new It("Unknown option "+i,It.ERR_BAD_OPTION)}}const Df={assertOptions:HO,validators:lp},qo=Df.validators;let as=class{constructor(r){this.defaults=r,this.interceptors={request:new zy,response:new zy}}async request(r,e){try{return await this._request(r,e)}catch(t){if(t instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+=`
`+i):t.stack=i}catch{}}throw t}}_request(r,e){typeof r=="string"?(e=e||{},e.url=r):e=r||{},e=ss(this.defaults,e);const{transitional:t,paramsSerializer:n,headers:i}=e;t!==void 0&&Df.assertOptions(t,{silentJSONParsing:qo.transitional(qo.boolean),forcedJSONParsing:qo.transitional(qo.boolean),clarifyTimeoutError:qo.transitional(qo.boolean)},!1),n!=null&&(Pe.isFunction(n)?e.paramsSerializer={serialize:n}:Df.assertOptions(n,{encode:qo.function,serialize:qo.function},!0)),Df.assertOptions(e,{baseUrl:qo.spelling("baseURL"),withXsrfToken:qo.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=i&&Pe.merge(i.common,i[e.method]);i&&Pe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),e.headers=Zn.concat(s,i);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let d,v=0,m;if(!u){const b=[Jy.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,f),m=b.length,d=Promise.resolve(e);v<m;)d=d.then(b[v++],b[v++]);return d}m=l.length;let y=e;for(v=0;v<m;){const b=l[v++],w=l[v++];try{y=b(y)}catch(x){w.call(this,x);break}}try{d=Jy.call(this,y)}catch(b){return Promise.reject(b)}for(v=0,m=f.length;v<m;)d=d.then(f[v++],f[v++]);return d}getUri(r){r=ss(this.defaults,r);const e=Lw(r.baseURL,r.url);return Mw(e,r.params,r.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(r){as.prototype[r]=function(e,t){return this.request(ss(t||{},{method:r,url:e,data:(t||{}).data}))}});Pe.forEach(["post","put","patch"],function(r){function e(t){return function(i,s,l){return this.request(ss(l||{},{method:r,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}as.prototype[r]=e(),as.prototype[r+"Form"]=e(!0)});let UO=class Hw{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const t=this;this.promise.then(n=>{if(!t._listeners)return;let i=t._listeners.length;for(;i-- >0;)t._listeners[i](n);t._listeners=null}),this.promise.then=n=>{let i;const s=new Promise(l=>{t.subscribe(l),i=l}).then(n);return s.cancel=function(){t.unsubscribe(i)},s},r(function(i,s,l){t.reason||(t.reason=new _l(i,s,l),e(t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const e=this._listeners.indexOf(r);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const r=new AbortController,e=t=>{r.abort(t)};return this.subscribe(e),r.signal.unsubscribe=()=>this.unsubscribe(e),r.signal}static source(){let r;return{token:new Hw(function(n){r=n}),cancel:r}}};function zO(o){return function(e){return o.apply(null,e)}}function WO(o){return Pe.isObject(o)&&o.isAxiosError===!0}const $v={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($v).forEach(([o,r])=>{$v[r]=o});function Uw(o){const r=new as(o),e=_w(as.prototype.request,r);return Pe.extend(e,as.prototype,r,{allOwnKeys:!0}),Pe.extend(e,r,null,{allOwnKeys:!0}),e.create=function(n){return Uw(ss(o,n))},e}const ar=Uw(lu);ar.Axios=as;ar.CanceledError=_l;ar.CancelToken=UO;ar.isCancel=$w;ar.VERSION=Bw;ar.toFormData=ap;ar.AxiosError=It;ar.Cancel=ar.CanceledError;ar.all=function(r){return Promise.all(r)};ar.spread=zO;ar.isAxiosError=WO;ar.mergeConfig=ss;ar.AxiosHeaders=Zn;ar.formToJSON=o=>Iw(Pe.isHTMLForm(o)?new FormData(o):o);ar.getAdapter=Fw.getAdapter;ar.HttpStatusCode=$v;ar.default=ar;const{Axios:Eue,AxiosError:Pue,CanceledError:kue,isCancel:Aue,CancelToken:Mue,VERSION:Iue,all:$ue,Cancel:Due,isAxiosError:Lue,spread:jue,toFormData:Rue,AxiosHeaders:Nue,HttpStatusCode:Fue,formToJSON:Bue,getAdapter:Hue,mergeConfig:Uue}=ar;var qO={4729:(o,r,e)=>{var t,n,i;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(s){n=[e(5706),e(4193)],t=s,i=typeof t=="function"?t.apply(r,n):t,i!==void 0&&(o.exports=i)})(function(s,l){var u=Array.prototype.slice;function f(G,q,D){return D.length<=4?G.call(q,D[0],D[1],D[2],D[3]):G.apply(q,D)}function d(G,q){return u.call(G,q)}function v(G,q){return G==null?!1:(s.isArray(q)||(q=d(arguments,1)),s.all(q,function(D){return D in G}))}var m=function(){var G=!1,q=-1;function D(){q++,G=!0,s.defer(function(){G=!1})}return function(){return G||D(),q}}();function y(){this.registeredObjects=[],this.cidIndexes=[]}y.prototype={isRegistered:function(G){return G&&G.cid?this.registeredObjects[G.cid]:s.contains(this.registeredObjects,G)},register:function(G){return this.isRegistered(G)?!1:(G&&G.cid?(this.registeredObjects[G.cid]=G,this.cidIndexes.push(G.cid)):this.registeredObjects.push(G),!0)},unregister:function(G){if(this.isRegistered(G)){if(G&&G.cid)delete this.registeredObjects[G.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,G.cid),1);else{var q=s.indexOf(this.registeredObjects,G);this.registeredObjects.splice(q,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function(G){return this.registeredObjects[G]},this).concat(this.registeredObjects)}};function b(G,q,D,$){for(var B=0,W=q.length,X;B<W;B++)if(X=q[B],!!X){if(G==="on"){if(!$.objectRegistry.register(X))continue}else if(!$.objectRegistry.unregister(X))continue;s.isFunction(X[G])&&X[G]("all",D,$)}}function w(G,q){var D=q.type,$=q.undoTypes,B=!$[D]||$[D][G];s.isFunction(B)&&B(q.object,q.before,q.after,q.options)}function x(G,q,D,$,B){if(!(D.isCurrentlyUndoRedoing||G==="undo"&&D.pointer===-1||G==="redo"&&D.pointer===D.length-1)){D.isCurrentlyUndoRedoing=!0;var W,X,V=G==="undo";for(B?X=V&&D.pointer===D.length-1||!V&&D.pointer===-1?s.clone(D.models):u.apply(D.models,V?[0,D.pointer]:[D.pointer,D.length-1]):(W=D.at(V?D.pointer:D.pointer+1),X=$?D.where({magicFusionIndex:W.get("magicFusionIndex")}):[W]),D.pointer+=(V?-1:1)*X.length;W=V?X.pop():X.shift();)W[G]();D.isCurrentlyUndoRedoing=!1,q.trigger(G,q)}}function O(G,q){var D=G.condition,$=typeof D;return $==="function"?!!f(D,G,q):$==="boolean"?D:!0}function M(G,q,D,$){if(G.track&&!G.isCurrentlyUndoRedoing&&q in $&&O($[q],D)){var B=f($[q].on,$[q],D),W;if(v(B,"object","before","after")){if(B.type=q,B.magicFusionIndex=m(),B.undoTypes=$,G.pointer<G.length-1)for(var W=G.length-G.pointer-1;W--;)G.pop();G.pointer=G.length,G.add(B),G.length>G.maximumStackLength&&(G.shift(),G.pointer--)}}}var T={add:{undo:function(G,q,D,$){G.remove(D,$)},redo:function(G,q,D,$){$.index&&($.at=$.index),G.add(D,$)},on:function(G,q,D){return{object:q,before:void 0,after:G,options:s.clone(D)}}},remove:{undo:function(G,q,D,$){"index"in $&&($.at=$.index),G.add(q,$)},redo:function(G,q,D,$){G.remove(q,$)},on:function(G,q,D){return{object:q,before:G,after:void 0,options:s.clone(D)}}},change:{undo:function(G,q,D,$){s.isEmpty(q)?s.each(s.keys(D),G.unset,G):(G.set(q),$&&$.unsetData&&$.unsetData.before&&$.unsetData.before.length&&s.each($.unsetData.before,G.unset,G))},redo:function(G,q,D,$){s.isEmpty(D)?s.each(s.keys(q),G.unset,G):(G.set(D),$&&$.unsetData&&$.unsetData.after&&$.unsetData.after.length&&s.each($.unsetData.after,G.unset,G))},on:function(G,q){var D=G.changedAttributes(),$=s.keys(D),B=s.pick(G.previousAttributes(),$),W=s.keys(B),X=(q||(q={})).unsetData={after:[],before:[]};return $.length!=W.length&&($.length>W.length?s.each($,function(V){V in B||X.before.push(V)},this):s.each(W,function(V){V in D||X.after.push(V)})),{object:G,before:B,after:D,options:s.clone(q)}}},reset:{undo:function(G,q,D){G.reset(q)},redo:function(G,q,D){G.reset(D)},on:function(G,q){return{object:G,before:q.previousModels,after:s.clone(G.models)}}}};function E(){}E.prototype=T;function U(G,q,D,$){if(typeof q=="object")return s.each(q,function(B,W){G===2?U(G,B,D,$):U(G,W,B,D)});switch(G){case 0:v(D,"undo","redo","on")&&s.all(s.pick(D,"undo","redo","on"),s.isFunction)&&($[q]=D);break;case 1:$[q]&&s.isObject(D)&&($[q]=s.extend({},$[q],D));break;case 2:delete $[q];break}return this}var Z=l.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(G){w("undo",this.attributes)},redo:function(G){w("redo",this.attributes)}}),te=l.Collection.extend({model:Z,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(G){this.maximumStackLength=G}}),ee=l.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(G){this.stack=new te,this.objectRegistry=new y,this.undoTypes=new E,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(q,D){this.stack.setMaxLength(D)},this),G&&G.track&&this.startTracking(),G&&G.register&&(s.isArray(G.register)||s.isArguments(G.register)?f(this.register,this,G.register):this.register(G.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(G){M(this.stack,G,d(arguments,1),this.undoTypes)},register:function(){b("on",arguments,this._addToStack,this)},unregister:function(){b("off",arguments,this._addToStack,this)},unregisterAll:function(){f(this.unregister,this,this.objectRegistry.get())},undo:function(G){x("undo",this,this.stack,G)},undoAll:function(){x("undo",this,this.stack,!1,!0)},redo:function(G){x("redo",this,this.stack,G)},redoAll:function(){x("redo",this,this.stack,!1,!0)},isAvailable:function(G){var q=this.stack,D=q.length;switch(G){case"undo":return D>0&&q.pointer>-1;case"redo":return D>0&&q.pointer<D-1;default:return!1}},merge:function(G){for(var q=s.isArray(G)?G:d(arguments),D;D=q.pop();)D instanceof ee&&D.stack instanceof te&&(D.stack=this.stack)},addUndoType:function(G,q){U(0,G,q,this.undoTypes)},changeUndoType:function(G,q){U(1,G,q,this.undoTypes)},removeUndoType:function(G){U(2,G,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(ee,{defaults:function(G){s.extend(ee.prototype.defaults,G)},addUndoType:function(G,q){U(0,G,q,T)},changeUndoType:function(G,q){U(1,G,q,T)},removeUndoType:function(G){U(2,G,void 0,T)}}),l.UndoManager=ee})},4193:(o,r,e)=>{var t,n;(function(i){var s=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;t=[e(5706),e(6411),r],n=(function(l,u,f){s.Backbone=i(s,f,l,u)}).apply(r,t),n!==void 0&&(o.exports=n)})(function(i,s,l,u){var f=i.Backbone,d=Array.prototype.slice;s.VERSION="1.4.1",s.$=u,s.noConflict=function(){return i.Backbone=f,this},s.emulateHTTP=!1,s.emulateJSON=!1;var v=s.Events={},m=/\s+/,y,b=function(A,z,Y,pe,Ce){var J=0,me;if(Y&&typeof Y=="object")for(pe!==void 0&&("context"in Ce)&&Ce.context===void 0&&(Ce.context=pe),me=l.keys(Y);J<me.length;J++)z=b(A,z,me[J],Y[me[J]],Ce);else if(Y&&m.test(Y))for(me=Y.split(m);J<me.length;J++)z=A(z,me[J],pe,Ce);else z=A(z,Y,pe,Ce);return z};v.on=function(A,z,Y){if(this._events=b(w,this._events||{},A,z,{context:Y,ctx:this,listening:y}),y){var pe=this._listeners||(this._listeners={});pe[y.id]=y,y.interop=!1}return this},v.listenTo=function(A,z,Y){if(!A)return this;var pe=A._listenId||(A._listenId=l.uniqueId("l")),Ce=this._listeningTo||(this._listeningTo={}),J=y=Ce[pe];J||(this._listenId||(this._listenId=l.uniqueId("l")),J=y=Ce[pe]=new U(this,A));var me=x(A,z,Y,this);if(y=void 0,me)throw me;return J.interop&&J.on(z,Y),this};var w=function(A,z,Y,pe){if(Y){var Ce=A[z]||(A[z]=[]),J=pe.context,me=pe.ctx,fe=pe.listening;fe&&fe.count++,Ce.push({callback:Y,context:J,ctx:J||me,listening:fe})}return A},x=function(A,z,Y,pe){try{A.on(z,Y,pe)}catch(Ce){return Ce}};v.off=function(A,z,Y){return this._events?(this._events=b(O,this._events,A,z,{context:Y,listeners:this._listeners}),this):this},v.stopListening=function(A,z,Y){var pe=this._listeningTo;if(!pe)return this;for(var Ce=A?[A._listenId]:l.keys(pe),J=0;J<Ce.length;J++){var me=pe[Ce[J]];if(!me)break;me.obj.off(z,Y,this),me.interop&&me.off(z,Y)}return l.isEmpty(pe)&&(this._listeningTo=void 0),this};var O=function(A,z,Y,pe){if(A){var Ce=pe.context,J=pe.listeners,me=0,fe;if(!z&&!Ce&&!Y){for(fe=l.keys(J);me<fe.length;me++)J[fe[me]].cleanup();return}for(fe=z?[z]:l.keys(A);me<fe.length;me++){z=fe[me];var ut=A[z];if(!ut)break;for(var Ct=[],bt=0;bt<ut.length;bt++){var K=ut[bt];if(Y&&Y!==K.callback&&Y!==K.callback._callback||Ce&&Ce!==K.context)Ct.push(K);else{var ce=K.listening;ce&&ce.off(z,Y)}}Ct.length?A[z]=Ct:delete A[z]}return A}};v.once=function(A,z,Y){var pe=b(M,{},A,z,this.off.bind(this));return typeof A=="string"&&Y==null&&(z=void 0),this.on(pe,z,Y)},v.listenToOnce=function(A,z,Y){var pe=b(M,{},z,Y,this.stopListening.bind(this,A));return this.listenTo(A,pe)};var M=function(A,z,Y,pe){if(Y){var Ce=A[z]=l.once(function(){pe(z,Ce),Y.apply(this,arguments)});Ce._callback=Y}return A};v.trigger=function(A){if(!this._events)return this;for(var z=Math.max(0,arguments.length-1),Y=Array(z),pe=0;pe<z;pe++)Y[pe]=arguments[pe+1];return b(T,this._events,A,void 0,Y),this};var T=function(A,z,Y,pe){if(A){var Ce=A[z],J=A.all;Ce&&J&&(J=J.slice()),Ce&&E(Ce,pe),J&&E(J,[z].concat(pe))}return A},E=function(A,z){var Y,pe=-1,Ce=A.length,J=z[0],me=z[1],fe=z[2];switch(z.length){case 0:for(;++pe<Ce;)(Y=A[pe]).callback.call(Y.ctx);return;case 1:for(;++pe<Ce;)(Y=A[pe]).callback.call(Y.ctx,J);return;case 2:for(;++pe<Ce;)(Y=A[pe]).callback.call(Y.ctx,J,me);return;case 3:for(;++pe<Ce;)(Y=A[pe]).callback.call(Y.ctx,J,me,fe);return;default:for(;++pe<Ce;)(Y=A[pe]).callback.apply(Y.ctx,z);return}},U=function(A,z){this.id=A._listenId,this.listener=A,this.obj=z,this.interop=!0,this.count=0,this._events=void 0};U.prototype.on=v.on,U.prototype.off=function(A,z){var Y;this.interop?(this._events=b(O,this._events,A,z,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},U.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},v.bind=v.on,v.unbind=v.off,l.extend(s,v);var Z=s.Model=function(A,z){var Y=A||{};z||(z={}),this.preinitialize.apply(this,arguments),this.cid=l.uniqueId(this.cidPrefix),this.attributes={},z.collection&&(this.collection=z.collection),z.parse&&(Y=this.parse(Y,z)||{});var pe=l.result(this,"defaults");Y=l.defaults(l.extend({},pe,Y),pe),this.set(Y,z),this.changed={},this.initialize.apply(this,arguments)};l.extend(Z.prototype,v,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return l.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return l.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!l.iteratee(A,this)(this.attributes)},set:function(A,z,Y){if(A==null)return this;var pe;if(typeof A=="object"?(pe=A,Y=z):(pe={})[A]=z,Y||(Y={}),!this._validate(pe,Y))return!1;var Ce=Y.unset,J=Y.silent,me=[],fe=this._changing;this._changing=!0,fe||(this._previousAttributes=l.clone(this.attributes),this.changed={});var ut=this.attributes,Ct=this.changed,bt=this._previousAttributes;for(var K in pe)z=pe[K],l.isEqual(ut[K],z)||me.push(K),l.isEqual(bt[K],z)?delete Ct[K]:Ct[K]=z,Ce?delete ut[K]:ut[K]=z;if(this.idAttribute in pe){var ce=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ce,Y)}if(!J){me.length&&(this._pending=Y);for(var j=0;j<me.length;j++)this.trigger("change:"+me[j],this,ut[me[j]],Y)}if(fe)return this;if(!J)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(A,z){return this.set(A,void 0,l.extend({},z,{unset:!0}))},clear:function(A){var z={};for(var Y in this.attributes)z[Y]=void 0;return this.set(z,l.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!l.isEmpty(this.changed):l.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?l.clone(this.changed):!1;var z=this._changing?this._previousAttributes:this.attributes,Y={},pe;for(var Ce in A){var J=A[Ce];l.isEqual(z[Ce],J)||(Y[Ce]=J,pe=!0)}return pe?Y:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(A){A=l.extend({parse:!0},A);var z=this,Y=A.success;return A.success=function(pe){var Ce=A.parse?z.parse(pe,A):pe;if(!z.set(Ce,A))return!1;Y&&Y.call(A.context,z,pe,A),z.trigger("sync",z,pe,A)},st(this,A),this.sync("read",this,A)},save:function(A,z,Y){var pe;A==null||typeof A=="object"?(pe=A,Y=z):(pe={})[A]=z,Y=l.extend({validate:!0,parse:!0},Y);var Ce=Y.wait;if(pe&&!Ce){if(!this.set(pe,Y))return!1}else if(!this._validate(pe,Y))return!1;var J=this,me=Y.success,fe=this.attributes;Y.success=function(bt){J.attributes=fe;var K=Y.parse?J.parse(bt,Y):bt;if(Ce&&(K=l.extend({},pe,K)),K&&!J.set(K,Y))return!1;me&&me.call(Y.context,J,bt,Y),J.trigger("sync",J,bt,Y)},st(this,Y),pe&&Ce&&(this.attributes=l.extend({},fe,pe));var ut=this.isNew()?"create":Y.patch?"patch":"update";ut==="patch"&&!Y.attrs&&(Y.attrs=pe);var Ct=this.sync(ut,this,Y);return this.attributes=fe,Ct},destroy:function(A){A=A?l.clone(A):{};var z=this,Y=A.success,pe=A.wait,Ce=function(){z.stopListening(),z.trigger("destroy",z,z.collection,A)};A.success=function(me){pe&&Ce(),Y&&Y.call(A.context,z,me,A),z.isNew()||z.trigger("sync",z,me,A)};var J=!1;return this.isNew()?l.defer(A.success):(st(this,A),J=this.sync("delete",this,A)),pe||Ce(),J},url:function(){var A=l.result(this,"urlRoot")||l.result(this.collection,"url")||dt();if(this.isNew())return A;var z=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(z)},parse:function(A,z){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},l.extend({},A,{validate:!0}))},_validate:function(A,z){if(!z.validate||!this.validate)return!0;A=l.extend({},this.attributes,A);var Y=this.validationError=this.validate(A,z)||null;return Y?(this.trigger("invalid",this,Y,l.extend(z,{validationError:Y})),!1):!0}});var te=s.Collection=function(A,z){z||(z={}),this.preinitialize.apply(this,arguments),z.model&&(this.model=z.model),z.comparator!==void 0&&(this.comparator=z.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,l.extend({silent:!0},z))},ee={add:!0,remove:!0,merge:!0},G={add:!0,remove:!1},q=function(A,z,Y){Y=Math.min(Math.max(Y,0),A.length);var pe=Array(A.length-Y),Ce=z.length,J;for(J=0;J<pe.length;J++)pe[J]=A[J+Y];for(J=0;J<Ce;J++)A[J+Y]=z[J];for(J=0;J<pe.length;J++)A[J+Ce+Y]=pe[J]};l.extend(te.prototype,v,{model:Z,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(z){return z.toJSON(A)})},sync:function(){return s.sync.apply(this,arguments)},add:function(A,z){return this.set(A,l.extend({merge:!1},z,G))},remove:function(A,z){z=l.extend({},z);var Y=!l.isArray(A);A=Y?[A]:A.slice();var pe=this._removeModels(A,z);return!z.silent&&pe.length&&(z.changes={added:[],merged:[],removed:pe},this.trigger("update",this,z)),Y?pe[0]:pe},set:function(A,z){if(A!=null){z=l.extend({},ee,z),z.parse&&!this._isModel(A)&&(A=this.parse(A,z)||[]);var Y=!l.isArray(A);A=Y?[A]:A.slice();var pe=z.at;pe!=null&&(pe=+pe),pe>this.length&&(pe=this.length),pe<0&&(pe+=this.length+1);var Ce=[],J=[],me=[],fe=[],ut={},Ct=z.add,bt=z.merge,K=z.remove,ce=!1,j=this.comparator&&pe==null&&z.sort!==!1,Ae=l.isString(this.comparator)?this.comparator:null,be,Ue;for(Ue=0;Ue<A.length;Ue++){be=A[Ue];var it=this.get(be);if(it){if(bt&&be!==it){var nt=this._isModel(be)?be.attributes:be;z.parse&&(nt=it.parse(nt,z)),it.set(nt,z),me.push(it),j&&!ce&&(ce=it.hasChanged(Ae))}ut[it.cid]||(ut[it.cid]=!0,Ce.push(it)),A[Ue]=it}else Ct&&(be=A[Ue]=this._prepareModel(be,z),be&&(J.push(be),this._addReference(be,z),ut[be.cid]=!0,Ce.push(be)))}if(K){for(Ue=0;Ue<this.length;Ue++)be=this.models[Ue],ut[be.cid]||fe.push(be);fe.length&&this._removeModels(fe,z)}var Qe=!1,pt=!j&&Ct&&K;if(Ce.length&&pt?(Qe=this.length!==Ce.length||l.some(this.models,function(At,Rt){return At!==Ce[Rt]}),this.models.length=0,q(this.models,Ce,0),this.length=this.models.length):J.length&&(j&&(ce=!0),q(this.models,J,pe??this.length),this.length=this.models.length),ce&&this.sort({silent:!0}),!z.silent){for(Ue=0;Ue<J.length;Ue++)pe!=null&&(z.index=pe+Ue),be=J[Ue],be.trigger("add",be,this,z);(ce||Qe)&&this.trigger("sort",this,z),(J.length||fe.length||me.length)&&(z.changes={added:J,removed:fe,merged:me},this.trigger("update",this,z))}return Y?A[0]:A}},reset:function(A,z){z=z?l.clone(z):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],z);return z.previousModels=this.models,this._reset(),A=this.add(A,l.extend({silent:!0},z)),z.silent||this.trigger("reset",this,z),A},push:function(A,z){return this.add(A,l.extend({at:this.length},z))},pop:function(A){var z=this.at(this.length-1);return this.remove(z,A)},unshift:function(A,z){return this.add(A,l.extend({at:0},z))},shift:function(A){var z=this.at(0);return this.remove(z,A)},slice:function(){return d.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,z){return this[z?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var z=this.comparator;if(!z)throw new Error("Cannot sort a set without a comparator");A||(A={});var Y=z.length;return l.isFunction(z)&&(z=z.bind(this)),Y===1||l.isString(z)?this.models=this.sortBy(z):this.models.sort(z),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=l.extend({parse:!0},A);var z=A.success,Y=this;return A.success=function(pe){var Ce=A.reset?"reset":"set";Y[Ce](pe,A),z&&z.call(A.context,Y,pe,A),Y.trigger("sync",Y,pe,A)},st(this,A),this.sync("read",this,A)},create:function(A,z){z=z?l.clone(z):{};var Y=z.wait;if(A=this._prepareModel(A,z),!A)return!1;Y||this.add(A,z);var pe=this,Ce=z.success;return z.success=function(J,me,fe){Y&&pe.add(J,fe),Ce&&Ce.call(fe.context,J,me,fe)},A.save(null,z),A},parse:function(A,z){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,z){return A[z||this.model.prototype.idAttribute||"id"]},values:function(){return new $(this,B)},keys:function(){return new $(this,W)},entries:function(){return new $(this,X)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,z){if(this._isModel(A))return A.collection||(A.collection=this),A;z=z?l.clone(z):{},z.collection=this;var Y;return this.model.prototype?Y=new this.model(A,z):Y=this.model(A,z),Y.validationError?(this.trigger("invalid",this,Y.validationError,z),!1):Y},_removeModels:function(A,z){for(var Y=[],pe=0;pe<A.length;pe++){var Ce=this.get(A[pe]);if(Ce){var J=this.indexOf(Ce);this.models.splice(J,1),this.length--,delete this._byId[Ce.cid];var me=this.modelId(Ce.attributes,Ce.idAttribute);me!=null&&delete this._byId[me],z.silent||(z.index=J,Ce.trigger("remove",Ce,this,z)),Y.push(Ce),this._removeReference(Ce,z)}}return Y},_isModel:function(A){return A instanceof Z},_addReference:function(A,z){this._byId[A.cid]=A;var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&(this._byId[Y]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,z){delete this._byId[A.cid];var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&delete this._byId[Y],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,z,Y,pe){if(z){if((A==="add"||A==="remove")&&Y!==this)return;if(A==="destroy"&&this.remove(z,pe),A==="changeId"){var Ce=this.modelId(z.previousAttributes(),z.idAttribute),J=this.modelId(z.attributes,z.idAttribute);Ce!=null&&delete this._byId[Ce],J!=null&&(this._byId[J]=z)}}this.trigger.apply(this,arguments)}});var D=typeof Symbol=="function"&&Symbol.iterator;D&&(te.prototype[D]=te.prototype.values);var $=function(A,z){this._collection=A,this._kind=z,this._index=0},B=1,W=2,X=3;D&&($.prototype[D]=function(){return this}),$.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var z;if(this._kind===B)z=A;else{var Y=this._collection.modelId(A.attributes,A.idAttribute);this._kind===W?z=Y:z=[Y,A]}return{value:z,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var V=s.View=function(A){this.cid=l.uniqueId("view"),this.preinitialize.apply(this,arguments),l.extend(this,l.pick(A,ue)),this._ensureElement(),this.initialize.apply(this,arguments)},_e=/^(\S+)\s*(.*)$/,ue=["model","collection","el","id","attributes","className","tagName","events"];l.extend(V.prototype,v,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof s.$?A:s.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=l.result(this,"events")),!A)return this;this.undelegateEvents();for(var z in A){var Y=A[z];if(l.isFunction(Y)||(Y=this[Y]),!!Y){var pe=z.match(_e);this.delegate(pe[1],pe[2],Y.bind(this))}}return this},delegate:function(A,z,Y){return this.$el.on(A+".delegateEvents"+this.cid,z,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,z,Y){return this.$el.off(A+".delegateEvents"+this.cid,z,Y),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(l.result(this,"el"));else{var A=l.extend({},l.result(this,"attributes"));this.id&&(A.id=l.result(this,"id")),this.className&&(A.class=l.result(this,"className")),this.setElement(this._createElement(l.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var Ve=function(A,z,Y,pe){switch(z){case 1:return function(){return A[Y](this[pe])};case 2:return function(Ce){return A[Y](this[pe],Ce)};case 3:return function(Ce,J){return A[Y](this[pe],N(Ce,this),J)};case 4:return function(Ce,J,me){return A[Y](this[pe],N(Ce,this),J,me)};default:return function(){var Ce=d.call(arguments);return Ce.unshift(this[pe]),A[Y].apply(A,Ce)}}},le=function(A,z,Y,pe){l.each(Y,function(Ce,J){z[J]&&(A.prototype[J]=Ve(z,Ce,J,pe))})},N=function(A,z){return l.isFunction(A)?A:l.isObject(A)&&!z._isModel(A)?xe(A):l.isString(A)?function(Y){return Y.get(A)}:A},xe=function(A){var z=l.matches(A);return function(Y){return z(Y.attributes)}},Oe={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ge={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};l.each([[te,Oe,"models"],[Z,ge,"attributes"]],function(A){var z=A[0],Y=A[1],pe=A[2];z.mixin=function(Ce){var J=l.reduce(l.functions(Ce),function(me,fe){return me[fe]=0,me},{});le(z,Ce,J,pe)},le(z,l,Y,pe)}),s.sync=function(A,z,Y){var pe=Be[A];l.defaults(Y||(Y={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var Ce={type:pe,dataType:"json"};if(Y.url||(Ce.url=l.result(z,"url")||dt()),Y.data==null&&z&&(A==="create"||A==="update"||A==="patch")&&(Ce.contentType="application/json",Ce.data=JSON.stringify(Y.attrs||z.toJSON(Y))),Y.emulateJSON&&(Ce.contentType="application/x-www-form-urlencoded",Ce.data=Ce.data?{model:Ce.data}:{}),Y.emulateHTTP&&(pe==="PUT"||pe==="DELETE"||pe==="PATCH")){Ce.type="POST",Y.emulateJSON&&(Ce.data._method=pe);var J=Y.beforeSend;Y.beforeSend=function(ut){if(ut.setRequestHeader("X-HTTP-Method-Override",pe),J)return J.apply(this,arguments)}}Ce.type!=="GET"&&!Y.emulateJSON&&(Ce.processData=!1);var me=Y.error;Y.error=function(ut,Ct,bt){Y.textStatus=Ct,Y.errorThrown=bt,me&&me.call(Y.context,ut,Ct,bt)};var fe=Y.xhr=s.ajax(l.extend(Ce,Y));return z.trigger("request",z,fe,Y),fe};var Be={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var ze=s.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Me=/\((.*?)\)/g,Ne=/(\(\?)?:\w+/g,Je=/\*\w+/g,at=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(ze.prototype,v,{preinitialize:function(){},initialize:function(){},route:function(A,z,Y){l.isRegExp(A)||(A=this._routeToRegExp(A)),l.isFunction(z)&&(Y=z,z=""),Y||(Y=this[z]);var pe=this;return s.history.route(A,function(Ce){var J=pe._extractParameters(A,Ce);pe.execute(Y,J,z)!==!1&&(pe.trigger.apply(pe,["route:"+z].concat(J)),pe.trigger("route",z,J),s.history.trigger("route",pe,z,J))}),this},execute:function(A,z,Y){A&&A.apply(this,z)},navigate:function(A,z){return s.history.navigate(A,z),this},_bindRoutes:function(){if(this.routes){this.routes=l.result(this,"routes");for(var A,z=l.keys(this.routes);(A=z.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(at,"\\$&").replace(Me,"(?:$1)?").replace(Ne,function(z,Y){return Y?z:"([^/?]+)"}).replace(Je,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,z){var Y=A.exec(z).slice(1);return l.map(Y,function(pe,Ce){return Ce===Y.length-1?pe||null:pe?decodeURIComponent(pe):null})}});var ae=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},Se=/^[#\/]|\s+$/g,Ze=/^\/+|\/+$/g,Ie=/#.*$/;ae.started=!1,l.extend(ae.prototype,v,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),z=A.slice(0,this.root.length-1)+"/";return z===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var z=(A||this).location.href.match(/#(.*)$/);return z?z[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(Se,"")},start:function(A){if(ae.started)throw new Error("Backbone.history has already been started");if(ae.started=!0,this.options=l.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ze,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var z=this.root.slice(0,-1)||"/";return this.location.replace(z+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,pe=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;pe.document.open(),pe.document.close(),pe.location.hash="#"+this.fragment}var Ce=window.addEventListener||function(J,me){return attachEvent("on"+J,me)};if(this._usePushState?Ce("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ce("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(z,Y){return detachEvent("on"+z,Y)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ae.started=!1},route:function(A,z){this.handlers.unshift({route:A,callback:z})},checkUrl:function(A){var z=this.getFragment();if(z===this.fragment&&this.iframe&&(z=this.getHash(this.iframe.contentWindow)),z===this.fragment)return!1;this.iframe&&this.navigate(z),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),l.some(this.handlers,function(z){if(z.route.test(A))return z.callback(A),!0})):!1},navigate:function(A,z){if(!ae.started)return!1;(!z||z===!0)&&(z={trigger:!!z}),A=this.getFragment(A||"");var Y=this.root;(A===""||A.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var pe=Y+A;A=A.replace(Ie,"");var Ce=this.decodeFragment(A);if(this.fragment!==Ce){if(this.fragment=Ce,this._usePushState)this.history[z.replace?"replaceState":"pushState"]({},document.title,pe);else if(this._wantsHashChange){if(this._updateHash(this.location,A,z.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var J=this.iframe.contentWindow;z.replace||(J.document.open(),J.document.close()),this._updateHash(J.location,A,z.replace)}}else return this.location.assign(pe);if(z.trigger)return this.loadUrl(A)}},_updateHash:function(A,z,Y){if(Y){var pe=A.href.replace(/(javascript:|#).*$/,"");A.replace(pe+"#"+z)}else A.hash="#"+z}}),s.history=new ae;var ot=function(A,z){var Y=this,pe;return A&&l.has(A,"constructor")?pe=A.constructor:pe=function(){return Y.apply(this,arguments)},l.extend(pe,Y,z),pe.prototype=l.create(Y.prototype,A),pe.prototype.constructor=pe,pe.__super__=Y.prototype,pe};Z.extend=te.extend=ze.extend=V.extend=ae.extend=ot;var dt=function(){throw new Error('A "url" property or function must be specified')},st=function(A,z){var Y=z.error;z.error=function(pe){Y&&Y.call(z.context,A,pe,z),A.trigger("error",A,pe,z)}};return s})},3640:(o,r,e)=>{(function(t){t(e(4408))})(function(t){t.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s){return/^[;{}]$/.test(s)}}),t.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s,l,u){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(l):s==";"&&u.lexical&&u.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(l)}});var n=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;t.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,s,l,u){var f=!1;return this.configuration=="html"&&(f=u.context?n.test(u.context.tagName):!1),!f&&(i=="tag"&&/>$/.test(s)&&u.context||/^</.test(l))}}),t.defineExtension("commentRange",function(i,s,l){var u=this,f=t.innerMode(u.getMode(),u.getTokenAt(s).state).mode;u.operation(function(){if(i)u.replaceRange(f.commentEnd,l),u.replaceRange(f.commentStart,s),s.line==l.line&&s.ch==l.ch&&u.setCursor(s.line,s.ch+f.commentStart.length);else{var d=u.getRange(s,l),v=d.indexOf(f.commentStart),m=d.lastIndexOf(f.commentEnd);v>-1&&m>-1&&m>v&&(d=d.substr(0,v)+d.substring(v+f.commentStart.length,m)+d.substr(m+f.commentEnd.length)),u.replaceRange(d,s,l)}})}),t.defineExtension("autoIndentRange",function(i,s){var l=this;this.operation(function(){for(var u=i.line;u<=s.line;u++)l.indentLine(u,"smart")})}),t.defineExtension("autoFormatRange",function(i,s){var l=this,u=l.getMode(),f=l.getRange(i,s).split(`
`),d=t.copyState(u,l.getTokenAt(i).state),v=l.getOption("tabSize"),m="",y=0,b=i.ch===0;function w(){m+=`
`,b=!0,++y}for(var x=0;x<f.length;++x){for(var O=new t.StringStream(f[x],v);!O.eol();){var M=t.innerMode(u,d),T=u.token(O,d),E=O.current();O.start=O.pos,(!b||/\S/.test(E))&&(m+=E,b=!1),!b&&M.mode.newlineAfterToken&&M.mode.newlineAfterToken(T,E,O.string.slice(O.pos)||f[x+1]||"",M.state)&&w()}!O.pos&&u.blankLine&&u.blankLine(d),!b&&x<f.length-1&&w()}l.operation(function(){l.replaceRange(m,i,s);for(var U=i.line+1,Z=i.line+y;U<=Z;++U)l.indentLine(U,"smart");l.setSelection(i,l.getCursor(!1))})})})},4408:function(o){(function(r,e){o.exports=e()})(this,function(){var r=navigator.userAgent,e=navigator.platform,t=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),s=/Edge\/(\d+)/.exec(r),l=n||i||s,u=l&&(n?document.documentMode||6:+(s||i)[1]),f=!s&&/WebKit\//.test(r),d=f&&/Qt\/\d+\.\d+/.test(r),v=!s&&/Chrome\//.test(r),m=/Opera\//.test(r),y=/Apple Computer/.test(navigator.vendor),b=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),w=/PhantomJS/.test(r),x=y&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),O=/Android/.test(r),M=x||O||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),T=x||/Mac/.test(e),E=/\bCrOS\b/.test(r),U=/win/i.test(e),Z=m&&r.match(/Version\/(\d*\.\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(m=!1,f=!0);var te=T&&(d||m&&(Z==null||Z<12.11)),ee=t||l&&u>=9;function G(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var q=function(a,c){var h=a.className,p=G(c).exec(h);if(p){var g=h.slice(p.index+p[0].length);a.className=h.slice(0,p.index)+(g?p[1]+g:"")}};function D(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function $(a,c){return D(a).appendChild(c)}function B(a,c,h,p){var g=document.createElement(a);if(h&&(g.className=h),p&&(g.style.cssText=p),typeof c=="string")g.appendChild(document.createTextNode(c));else if(c)for(var _=0;_<c.length;++_)g.appendChild(c[_]);return g}function W(a,c,h,p){var g=B(a,c,h,p);return g.setAttribute("role","presentation"),g}var X;document.createRange?X=function(a,c,h,p){var g=document.createRange();return g.setEnd(p||a,h),g.setStart(a,c),g}:X=function(a,c,h){var p=document.body.createTextRange();try{p.moveToElementText(a.parentNode)}catch{return p}return p.collapse(!0),p.moveEnd("character",h),p.moveStart("character",c),p};function V(a,c){if(c.nodeType==3&&(c=c.parentNode),a.contains)return a.contains(c);do if(c.nodeType==11&&(c=c.host),c==a)return!0;while(c=c.parentNode)}function _e(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function ue(a,c){var h=a.className;G(c).test(h)||(a.className+=(h?" ":"")+c)}function Ve(a,c){for(var h=a.split(" "),p=0;p<h.length;p++)h[p]&&!G(h[p]).test(c)&&(c+=" "+h[p]);return c}var le=function(a){a.select()};x?le=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:l&&(le=function(a){try{a.select()}catch{}});function N(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function xe(a,c,h){c||(c={});for(var p in a)a.hasOwnProperty(p)&&(h!==!1||!c.hasOwnProperty(p))&&(c[p]=a[p]);return c}function Oe(a,c,h,p,g){c==null&&(c=a.search(/[^\s\u00a0]/),c==-1&&(c=a.length));for(var _=p||0,C=g||0;;){var S=a.indexOf("	",_);if(S<0||S>=c)return C+(c-_);C+=S-_,C+=h-C%h,_=S+1}}var ge=function(){this.id=null,this.f=null,this.time=0,this.handler=N(this.onTimeout,this)};ge.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},ge.prototype.set=function(a,c){this.f=c;var h=+new Date+a;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=h)};function Be(a,c){for(var h=0;h<a.length;++h)if(a[h]==c)return h;return-1}var ze=50,Me={toString:function(){return"CodeMirror.Pass"}},Ne={scroll:!1},Je={origin:"*mouse"},at={origin:"+move"};function ae(a,c,h){for(var p=0,g=0;;){var _=a.indexOf("	",p);_==-1&&(_=a.length);var C=_-p;if(_==a.length||g+C>=c)return p+Math.min(C,c-g);if(g+=_-p,g+=h-g%h,p=_+1,g>=c)return p}}var Se=[""];function Ze(a){for(;Se.length<=a;)Se.push(Ie(Se)+" ");return Se[a]}function Ie(a){return a[a.length-1]}function ot(a,c){for(var h=[],p=0;p<a.length;p++)h[p]=c(a[p],p);return h}function dt(a,c,h){for(var p=0,g=h(c);p<a.length&&h(a[p])<=g;)p++;a.splice(p,0,c)}function st(){}function A(a,c){var h;return Object.create?h=Object.create(a):(st.prototype=a,h=new st),c&&xe(c,h),h}var z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||z.test(a))}function pe(a,c){return c?c.source.indexOf("\\w")>-1&&Y(a)?!0:c.test(a):Y(a)}function Ce(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var J=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function me(a){return a.charCodeAt(0)>=768&&J.test(a)}function fe(a,c,h){for(;(h<0?c>0:c<a.length)&&me(a.charAt(c));)c+=h;return c}function ut(a,c,h){for(var p=c>h?-1:1;;){if(c==h)return c;var g=(c+h)/2,_=p<0?Math.ceil(g):Math.floor(g);if(_==c)return a(_)?c:h;a(_)?h=_:c=_+p}}function Ct(a,c,h,p){if(!a)return p(c,h,"ltr",0);for(var g=!1,_=0;_<a.length;++_){var C=a[_];(C.from<h&&C.to>c||c==h&&C.to==c)&&(p(Math.max(C.from,c),Math.min(C.to,h),C.level==1?"rtl":"ltr",_),g=!0)}g||p(c,h,"ltr")}var bt=null;function K(a,c,h){var p;bt=null;for(var g=0;g<a.length;++g){var _=a[g];if(_.from<c&&_.to>c)return g;_.to==c&&(_.from!=_.to&&h=="before"?p=g:bt=g),_.from==c&&(_.from!=_.to&&h!="before"?p=g:bt=g)}return p??bt}var ce=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function h(I){return I<=247?a.charAt(I):1424<=I&&I<=1524?"R":1536<=I&&I<=1785?c.charAt(I-1536):1774<=I&&I<=2220?"r":8192<=I&&I<=8203?"w":I==8204?"b":"L"}var p=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,_=/[LRr]/,C=/[Lb1n]/,S=/[1n]/;function P(I,Q,oe){this.level=I,this.from=Q,this.to=oe}return function(I,Q){var oe=Q=="ltr"?"L":"R";if(I.length==0||Q=="ltr"&&!p.test(I))return!1;for(var ye=I.length,de=[],Te=0;Te<ye;++Te)de.push(h(I.charCodeAt(Te)));for(var Fe=0,Ke=oe;Fe<ye;++Fe){var tt=de[Fe];tt=="m"?de[Fe]=Ke:Ke=tt}for(var lt=0,rt=oe;lt<ye;++lt){var ft=de[lt];ft=="1"&&rt=="r"?de[lt]="n":_.test(ft)&&(rt=ft,ft=="r"&&(de[lt]="R"))}for(var _t=1,mt=de[0];_t<ye-1;++_t){var Mt=de[_t];Mt=="+"&&mt=="1"&&de[_t+1]=="1"?de[_t]="1":Mt==","&&mt==de[_t+1]&&(mt=="1"||mt=="n")&&(de[_t]=mt),mt=Mt}for(var Jt=0;Jt<ye;++Jt){var Kr=de[Jt];if(Kr==",")de[Jt]="N";else if(Kr=="%"){var vr=void 0;for(vr=Jt+1;vr<ye&&de[vr]=="%";++vr);for(var Hn=Jt&&de[Jt-1]=="!"||vr<ye&&de[vr]=="1"?"1":"N",Cn=Jt;Cn<vr;++Cn)de[Cn]=Hn;Jt=vr-1}}for(var Ir=0,Sn=oe;Ir<ye;++Ir){var Yr=de[Ir];Sn=="L"&&Yr=="1"?de[Ir]="L":_.test(Yr)&&(Sn=Yr)}for(var Fr=0;Fr<ye;++Fr)if(g.test(de[Fr])){var $r=void 0;for($r=Fr+1;$r<ye&&g.test(de[$r]);++$r);for(var br=(Fr?de[Fr-1]:oe)=="L",On=($r<ye?de[$r]:oe)=="L",Ds=br==On?br?"L":"R":oe,ta=Fr;ta<$r;++ta)de[ta]=Ds;Fr=$r-1}for(var rn=[],Wo,Gr=0;Gr<ye;)if(C.test(de[Gr])){var yh=Gr;for(++Gr;Gr<ye&&C.test(de[Gr]);++Gr);rn.push(new P(0,yh,Gr))}else{var mi=Gr,ja=rn.length,Ra=Q=="rtl"?1:0;for(++Gr;Gr<ye&&de[Gr]!="L";++Gr);for(var pn=mi;pn<Gr;)if(S.test(de[pn])){mi<pn&&(rn.splice(ja,0,new P(1,mi,pn)),ja+=Ra);var Ls=pn;for(++pn;pn<Gr&&S.test(de[pn]);++pn);rn.splice(ja,0,new P(2,Ls,pn)),ja+=Ra,mi=pn}else++pn;mi<Gr&&rn.splice(ja,0,new P(1,mi,Gr))}return Q=="ltr"&&(rn[0].level==1&&(Wo=I.match(/^\s+/))&&(rn[0].from=Wo[0].length,rn.unshift(new P(0,0,Wo[0].length))),Ie(rn).level==1&&(Wo=I.match(/\s+$/))&&(Ie(rn).to-=Wo[0].length,rn.push(new P(0,ye-Wo[0].length,ye)))),Q=="rtl"?rn.reverse():rn}}();function j(a,c){var h=a.order;return h==null&&(h=a.order=ce(a.text,c)),h}var Ae=[],be=function(a,c,h){if(a.addEventListener)a.addEventListener(c,h,!1);else if(a.attachEvent)a.attachEvent("on"+c,h);else{var p=a._handlers||(a._handlers={});p[c]=(p[c]||Ae).concat(h)}};function Ue(a,c){return a._handlers&&a._handlers[c]||Ae}function it(a,c,h){if(a.removeEventListener)a.removeEventListener(c,h,!1);else if(a.detachEvent)a.detachEvent("on"+c,h);else{var p=a._handlers,g=p&&p[c];if(g){var _=Be(g,h);_>-1&&(p[c]=g.slice(0,_).concat(g.slice(_+1)))}}}function nt(a,c){var h=Ue(a,c);if(h.length)for(var p=Array.prototype.slice.call(arguments,2),g=0;g<h.length;++g)h[g].apply(null,p)}function Qe(a,c,h){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),nt(a,h||c.type,a,c),Lr(c)||c.codemirrorIgnore}function pt(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var h=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),p=0;p<c.length;++p)Be(h,c[p])==-1&&h.push(c[p])}function At(a,c){return Ue(a,c).length>0}function Rt(a){a.prototype.on=function(c,h){be(this,c,h)},a.prototype.off=function(c,h){it(this,c,h)}}function $t(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function hr(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Lr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function H(a){$t(a),hr(a)}function ie(a){return a.target||a.srcElement}function he(a){var c=a.which;return c==null&&(a.button&1?c=1:a.button&2?c=3:a.button&4&&(c=2)),T&&a.ctrlKey&&c==1&&(c=3),c}var De=function(){if(l&&u<9)return!1;var a=B("div");return"draggable"in a||"dragDrop"in a}(),Ye;function gt(a){if(Ye==null){var c=B("span","");$(a,B("span",[c,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(Ye=c.offsetWidth<=1&&c.offsetHeight>2&&!(l&&u<8))}var h=Ye?B("span",""):B("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}var St;function tr(a){if(St!=null)return St;var c=$(a,document.createTextNode("AA")),h=X(c,0,1).getBoundingClientRect(),p=X(c,1,2).getBoundingClientRect();return D(a),!h||h.left==h.right?!1:St=p.right-h.right<3}var Sr=`

b`.split(/\n/).length!=3?function(a){for(var c=0,h=[],p=a.length;c<=p;){var g=a.indexOf(`
`,c);g==-1&&(g=a.length);var _=a.slice(c,a.charAt(g-1)=="\r"?g-1:g),C=_.indexOf("\r");C!=-1?(h.push(_.slice(0,C)),c+=C+1):(h.push(_),c=g+1)}return h}:function(a){return a.split(/\r\n?|\n/)},rr=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=a?!1:c.compareEndPoints("StartToEnd",c)!=0},Yn=function(){var a=B("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),nr=null;function ln(a){if(nr!=null)return nr;var c=$(a,B("span","x")),h=c.getBoundingClientRect(),p=X(c,0,1).getBoundingClientRect();return nr=Math.abs(h.left-p.left)>1}var Dn={},zt={};function Or(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Dn[a]=c}function Nt(a,c){zt[a]=c}function Qr(a){if(typeof a=="string"&&zt.hasOwnProperty(a))a=zt[a];else if(a&&typeof a.name=="string"&&zt.hasOwnProperty(a.name)){var c=zt[a.name];typeof c=="string"&&(c={name:c}),a=A(c,a),a.name=c.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Qr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Qr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function wt(a,c){c=Qr(c);var h=Dn[c.name];if(!h)return wt(a,"text/plain");var p=h(a,c);if(Ln.hasOwnProperty(c.name)){var g=Ln[c.name];for(var _ in g)g.hasOwnProperty(_)&&(p.hasOwnProperty(_)&&(p["_"+_]=p[_]),p[_]=g[_])}if(p.name=c.name,c.helperType&&(p.helperType=c.helperType),c.modeProps)for(var C in c.modeProps)p[C]=c.modeProps[C];return p}var Ln={};function yn(a,c){var h=Ln.hasOwnProperty(a)?Ln[a]:Ln[a]={};xe(c,h)}function kr(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var h={};for(var p in c){var g=c[p];g instanceof Array&&(g=g.concat([])),h[p]=g}return h}function Ar(a,c){for(var h;a.innerMode&&(h=a.innerMode(c),!(!h||h.mode==a));)c=h.state,a=h.mode;return h||{mode:a,state:c}}function cn(a,c,h){return a.startState?a.startState(c,h):!0}var Wt=function(a,c,h){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};Wt.prototype.eol=function(){return this.pos>=this.string.length},Wt.prototype.sol=function(){return this.pos==this.lineStart},Wt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Wt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Wt.prototype.eat=function(a){var c=this.string.charAt(this.pos),h;if(typeof a=="string"?h=c==a:h=c&&(a.test?a.test(c):a(c)),h)return++this.pos,c},Wt.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},Wt.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Wt.prototype.skipToEnd=function(){this.pos=this.string.length},Wt.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},Wt.prototype.backUp=function(a){this.pos-=a},Wt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Oe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Oe(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.indentation=function(){return Oe(this.string,null,this.tabSize)-(this.lineStart?Oe(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.match=function(a,c,h){if(typeof a=="string"){var p=function(C){return h?C.toLowerCase():C},g=this.string.substr(this.pos,a.length);if(p(g)==p(a))return c!==!1&&(this.pos+=a.length),!0}else{var _=this.string.slice(this.pos).match(a);return _&&_.index>0?null:(_&&c!==!1&&(this.pos+=_[0].length),_)}},Wt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Wt.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},Wt.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},Wt.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function ct(a,c){if(c-=a.first,c<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var h=a;!h.lines;)for(var p=0;;++p){var g=h.children[p],_=g.chunkSize();if(c<_){h=g;break}c-=_}return h.lines[c]}function Hr(a,c,h){var p=[],g=c.line;return a.iter(c.line,h.line+1,function(_){var C=_.text;g==h.line&&(C=C.slice(0,h.ch)),g==c.line&&(C=C.slice(c.ch)),p.push(C),++g}),p}function sr(a,c,h){var p=[];return a.iter(c,h,function(g){p.push(g.text)}),p}function Ur(a,c){var h=c-a.height;if(h)for(var p=a;p;p=p.parent)p.height+=h}function jt(a){if(a.parent==null)return null;for(var c=a.parent,h=Be(c.lines,a),p=c.parent;p;c=p,p=p.parent)for(var g=0;p.children[g]!=c;++g)h+=p.children[g].chunkSize();return h+c.first}function Yt(a,c){var h=a.first;e:do{for(var p=0;p<a.children.length;++p){var g=a.children[p],_=g.height;if(c<_){a=g;continue e}c-=_,h+=g.chunkSize()}return h}while(!a.lines);for(var C=0;C<a.lines.length;++C){var S=a.lines[C],P=S.height;if(c<P)break;c-=P}return h+C}function jn(a,c){return c>=a.first&&c<a.first+a.size}function Jn(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function He(a,c,h){if(h===void 0&&(h=null),!(this instanceof He))return new He(a,c,h);this.line=a,this.ch=c,this.sticky=h}function yt(a,c){return a.line-c.line||a.ch-c.ch}function Qn(a,c){return a.sticky==c.sticky&&yt(a,c)==0}function R(a){return He(a.line,a.ch)}function re(a,c){return yt(a,c)<0?c:a}function Ee(a,c){return yt(a,c)<0?a:c}function We(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function qe(a,c){if(c.line<a.first)return He(a.first,0);var h=a.first+a.size-1;return c.line>h?He(h,ct(a,h).text.length):Pt(c,ct(a,c.line).text.length)}function Pt(a,c){var h=a.ch;return h==null||h>c?He(a.line,c):h<0?He(a.line,0):a}function Dt(a,c){for(var h=[],p=0;p<c.length;p++)h[p]=qe(a,c[p]);return h}var or=function(a,c){this.state=a,this.lookAhead=c},Kt=function(a,c,h,p){this.state=c,this.doc=a,this.line=h,this.maxLookAhead=p||0,this.baseTokens=null,this.baseTokenPos=1};Kt.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return c!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Kt.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Kt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Kt.fromSaved=function(a,c,h){return c instanceof or?new Kt(a,kr(a.mode,c.state),h,c.lookAhead):new Kt(a,kr(a.mode,c),h)},Kt.prototype.save=function(a){var c=a!==!1?kr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new or(c,this.maxLookAhead):c};function Rn(a,c,h,p){var g=[a.state.modeGen],_={};Uo(a,c.text,a.doc.mode,h,function(I,Q){return g.push(I,Q)},_,p);for(var C=h.state,S=function(I){h.baseTokens=g;var Q=a.state.overlays[I],oe=1,ye=0;h.state=!0,Uo(a,c.text,Q.mode,h,function(de,Te){for(var Fe=oe;ye<de;){var Ke=g[oe];Ke>de&&g.splice(oe,1,de,g[oe+1],Ke),oe+=2,ye=Math.min(de,Ke)}if(Te)if(Q.opaque)g.splice(Fe,oe-Fe,de,"overlay "+Te),oe=Fe+2;else for(;Fe<oe;Fe+=2){var tt=g[Fe+1];g[Fe+1]=(tt?tt+" ":"")+"overlay "+Te}},_),h.state=C,h.baseTokens=null,h.baseTokenPos=1},P=0;P<a.state.overlays.length;++P)S(P);return{styles:g,classes:_.bgClass||_.textClass?_:null}}function Di(a,c,h){if(!c.styles||c.styles[0]!=a.state.modeGen){var p=ai(a,jt(c)),g=c.text.length>a.options.maxHighlightLength&&kr(a.doc.mode,p.state),_=Rn(a,c,p);g&&(p.state=g),c.stateAfter=p.save(!g),c.styles=_.styles,_.classes?c.styleClasses=_.classes:c.styleClasses&&(c.styleClasses=null),h===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function ai(a,c,h){var p=a.doc,g=a.display;if(!p.mode.startState)return new Kt(p,!0,c);var _=ko(a,c,h),C=_>p.first&&ct(p,_-1).stateAfter,S=C?Kt.fromSaved(p,C,_):new Kt(p,cn(p.mode),_);return p.iter(_,c,function(P){si(a,P.text,S);var I=S.line;P.stateAfter=I==c-1||I%5==0||I>=g.viewFrom&&I<g.viewTo?S.save():null,S.nextLine()}),h&&(p.modeFrontier=S.line),S}function si(a,c,h,p){var g=a.doc.mode,_=new Wt(c,a.options.tabSize,h);for(_.start=_.pos=p||0,c==""&&li(g,h.state);!_.eol();)Ta(g,_,h.state),_.start=_.pos}function li(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var h=Ar(a,c);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function Ta(a,c,h,p){for(var g=0;g<10;g++){p&&(p[0]=Ar(a,h).mode);var _=a.token(c,h);if(c.pos>c.start)return _}throw new Error("Mode "+a.name+" failed to advance stream.")}var Li=function(a,c,h){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=h};function ji(a,c,h,p){var g=a.doc,_=g.mode,C;c=qe(g,c);var S=ct(g,c.line),P=ai(a,c.line,h),I=new Wt(S.text,a.options.tabSize,P),Q;for(p&&(Q=[]);(p||I.pos<c.ch)&&!I.eol();)I.start=I.pos,C=Ta(_,I,P.state),p&&Q.push(new Li(I,C,kr(g.mode,P.state)));return p?Q:new Li(I,C,P.state)}function ci(a,c){if(a)for(;;){var h=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;a=a.slice(0,h.index)+a.slice(h.index+h[0].length);var p=h[1]?"bgClass":"textClass";c[p]==null?c[p]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(c[p])||(c[p]+=" "+h[2])}return a}function Uo(a,c,h,p,g,_,C){var S=h.flattenSpans;S==null&&(S=a.options.flattenSpans);var P=0,I=null,Q=new Wt(c,a.options.tabSize,p),oe,ye=a.options.addModeClass&&[null];for(c==""&&ci(li(h,p.state),_);!Q.eol();){if(Q.pos>a.options.maxHighlightLength?(S=!1,C&&si(a,c,p,Q.pos),Q.pos=c.length,oe=null):oe=ci(Ta(h,Q,p.state,ye),_),ye){var de=ye[0].name;de&&(oe="m-"+(oe?de+" "+oe:de))}if(!S||I!=oe){for(;P<Q.start;)P=Math.min(Q.start,P+5e3),g(P,I);I=oe}Q.start=Q.pos}for(;P<Q.pos;){var Te=Math.min(Q.pos,P+5e3);g(Te,I),P=Te}}function ko(a,c,h){for(var p,g,_=a.doc,C=h?-1:c-(a.doc.mode.innerMode?1e3:100),S=c;S>C;--S){if(S<=_.first)return _.first;var P=ct(_,S-1),I=P.stateAfter;if(I&&(!h||S+(I instanceof or?I.lookAhead:0)<=_.modeFrontier))return S;var Q=Oe(P.text,null,a.options.tabSize);(g==null||p>Q)&&(g=S-1,p=Q)}return g}function Ri(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var h=a.first,p=c-1;p>h;p--){var g=ct(a,p).stateAfter;if(g&&(!(g instanceof or)||p+g.lookAhead<c)){h=p+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,h)}}var Mr=!1,jr=!1;function Ea(){Mr=!0}function eo(){jr=!0}function Ao(a,c,h){this.marker=a,this.from=c,this.to=h}function un(a,c){if(a)for(var h=0;h<a.length;++h){var p=a[h];if(p.marker==c)return p}}function Rr(a,c){for(var h,p=0;p<a.length;++p)a[p]!=c&&(h||(h=[])).push(a[p]);return h}function vs(a,c,h){var p=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));p&&p.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],p&&p.add(a.markedSpans)),c.marker.attachLine(a)}function Mo(a,c,h){var p;if(a)for(var g=0;g<a.length;++g){var _=a[g],C=_.marker,S=_.from==null||(C.inclusiveLeft?_.from<=c:_.from<c);if(S||_.from==c&&C.type=="bookmark"&&(!h||!_.marker.insertLeft)){var P=_.to==null||(C.inclusiveRight?_.to>=c:_.to>c);(p||(p=[])).push(new Ao(C,_.from,P?null:_.to))}}return p}function to(a,c,h){var p;if(a)for(var g=0;g<a.length;++g){var _=a[g],C=_.marker,S=_.to==null||(C.inclusiveRight?_.to>=c:_.to>c);if(S||_.from==c&&C.type=="bookmark"&&(!h||_.marker.insertLeft)){var P=_.from==null||(C.inclusiveLeft?_.from<=c:_.from<c);(p||(p=[])).push(new Ao(C,P?null:_.from-c,_.to==null?null:_.to-c))}}return p}function ui(a,c){if(c.full)return null;var h=jn(a,c.from.line)&&ct(a,c.from.line).markedSpans,p=jn(a,c.to.line)&&ct(a,c.to.line).markedSpans;if(!h&&!p)return null;var g=c.from.ch,_=c.to.ch,C=yt(c.from,c.to)==0,S=Mo(h,g,C),P=to(p,_,C),I=c.text.length==1,Q=Ie(c.text).length+(I?g:0);if(S)for(var oe=0;oe<S.length;++oe){var ye=S[oe];if(ye.to==null){var de=un(P,ye.marker);de?I&&(ye.to=de.to==null?null:de.to+Q):ye.to=g}}if(P)for(var Te=0;Te<P.length;++Te){var Fe=P[Te];if(Fe.to!=null&&(Fe.to+=Q),Fe.from==null){var Ke=un(S,Fe.marker);Ke||(Fe.from=Q,I&&(S||(S=[])).push(Fe))}else Fe.from+=Q,I&&(S||(S=[])).push(Fe)}S&&(S=ro(S)),P&&P!=S&&(P=ro(P));var tt=[S];if(!I){var lt=c.text.length-2,rt;if(lt>0&&S)for(var ft=0;ft<S.length;++ft)S[ft].to==null&&(rt||(rt=[])).push(new Ao(S[ft].marker,null,null));for(var _t=0;_t<lt;++_t)tt.push(rt);tt.push(P)}return tt}function ro(a){for(var c=0;c<a.length;++c){var h=a[c];h.from!=null&&h.from==h.to&&h.marker.clearWhenEmpty!==!1&&a.splice(c--,1)}return a.length?a:null}function no(a,c,h){var p=null;if(a.iter(c.line,h.line+1,function(de){if(de.markedSpans)for(var Te=0;Te<de.markedSpans.length;++Te){var Fe=de.markedSpans[Te].marker;Fe.readOnly&&(!p||Be(p,Fe)==-1)&&(p||(p=[])).push(Fe)}}),!p)return null;for(var g=[{from:c,to:h}],_=0;_<p.length;++_)for(var C=p[_],S=C.find(0),P=0;P<g.length;++P){var I=g[P];if(!(yt(I.to,S.from)<0||yt(I.from,S.to)>0)){var Q=[P,1],oe=yt(I.from,S.from),ye=yt(I.to,S.to);(oe<0||!C.inclusiveLeft&&!oe)&&Q.push({from:I.from,to:S.from}),(ye>0||!C.inclusiveRight&&!ye)&&Q.push({from:S.to,to:I.to}),g.splice.apply(g,Q),P+=Q.length-3}}return g}function Pa(a){var c=a.markedSpans;if(c){for(var h=0;h<c.length;++h)c[h].marker.detachLine(a);a.markedSpans=null}}function Ni(a,c){if(c){for(var h=0;h<c.length;++h)c[h].marker.attachLine(a);a.markedSpans=c}}function fi(a){return a.inclusiveLeft?-1:0}function go(a){return a.inclusiveRight?1:0}function di(a,c){var h=a.lines.length-c.lines.length;if(h!=0)return h;var p=a.find(),g=c.find(),_=yt(p.from,g.from)||fi(a)-fi(c);if(_)return-_;var C=yt(p.to,g.to)||go(a)-go(c);return C||c.id-a.id}function Vo(a,c){var h=jr&&a.markedSpans,p;if(h)for(var g=void 0,_=0;_<h.length;++_)g=h[_],g.marker.collapsed&&(c?g.from:g.to)==null&&(!p||di(p,g.marker)<0)&&(p=g.marker);return p}function vt(a){return Vo(a,!0)}function ht(a){return Vo(a,!1)}function Ht(a,c){var h=jr&&a.markedSpans,p;if(h)for(var g=0;g<h.length;++g){var _=h[g];_.marker.collapsed&&(_.from==null||_.from<c)&&(_.to==null||_.to>c)&&(!p||di(p,_.marker)<0)&&(p=_.marker)}return p}function xt(a,c,h,p,g){var _=ct(a,c),C=jr&&_.markedSpans;if(C)for(var S=0;S<C.length;++S){var P=C[S];if(P.marker.collapsed){var I=P.marker.find(0),Q=yt(I.from,h)||fi(P.marker)-fi(g),oe=yt(I.to,p)||go(P.marker)-go(g);if(!(Q>=0&&oe<=0||Q<=0&&oe>=0)&&(Q<=0&&(P.marker.inclusiveRight&&g.inclusiveLeft?yt(I.to,h)>=0:yt(I.to,h)>0)||Q>=0&&(P.marker.inclusiveRight&&g.inclusiveLeft?yt(I.from,p)<=0:yt(I.from,p)<0)))return!0}}}function lr(a){for(var c;c=vt(a);)a=c.find(-1,!0).line;return a}function Vr(a){for(var c;c=ht(a);)a=c.find(1,!0).line;return a}function fn(a){for(var c,h;c=ht(a);)a=c.find(1,!0).line,(h||(h=[])).push(a);return h}function mo(a,c){var h=ct(a,c),p=lr(h);return h==p?c:jt(p)}function _n(a,c){if(c>a.lastLine())return c;var h=ct(a,c),p;if(!bn(a,h))return c;for(;p=ht(h);)h=p.find(1,!0).line;return jt(h)+1}function bn(a,c){var h=jr&&c.markedSpans;if(h){for(var p=void 0,g=0;g<h.length;++g)if(p=h[g],!!p.marker.collapsed){if(p.from==null)return!0;if(!p.marker.widgetNode&&p.from==0&&p.marker.inclusiveLeft&&Nn(a,c,p))return!0}}}function Nn(a,c,h){if(h.to==null){var p=h.marker.find(1,!0);return Nn(a,p.line,un(p.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==c.text.length)return!0;for(var g=void 0,_=0;_<c.markedSpans.length;++_)if(g=c.markedSpans[_],g.marker.collapsed&&!g.marker.widgetNode&&g.from==h.to&&(g.to==null||g.to!=h.from)&&(g.marker.inclusiveLeft||h.marker.inclusiveRight)&&Nn(a,c,g))return!0}function yo(a){a=lr(a);for(var c=0,h=a.parent,p=0;p<h.lines.length;++p){var g=h.lines[p];if(g==a)break;c+=g.height}for(var _=h.parent;_;h=_,_=h.parent)for(var C=0;C<_.children.length;++C){var S=_.children[C];if(S==h)break;c+=S.height}return c}function pi(a){if(a.height==0)return 0;for(var c=a.text.length,h,p=a;h=vt(p);){var g=h.find(0,!0);p=g.from.line,c+=g.from.ch-g.to.ch}for(p=a;h=ht(p);){var _=h.find(0,!0);c-=p.text.length-_.from.ch,p=_.to.line,c+=p.text.length-_.to.ch}return c}function Fi(a){var c=a.display,h=a.doc;c.maxLine=ct(h,h.first),c.maxLineLength=pi(c.maxLine),c.maxLineChanged=!0,h.iter(function(p){var g=pi(p);g>c.maxLineLength&&(c.maxLineLength=g,c.maxLine=p)})}var zr=function(a,c,h){this.text=a,Ni(this,c),this.height=h?h(this):1};zr.prototype.lineNo=function(){return jt(this)},Rt(zr);function bu(a,c,h,p){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Pa(a),Ni(a,h);var g=p?p(a):1;g!=a.height&&Ur(a,g)}function gs(a){a.parent=null,Pa(a)}var wu={},Ll={};function jl(a,c){if(!a||/^\s*$/.test(a))return null;var h=c.addModeClass?Ll:wu;return h[a]||(h[a]=a.replace(/\S+/g,"cm-$&"))}function ms(a,c){var h=W("span",null,null,f?"padding-right: .1px":null),p={pre:W("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var g=0;g<=(c.rest?c.rest.length:0);g++){var _=g?c.rest[g-1]:c.line,C=void 0;p.pos=0,p.addToken=Cu,tr(a.display.measure)&&(C=j(_,a.doc.direction))&&(p.addToken=Su(p.addToken,C)),p.map=[];var S=c!=a.display.externalMeasured&&jt(_);Ou(_,p,Di(a,_,S)),_.styleClasses&&(_.styleClasses.bgClass&&(p.bgClass=Ve(_.styleClasses.bgClass,p.bgClass||"")),_.styleClasses.textClass&&(p.textClass=Ve(_.styleClasses.textClass,p.textClass||""))),p.map.length==0&&p.map.push(0,0,p.content.appendChild(gt(a.display.measure))),g==0?(c.measure.map=p.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(p.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(f){var P=p.content.lastChild;(/\bcm-tab\b/.test(P.className)||P.querySelector&&P.querySelector(".cm-tab"))&&(p.content.className="cm-tab-wrap-hack")}return nt(a,"renderLine",a,c.line,p.pre),p.pre.className&&(p.textClass=Ve(p.pre.className,p.textClass||"")),p}function xu(a){var c=B("span","","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function Cu(a,c,h,p,g,_,C){if(c){var S=a.splitSpaces?ys(c,a.trailingSpace):c,P=a.cm.state.specialChars,I=!1,Q;if(!P.test(c))a.col+=c.length,Q=document.createTextNode(S),a.map.push(a.pos,a.pos+c.length,Q),l&&u<9&&(I=!0),a.pos+=c.length;else{Q=document.createDocumentFragment();for(var oe=0;;){P.lastIndex=oe;var ye=P.exec(c),de=ye?ye.index-oe:c.length-oe;if(de){var Te=document.createTextNode(S.slice(oe,oe+de));l&&u<9?Q.appendChild(B("span",[Te])):Q.appendChild(Te),a.map.push(a.pos,a.pos+de,Te),a.col+=de,a.pos+=de}if(!ye)break;oe+=de+1;var Fe=void 0;if(ye[0]=="	"){var Ke=a.cm.options.tabSize,tt=Ke-a.col%Ke;Fe=Q.appendChild(B("span",Ze(tt),"cm-tab")),Fe.setAttribute("role","presentation"),Fe.setAttribute("cm-text","	"),a.col+=tt}else ye[0]=="\r"||ye[0]==`
`?(Fe=Q.appendChild(B("span",ye[0]=="\r"?"":"","cm-invalidchar")),Fe.setAttribute("cm-text",ye[0]),a.col+=1):(Fe=a.cm.options.specialCharPlaceholder(ye[0]),Fe.setAttribute("cm-text",ye[0]),l&&u<9?Q.appendChild(B("span",[Fe])):Q.appendChild(Fe),a.col+=1);a.map.push(a.pos,a.pos+1,Fe),a.pos++}}if(a.trailingSpace=S.charCodeAt(c.length-1)==32,h||p||g||I||_||C){var lt=h||"";p&&(lt+=p),g&&(lt+=g);var rt=B("span",[Q],lt,_);if(C)for(var ft in C)C.hasOwnProperty(ft)&&ft!="style"&&ft!="class"&&rt.setAttribute(ft,C[ft]);return a.content.appendChild(rt)}a.content.appendChild(Q)}}function ys(a,c){if(a.length>1&&!/  /.test(a))return a;for(var h=c,p="",g=0;g<a.length;g++){var _=a.charAt(g);_==" "&&h&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(_=""),p+=_,h=_==" "}return p}function Su(a,c){return function(h,p,g,_,C,S,P){g=g?g+" cm-force-border":"cm-force-border";for(var I=h.pos,Q=I+p.length;;){for(var oe=void 0,ye=0;ye<c.length&&(oe=c[ye],!(oe.to>I&&oe.from<=I));ye++);if(oe.to>=Q)return a(h,p,g,_,C,S,P);a(h,p.slice(0,oe.to-I),g,_,null,S,P),_=null,p=p.slice(oe.to-I),I=oe.to}}}function Rl(a,c,h,p){var g=!p&&h.widgetNode;g&&a.map.push(a.pos,a.pos+c,g),!p&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",h.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=c,a.trailingSpace=!1}function Ou(a,c,h){var p=a.markedSpans,g=a.text,_=0;if(!p){for(var C=1;C<h.length;C+=2)c.addToken(c,g.slice(_,_=h[C]),jl(h[C+1],c.cm.options));return}for(var S=g.length,P=0,I=1,Q="",oe,ye,de=0,Te,Fe,Ke,tt,lt;;){if(de==P){Te=Fe=Ke=ye="",lt=null,tt=null,de=1/0;for(var rt=[],ft=void 0,_t=0;_t<p.length;++_t){var mt=p[_t],Mt=mt.marker;if(Mt.type=="bookmark"&&mt.from==P&&Mt.widgetNode)rt.push(Mt);else if(mt.from<=P&&(mt.to==null||mt.to>P||Mt.collapsed&&mt.to==P&&mt.from==P)){if(mt.to!=null&&mt.to!=P&&de>mt.to&&(de=mt.to,Fe=""),Mt.className&&(Te+=" "+Mt.className),Mt.css&&(ye=(ye?ye+";":"")+Mt.css),Mt.startStyle&&mt.from==P&&(Ke+=" "+Mt.startStyle),Mt.endStyle&&mt.to==de&&(ft||(ft=[])).push(Mt.endStyle,mt.to),Mt.title&&((lt||(lt={})).title=Mt.title),Mt.attributes)for(var Jt in Mt.attributes)(lt||(lt={}))[Jt]=Mt.attributes[Jt];Mt.collapsed&&(!tt||di(tt.marker,Mt)<0)&&(tt=mt)}else mt.from>P&&de>mt.from&&(de=mt.from)}if(ft)for(var Kr=0;Kr<ft.length;Kr+=2)ft[Kr+1]==de&&(Fe+=" "+ft[Kr]);if(!tt||tt.from==P)for(var vr=0;vr<rt.length;++vr)Rl(c,0,rt[vr]);if(tt&&(tt.from||0)==P){if(Rl(c,(tt.to==null?S+1:tt.to)-P,tt.marker,tt.from==null),tt.to==null)return;tt.to==P&&(tt=!1)}}if(P>=S)break;for(var Hn=Math.min(S,de);;){if(Q){var Cn=P+Q.length;if(!tt){var Ir=Cn>Hn?Q.slice(0,Hn-P):Q;c.addToken(c,Ir,oe?oe+Te:Te,Ke,P+Ir.length==de?Fe:"",ye,lt)}if(Cn>=Hn){Q=Q.slice(Hn-P),P=Hn;break}P=Cn,Ke=""}Q=g.slice(_,_=h[I++]),oe=jl(h[I++],c.cm.options)}}}function Nl(a,c,h){this.line=c,this.rest=fn(c),this.size=this.rest?jt(Ie(this.rest))-h+1:1,this.node=this.text=null,this.hidden=bn(a,c)}function _s(a,c,h){for(var p=[],g,_=c;_<h;_=g){var C=new Nl(a.doc,ct(a.doc,_),_);g=_+C.size,p.push(C)}return p}var hi=null;function Tu(a){hi?hi.ops.push(a):a.ownsGroup=hi={ops:[a],delayedCallbacks:[]}}function Np(a){var c=a.delayedCallbacks,h=0;do{for(;h<c.length;h++)c[h].call(null);for(var p=0;p<a.ops.length;p++){var g=a.ops[p];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(h<c.length)}function Fl(a,c){var h=a.ownsGroup;if(h)try{Np(h)}finally{hi=null,c(h)}}var Bi=null;function _r(a,c){var h=Ue(a,c);if(h.length){var p=Array.prototype.slice.call(arguments,2),g;hi?g=hi.delayedCallbacks:Bi?g=Bi:(g=Bi=[],setTimeout(Hi,0));for(var _=function(S){g.push(function(){return h[S].apply(null,p)})},C=0;C<h.length;++C)_(C)}}function Hi(){var a=Bi;Bi=null;for(var c=0;c<a.length;++c)a[c]()}function zo(a,c,h,p){for(var g=0;g<c.changes.length;g++){var _=c.changes[g];_=="text"?Hl(a,c):_=="gutter"?zi(a,c,h,p):_=="class"?bs(a,c):_=="widget"&&Pu(a,c,p)}c.changes=null}function Ui(a){return a.node==a.text&&(a.node=B("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),l&&u<8&&(a.node.style.zIndex=2)),a.node}function Eu(a,c){var h=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),c.background)h?c.background.className=h:(c.background.parentNode.removeChild(c.background),c.background=null);else if(h){var p=Ui(c);c.background=p.insertBefore(B("div",null,h),p.firstChild),a.display.input.setUneditable(c.background)}}function Bl(a,c){var h=a.display.externalMeasured;return h&&h.line==c.line?(a.display.externalMeasured=null,c.measure=h.measure,h.built):ms(a,c)}function Hl(a,c){var h=c.text.className,p=Bl(a,c);c.text==c.node&&(c.node=p.pre),c.text.parentNode.replaceChild(p.pre,c.text),c.text=p.pre,p.bgClass!=c.bgClass||p.textClass!=c.textClass?(c.bgClass=p.bgClass,c.textClass=p.textClass,bs(a,c)):h&&(c.text.className=h)}function bs(a,c){Eu(a,c),c.line.wrapClass?Ui(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var h=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=h||""}function zi(a,c,h,p){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var g=Ui(c);c.gutterBackground=B("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px; width: "+p.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),g.insertBefore(c.gutterBackground,c.text)}var _=c.line.gutterMarkers;if(a.options.lineNumbers||_){var C=Ui(c),S=c.gutter=B("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?p.fixedPos:-p.gutterTotalWidth)+"px");if(S.setAttribute("aria-hidden","true"),a.display.input.setUneditable(S),C.insertBefore(S,c.text),c.line.gutterClass&&(S.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(c.lineNumber=S.appendChild(B("div",Jn(a.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+p.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),_)for(var P=0;P<a.display.gutterSpecs.length;++P){var I=a.display.gutterSpecs[P].className,Q=_.hasOwnProperty(I)&&_[I];Q&&S.appendChild(B("div",[Q],"CodeMirror-gutter-elt","left: "+p.gutterLeft[I]+"px; width: "+p.gutterWidth[I]+"px"))}}}function Pu(a,c,h){c.alignable&&(c.alignable=null);for(var p=G("CodeMirror-linewidget"),g=c.node.firstChild,_=void 0;g;g=_)_=g.nextSibling,p.test(g.className)&&c.node.removeChild(g);Wi(a,c,h)}function ku(a,c,h,p){var g=Bl(a,c);return c.text=c.node=g.pre,g.bgClass&&(c.bgClass=g.bgClass),g.textClass&&(c.textClass=g.textClass),bs(a,c),zi(a,c,h,p),Wi(a,c,p),c.node}function Wi(a,c,h){if(Ul(a,c.line,c,h,!0),c.rest)for(var p=0;p<c.rest.length;p++)Ul(a,c.rest[p],c,h,!1)}function Ul(a,c,h,p,g){if(c.widgets)for(var _=Ui(h),C=0,S=c.widgets;C<S.length;++C){var P=S[C],I=B("div",[P.node],"CodeMirror-linewidget"+(P.className?" "+P.className:""));P.handleMouseEvents||I.setAttribute("cm-ignore-events","true"),Au(P,I,h,p),a.display.input.setUneditable(I),g&&P.above?_.insertBefore(I,h.gutter||h.text):_.appendChild(I),_r(P,"redraw")}}function Au(a,c,h,p){if(a.noHScroll){(h.alignable||(h.alignable=[])).push(c);var g=p.wrapperWidth;c.style.left=p.fixedPos+"px",a.coverGutter||(g-=p.gutterTotalWidth,c.style.paddingLeft=p.gutterTotalWidth+"px"),c.style.width=g+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-p.gutterTotalWidth+"px"))}function qi(a){if(a.height!=null)return a.height;var c=a.doc.cm;if(!c)return 0;if(!V(document.body,a.node)){var h="position: relative;";a.coverGutter&&(h+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(h+="width: "+c.display.wrapper.clientWidth+"px;"),$(c.display.measure,B("div",[a.node],null,h))}return a.height=a.node.parentNode.offsetHeight}function _o(a,c){for(var h=ie(c);h!=a.wrapper;h=h.parentNode)if(!h||h.nodeType==1&&h.getAttribute("cm-ignore-events")=="true"||h.parentNode==a.sizer&&h!=a.mover)return!0}function Ki(a){return a.lineSpace.offsetTop}function ka(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Mu(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=$(a.measure,B("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,p={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(p.left)&&!isNaN(p.right)&&(a.cachedPaddingH=p),p}function Fn(a){return ze-a.display.nativeBarWidth}function vi(a){return a.display.scroller.clientWidth-Fn(a)-a.display.barWidth}function k(a){return a.display.scroller.clientHeight-Fn(a)-a.display.barHeight}function F(a,c,h){var p=a.options.lineWrapping,g=p&&vi(a);if(!c.measure.heights||p&&c.measure.width!=g){var _=c.measure.heights=[];if(p){c.measure.width=g;for(var C=c.text.firstChild.getClientRects(),S=0;S<C.length-1;S++){var P=C[S],I=C[S+1];Math.abs(P.bottom-I.bottom)>2&&_.push((P.bottom+I.top)/2-h.top)}}_.push(h.bottom-h.top)}}function ne(a,c,h){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};for(var p=0;p<a.rest.length;p++)if(a.rest[p]==c)return{map:a.measure.maps[p],cache:a.measure.caches[p]};for(var g=0;g<a.rest.length;g++)if(jt(a.rest[g])>h)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}function se(a,c){c=lr(c);var h=jt(c),p=a.display.externalMeasured=new Nl(a.doc,c,h);p.lineN=h;var g=p.built=ms(a,p);return p.text=g.pre,$(a.display.lineMeasure,g.pre),p}function we(a,c,h,p){return Xe(a,$e(a,c),h,p)}function ve(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[Va(a,c)];var h=a.display.externalMeasured;if(h&&c>=h.lineN&&c<h.lineN+h.size)return h}function $e(a,c){var h=jt(c),p=ve(a,h);p&&!p.text?p=null:p&&p.changes&&(zo(a,p,h,zp(a)),a.curOp.forceUpdate=!0),p||(p=se(a,c));var g=ne(p,c,h);return{line:c,view:p,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Xe(a,c,h,p,g){c.before&&(h=-1);var _=h+(p||""),C;return c.cache.hasOwnProperty(_)?C=c.cache[_]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(F(a,c.view,c.rect),c.hasHeights=!0),C=en(a,c,h,p),C.bogus||(c.cache[_]=C)),{left:C.left,right:C.right,top:g?C.rtop:C.top,bottom:g?C.rbottom:C.bottom}}var Et={left:0,right:0,top:0,bottom:0};function Ot(a,c,h){for(var p,g,_,C,S,P,I=0;I<a.length;I+=3)if(S=a[I],P=a[I+1],c<S?(g=0,_=1,C="left"):c<P?(g=c-S,_=g+1):(I==a.length-3||c==P&&a[I+3]>c)&&(_=P-S,g=_-1,c>=P&&(C="right")),g!=null){if(p=a[I+2],S==P&&h==(p.insertLeft?"left":"right")&&(C=h),h=="left"&&g==0)for(;I&&a[I-2]==a[I-3]&&a[I-1].insertLeft;)p=a[(I-=3)+2],C="left";if(h=="right"&&g==P-S)for(;I<a.length-3&&a[I+3]==a[I+4]&&!a[I+5].insertLeft;)p=a[(I+=3)+2],C="right";break}return{node:p,start:g,end:_,collapse:C,coverStart:S,coverEnd:P}}function Nr(a,c){var h=Et;if(c=="left")for(var p=0;p<a.length&&(h=a[p]).left==h.right;p++);else for(var g=a.length-1;g>=0&&(h=a[g]).left==h.right;g--);return h}function en(a,c,h,p){var g=Ot(c.map,h,p),_=g.node,C=g.start,S=g.end,P=g.collapse,I;if(_.nodeType==3){for(var Q=0;Q<4;Q++){for(;C&&me(c.line.text.charAt(g.coverStart+C));)--C;for(;g.coverStart+S<g.coverEnd&&me(c.line.text.charAt(g.coverStart+S));)++S;if(l&&u<9&&C==0&&S==g.coverEnd-g.coverStart?I=_.parentNode.getBoundingClientRect():I=Nr(X(_,C,S).getClientRects(),p),I.left||I.right||C==0)break;S=C,C=C-1,P="right"}l&&u<11&&(I=Vu(a.display.measure,I))}else{C>0&&(P=p="right");var oe;a.options.lineWrapping&&(oe=_.getClientRects()).length>1?I=oe[p=="right"?oe.length-1:0]:I=_.getBoundingClientRect()}if(l&&u<9&&!C&&(!I||!I.left&&!I.right)){var ye=_.parentNode.getClientRects()[0];ye?I={left:ye.left,right:ye.left+xs(a.display),top:ye.top,bottom:ye.bottom}:I=Et}for(var de=I.top-c.rect.top,Te=I.bottom-c.rect.top,Fe=(de+Te)/2,Ke=c.view.measure.heights,tt=0;tt<Ke.length-1&&!(Fe<Ke[tt]);tt++);var lt=tt?Ke[tt-1]:0,rt=Ke[tt],ft={left:(P=="right"?I.right:I.left)-c.rect.left,right:(P=="left"?I.left:I.right)-c.rect.left,top:lt,bottom:rt};return!I.left&&!I.right&&(ft.bogus=!0),a.options.singleCursorHeightPerLine||(ft.rtop=de,ft.rbottom=Te),ft}function Vu(a,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ln(a))return c;var h=screen.logicalXDPI/screen.deviceXDPI,p=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*h,right:c.right*h,top:c.top*p,bottom:c.bottom*p}}function zl(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function mm(a){a.display.externalMeasure=null,D(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)zl(a.display.view[c])}function Wl(a){mm(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function ym(){return v&&O?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function _m(){return v&&O?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Fp(a){var c=0;if(a.widgets)for(var h=0;h<a.widgets.length;++h)a.widgets[h].above&&(c+=qi(a.widgets[h]));return c}function Iu(a,c,h,p,g){if(!g){var _=Fp(c);h.top+=_,h.bottom+=_}if(p=="line")return h;p||(p="local");var C=yo(c);if(p=="local"?C+=Ki(a.display):C-=a.display.viewOffset,p=="page"||p=="window"){var S=a.display.lineSpace.getBoundingClientRect();C+=S.top+(p=="window"?0:_m());var P=S.left+(p=="window"?0:ym());h.left+=P,h.right+=P}return h.top+=C,h.bottom+=C,h}function bm(a,c,h){if(h=="div")return c;var p=c.left,g=c.top;if(h=="page")p-=ym(),g-=_m();else if(h=="local"||!h){var _=a.display.sizer.getBoundingClientRect();p+=_.left,g+=_.top}var C=a.display.lineSpace.getBoundingClientRect();return{left:p-C.left,top:g-C.top}}function $u(a,c,h,p,g){return p||(p=ct(a.doc,c.line)),Iu(a,p,we(a,p,c.ch,g),h)}function Io(a,c,h,p,g,_){p=p||ct(a.doc,c.line),g||(g=$e(a,p));function C(Te,Fe){var Ke=Xe(a,g,Te,Fe?"right":"left",_);return Fe?Ke.left=Ke.right:Ke.right=Ke.left,Iu(a,p,Ke,h)}var S=j(p,a.doc.direction),P=c.ch,I=c.sticky;if(P>=p.text.length?(P=p.text.length,I="before"):P<=0&&(P=0,I="after"),!S)return C(I=="before"?P-1:P,I=="before");function Q(Te,Fe,Ke){var tt=S[Fe],lt=tt.level==1;return C(Ke?Te-1:Te,lt!=Ke)}var oe=K(S,P,I),ye=bt,de=Q(P,oe,I=="before");return ye!=null&&(de.other=Q(P,ye,I!="before")),de}function wm(a,c){var h=0;c=qe(a.doc,c),a.options.lineWrapping||(h=xs(a.display)*c.ch);var p=ct(a.doc,c.line),g=yo(p)+Ki(a.display);return{left:h,right:h,top:g,bottom:g+p.height}}function Bp(a,c,h,p,g){var _=He(a,c,h);return _.xRel=g,p&&(_.outside=p),_}function Hp(a,c,h){var p=a.doc;if(h+=a.display.viewOffset,h<0)return Bp(p.first,0,null,-1,-1);var g=Yt(p,h),_=p.first+p.size-1;if(g>_)return Bp(p.first+p.size-1,ct(p,_).text.length,null,1,1);c<0&&(c=0);for(var C=ct(p,g);;){var S=JC(a,C,g,c,h),P=Ht(C,S.ch+(S.xRel>0||S.outside>0?1:0));if(!P)return S;var I=P.find(1);if(I.line==g)return I;C=ct(p,g=I.line)}}function xm(a,c,h,p){p-=Fp(c);var g=c.text.length,_=ut(function(C){return Xe(a,h,C-1).bottom<=p},g,0);return g=ut(function(C){return Xe(a,h,C).top>p},_,g),{begin:_,end:g}}function Cm(a,c,h,p){h||(h=$e(a,c));var g=Iu(a,c,Xe(a,h,p),"line").top;return xm(a,c,h,g)}function Up(a,c,h,p){return a.bottom<=h?!1:a.top>h?!0:(p?a.left:a.right)>c}function JC(a,c,h,p,g){g-=yo(c);var _=$e(a,c),C=Fp(c),S=0,P=c.text.length,I=!0,Q=j(c,a.doc.direction);if(Q){var oe=(a.options.lineWrapping?e5:QC)(a,c,h,_,Q,p,g);I=oe.level!=1,S=I?oe.from:oe.to-1,P=I?oe.to:oe.from-1}var ye=null,de=null,Te=ut(function(_t){var mt=Xe(a,_,_t);return mt.top+=C,mt.bottom+=C,Up(mt,p,g,!1)?(mt.top<=g&&mt.left<=p&&(ye=_t,de=mt),!0):!1},S,P),Fe,Ke,tt=!1;if(de){var lt=p-de.left<de.right-p,rt=lt==I;Te=ye+(rt?0:1),Ke=rt?"after":"before",Fe=lt?de.left:de.right}else{!I&&(Te==P||Te==S)&&Te++,Ke=Te==0?"after":Te==c.text.length?"before":Xe(a,_,Te-(I?1:0)).bottom+C<=g==I?"after":"before";var ft=Io(a,He(h,Te,Ke),"line",c,_);Fe=ft.left,tt=g<ft.top?-1:g>=ft.bottom?1:0}return Te=fe(c.text,Te,1),Bp(h,Te,Ke,tt,p-Fe)}function QC(a,c,h,p,g,_,C){var S=ut(function(oe){var ye=g[oe],de=ye.level!=1;return Up(Io(a,He(h,de?ye.to:ye.from,de?"before":"after"),"line",c,p),_,C,!0)},0,g.length-1),P=g[S];if(S>0){var I=P.level!=1,Q=Io(a,He(h,I?P.from:P.to,I?"after":"before"),"line",c,p);Up(Q,_,C,!0)&&Q.top>C&&(P=g[S-1])}return P}function e5(a,c,h,p,g,_,C){var S=xm(a,c,p,C),P=S.begin,I=S.end;/\s/.test(c.text.charAt(I-1))&&I--;for(var Q=null,oe=null,ye=0;ye<g.length;ye++){var de=g[ye];if(!(de.from>=I||de.to<=P)){var Te=de.level!=1,Fe=Xe(a,p,Te?Math.min(I,de.to)-1:Math.max(P,de.from)).right,Ke=Fe<_?_-Fe+1e9:Fe-_;(!Q||oe>Ke)&&(Q=de,oe=Ke)}}return Q||(Q=g[g.length-1]),Q.from<P&&(Q={from:P,to:Q.to,level:Q.level}),Q.to>I&&(Q={from:Q.from,to:I,level:Q.level}),Q}var Aa;function ws(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(Aa==null){Aa=B("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)Aa.appendChild(document.createTextNode("x")),Aa.appendChild(B("br"));Aa.appendChild(document.createTextNode("x"))}$(a.measure,Aa);var h=Aa.offsetHeight/50;return h>3&&(a.cachedTextHeight=h),D(a.measure),h||1}function xs(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var c=B("span","xxxxxxxxxx"),h=B("pre",[c],"CodeMirror-line-like");$(a.measure,h);var p=c.getBoundingClientRect(),g=(p.right-p.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function zp(a){for(var c=a.display,h={},p={},g=c.gutters.clientLeft,_=c.gutters.firstChild,C=0;_;_=_.nextSibling,++C){var S=a.display.gutterSpecs[C].className;h[S]=_.offsetLeft+_.clientLeft+g,p[S]=_.clientWidth}return{fixedPos:Wp(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:h,gutterWidth:p,wrapperWidth:c.wrapper.clientWidth}}function Wp(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Sm(a){var c=ws(a.display),h=a.options.lineWrapping,p=h&&Math.max(5,a.display.scroller.clientWidth/xs(a.display)-3);return function(g){if(bn(a.doc,g))return 0;var _=0;if(g.widgets)for(var C=0;C<g.widgets.length;C++)g.widgets[C].height&&(_+=g.widgets[C].height);return h?_+(Math.ceil(g.text.length/p)||1)*c:_+c}}function qp(a){var c=a.doc,h=Sm(a);c.iter(function(p){var g=h(p);g!=p.height&&Ur(p,g)})}function Ma(a,c,h,p){var g=a.display;if(!h&&ie(c).getAttribute("cm-not-content")=="true")return null;var _,C,S=g.lineSpace.getBoundingClientRect();try{_=c.clientX-S.left,C=c.clientY-S.top}catch{return null}var P=Hp(a,_,C),I;if(p&&P.xRel>0&&(I=ct(a.doc,P.line).text).length==P.ch){var Q=Oe(I,I.length,a.options.tabSize)-I.length;P=He(P.line,Math.max(0,Math.round((_-Mu(a.display).left)/xs(a.display))-Q))}return P}function Va(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom,c<0))return null;for(var h=a.display.view,p=0;p<h.length;p++)if(c-=h[p].size,c<0)return p}function wn(a,c,h,p){c==null&&(c=a.doc.first),h==null&&(h=a.doc.first+a.doc.size),p||(p=0);var g=a.display;if(p&&h<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>c)&&(g.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=g.viewTo)jr&&mo(a.doc,c)<g.viewTo&&Zi(a);else if(h<=g.viewFrom)jr&&_n(a.doc,h+p)>g.viewFrom?Zi(a):(g.viewFrom+=p,g.viewTo+=p);else if(c<=g.viewFrom&&h>=g.viewTo)Zi(a);else if(c<=g.viewFrom){var _=Du(a,h,h+p,1);_?(g.view=g.view.slice(_.index),g.viewFrom=_.lineN,g.viewTo+=p):Zi(a)}else if(h>=g.viewTo){var C=Du(a,c,c,-1);C?(g.view=g.view.slice(0,C.index),g.viewTo=C.lineN):Zi(a)}else{var S=Du(a,c,c,-1),P=Du(a,h,h+p,1);S&&P?(g.view=g.view.slice(0,S.index).concat(_s(a,S.lineN,P.lineN)).concat(g.view.slice(P.index)),g.viewTo+=p):Zi(a)}var I=g.externalMeasured;I&&(h<I.lineN?I.lineN+=p:c<I.lineN+I.size&&(g.externalMeasured=null))}function Gi(a,c,h){a.curOp.viewChanged=!0;var p=a.display,g=a.display.externalMeasured;if(g&&c>=g.lineN&&c<g.lineN+g.size&&(p.externalMeasured=null),!(c<p.viewFrom||c>=p.viewTo)){var _=p.view[Va(a,c)];if(_.node!=null){var C=_.changes||(_.changes=[]);Be(C,h)==-1&&C.push(h)}}}function Zi(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Du(a,c,h,p){var g=Va(a,c),_,C=a.display.view;if(!jr||h==a.doc.first+a.doc.size)return{index:g,lineN:h};for(var S=a.display.viewFrom,P=0;P<g;P++)S+=C[P].size;if(S!=c){if(p>0){if(g==C.length-1)return null;_=S+C[g].size-c,g++}else _=S-c;c+=_,h+=_}for(;mo(a.doc,h)!=h;){if(g==(p<0?0:C.length-1))return null;h+=p*C[g-(p<0?1:0)].size,g+=p}return{index:g,lineN:h}}function t5(a,c,h){var p=a.display,g=p.view;g.length==0||c>=p.viewTo||h<=p.viewFrom?(p.view=_s(a,c,h),p.viewFrom=c):(p.viewFrom>c?p.view=_s(a,c,p.viewFrom).concat(p.view):p.viewFrom<c&&(p.view=p.view.slice(Va(a,c))),p.viewFrom=c,p.viewTo<h?p.view=p.view.concat(_s(a,p.viewTo,h)):p.viewTo>h&&(p.view=p.view.slice(0,Va(a,h)))),p.viewTo=h}function Om(a){for(var c=a.display.view,h=0,p=0;p<c.length;p++){var g=c[p];!g.hidden&&(!g.node||g.changes)&&++h}return h}function ql(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Tm(a,c){c===void 0&&(c=!0);for(var h=a.doc,p={},g=p.cursors=document.createDocumentFragment(),_=p.selection=document.createDocumentFragment(),C=0;C<h.sel.ranges.length;C++)if(!(!c&&C==h.sel.primIndex)){var S=h.sel.ranges[C];if(!(S.from().line>=a.display.viewTo||S.to().line<a.display.viewFrom)){var P=S.empty();(P||a.options.showCursorWhenSelecting)&&Em(a,S.head,g),P||r5(a,S,_)}}return p}function Em(a,c,h){var p=Io(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),g=h.appendChild(B("div","","CodeMirror-cursor"));if(g.style.left=p.left+"px",g.style.top=p.top+"px",g.style.height=Math.max(0,p.bottom-p.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var _=$u(a,c,"div",null,null);_.right-_.left>0&&(g.style.width=_.right-_.left+"px")}if(p.other){var C=h.appendChild(B("div","","CodeMirror-cursor CodeMirror-secondarycursor"));C.style.display="",C.style.left=p.other.left+"px",C.style.top=p.other.top+"px",C.style.height=(p.other.bottom-p.other.top)*.85+"px"}}function Lu(a,c){return a.top-c.top||a.left-c.left}function r5(a,c,h){var p=a.display,g=a.doc,_=document.createDocumentFragment(),C=Mu(a.display),S=C.left,P=Math.max(p.sizerWidth,vi(a)-p.sizer.offsetLeft)-C.right,I=g.direction=="ltr";function Q(rt,ft,_t,mt){ft<0&&(ft=0),ft=Math.round(ft),mt=Math.round(mt),_.appendChild(B("div",null,"CodeMirror-selected","position: absolute; left: "+rt+`px;
                             top: `+ft+"px; width: "+(_t??P-rt)+`px;
                             height: `+(mt-ft)+"px"))}function oe(rt,ft,_t){var mt=ct(g,rt),Mt=mt.text.length,Jt,Kr;function vr(Ir,Sn){return $u(a,He(rt,Ir),"div",mt,Sn)}function Hn(Ir,Sn,Yr){var Fr=Cm(a,mt,null,Ir),$r=Sn=="ltr"==(Yr=="after")?"left":"right",br=Yr=="after"?Fr.begin:Fr.end-(/\s/.test(mt.text.charAt(Fr.end-1))?2:1);return vr(br,$r)[$r]}var Cn=j(mt,g.direction);return Ct(Cn,ft||0,_t??Mt,function(Ir,Sn,Yr,Fr){var $r=Yr=="ltr",br=vr(Ir,$r?"left":"right"),On=vr(Sn-1,$r?"right":"left"),Ds=ft==null&&Ir==0,ta=_t==null&&Sn==Mt,rn=Fr==0,Wo=!Cn||Fr==Cn.length-1;if(On.top-br.top<=3){var Gr=(I?Ds:ta)&&rn,yh=(I?ta:Ds)&&Wo,mi=Gr?S:($r?br:On).left,ja=yh?P:($r?On:br).right;Q(mi,br.top,ja-mi,br.bottom)}else{var Ra,pn,Ls,_h;$r?(Ra=I&&Ds&&rn?S:br.left,pn=I?P:Hn(Ir,Yr,"before"),Ls=I?S:Hn(Sn,Yr,"after"),_h=I&&ta&&Wo?P:On.right):(Ra=I?Hn(Ir,Yr,"before"):S,pn=!I&&Ds&&rn?P:br.right,Ls=!I&&ta&&Wo?S:On.left,_h=I?Hn(Sn,Yr,"after"):P),Q(Ra,br.top,pn-Ra,br.bottom),br.bottom<On.top&&Q(S,br.bottom,null,On.top),Q(Ls,On.top,_h-Ls,On.bottom)}(!Jt||Lu(br,Jt)<0)&&(Jt=br),Lu(On,Jt)<0&&(Jt=On),(!Kr||Lu(br,Kr)<0)&&(Kr=br),Lu(On,Kr)<0&&(Kr=On)}),{start:Jt,end:Kr}}var ye=c.from(),de=c.to();if(ye.line==de.line)oe(ye.line,ye.ch,de.ch);else{var Te=ct(g,ye.line),Fe=ct(g,de.line),Ke=lr(Te)==lr(Fe),tt=oe(ye.line,ye.ch,Ke?Te.text.length+1:null).end,lt=oe(de.line,Ke?0:null,de.ch).start;Ke&&(tt.top<lt.top-2?(Q(tt.right,tt.top,null,tt.bottom),Q(S,lt.top,lt.left,lt.bottom)):Q(tt.right,tt.top,lt.left-tt.right,tt.bottom)),tt.bottom<lt.top&&Q(S,tt.bottom,null,lt.top)}h.appendChild(_)}function Kp(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var h=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||Cs(a),c.cursorDiv.style.visibility=(h=!h)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function Pm(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Zp(a))}function Gp(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Cs(a))},100)}function Zp(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(nt(a,"focus",a,c),a.state.focused=!0,ue(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),f&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Kp(a))}function Cs(a,c){a.state.delayingBlurEvent||(a.state.focused&&(nt(a,"blur",a,c),a.state.focused=!1,q(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function ju(a){for(var c=a.display,h=c.lineDiv.offsetTop,p=Math.max(0,c.scroller.getBoundingClientRect().top),g=c.lineDiv.getBoundingClientRect().top,_=0,C=0;C<c.view.length;C++){var S=c.view[C],P=a.options.lineWrapping,I=void 0,Q=0;if(!S.hidden){if(g+=S.line.height,l&&u<8){var oe=S.node.offsetTop+S.node.offsetHeight;I=oe-h,h=oe}else{var ye=S.node.getBoundingClientRect();I=ye.bottom-ye.top,!P&&S.text.firstChild&&(Q=S.text.firstChild.getBoundingClientRect().right-ye.left-1)}var de=S.line.height-I;if((de>.005||de<-.005)&&(g<p&&(_-=de),Ur(S.line,I),km(S.line),S.rest))for(var Te=0;Te<S.rest.length;Te++)km(S.rest[Te]);if(Q>a.display.sizerWidth){var Fe=Math.ceil(Q/xs(a.display));Fe>a.display.maxLineLength&&(a.display.maxLineLength=Fe,a.display.maxLine=S.line,a.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(c.scroller.scrollTop+=_)}function km(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var h=a.widgets[c],p=h.node.parentNode;p&&(h.height=p.offsetHeight)}}function Ru(a,c,h){var p=h&&h.top!=null?Math.max(0,h.top):a.scroller.scrollTop;p=Math.floor(p-Ki(a));var g=h&&h.bottom!=null?h.bottom:p+a.wrapper.clientHeight,_=Yt(c,p),C=Yt(c,g);if(h&&h.ensure){var S=h.ensure.from.line,P=h.ensure.to.line;S<_?(_=S,C=Yt(c,yo(ct(c,S))+a.wrapper.clientHeight)):Math.min(P,c.lastLine())>=C&&(_=Yt(c,yo(ct(c,P))-a.wrapper.clientHeight),C=P)}return{from:_,to:Math.max(C,_+1)}}function n5(a,c){if(!Qe(a,"scrollCursorIntoView")){var h=a.display,p=h.sizer.getBoundingClientRect(),g=null;if(c.top+p.top<0?g=!0:c.bottom+p.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!w){var _=B("div","",null,`position: absolute;
                         top: `+(c.top-h.viewOffset-Ki(a.display))+`px;
                         height: `+(c.bottom-c.top+Fn(a)+h.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(_),_.scrollIntoView(g),a.display.lineSpace.removeChild(_)}}}function o5(a,c,h,p){p==null&&(p=0);var g;!a.options.lineWrapping&&c==h&&(h=c.sticky=="before"?He(c.line,c.ch+1,"before"):c,c=c.ch?He(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var _=0;_<5;_++){var C=!1,S=Io(a,c),P=!h||h==c?S:Io(a,h);g={left:Math.min(S.left,P.left),top:Math.min(S.top,P.top)-p,right:Math.max(S.left,P.left),bottom:Math.max(S.bottom,P.bottom)+p};var I=Xp(a,g),Q=a.doc.scrollTop,oe=a.doc.scrollLeft;if(I.scrollTop!=null&&(Gl(a,I.scrollTop),Math.abs(a.doc.scrollTop-Q)>1&&(C=!0)),I.scrollLeft!=null&&(Ia(a,I.scrollLeft),Math.abs(a.doc.scrollLeft-oe)>1&&(C=!0)),!C)break}return g}function i5(a,c){var h=Xp(a,c);h.scrollTop!=null&&Gl(a,h.scrollTop),h.scrollLeft!=null&&Ia(a,h.scrollLeft)}function Xp(a,c){var h=a.display,p=ws(a.display);c.top<0&&(c.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:h.scroller.scrollTop,_=k(a),C={};c.bottom-c.top>_&&(c.bottom=c.top+_);var S=a.doc.height+ka(h),P=c.top<p,I=c.bottom>S-p;if(c.top<g)C.scrollTop=P?0:c.top;else if(c.bottom>g+_){var Q=Math.min(c.top,(I?S:c.bottom)-_);Q!=g&&(C.scrollTop=Q)}var oe=a.options.fixedGutter?0:h.gutters.offsetWidth,ye=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:h.scroller.scrollLeft-oe,de=vi(a)-h.gutters.offsetWidth,Te=c.right-c.left>de;return Te&&(c.right=c.left+de),c.left<10?C.scrollLeft=0:c.left<ye?C.scrollLeft=Math.max(0,c.left+oe-(Te?0:10)):c.right>de+ye-3&&(C.scrollLeft=c.right+(Te?0:10)-de),C}function Yp(a,c){c!=null&&(Nu(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Ss(a){Nu(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function Kl(a,c,h){(c!=null||h!=null)&&Nu(a),c!=null&&(a.curOp.scrollLeft=c),h!=null&&(a.curOp.scrollTop=h)}function a5(a,c){Nu(a),a.curOp.scrollToPos=c}function Nu(a){var c=a.curOp.scrollToPos;if(c){a.curOp.scrollToPos=null;var h=wm(a,c.from),p=wm(a,c.to);Am(a,h,p,c.margin)}}function Am(a,c,h,p){var g=Xp(a,{left:Math.min(c.left,h.left),top:Math.min(c.top,h.top)-p,right:Math.max(c.right,h.right),bottom:Math.max(c.bottom,h.bottom)+p});Kl(a,g.scrollLeft,g.scrollTop)}function Gl(a,c){Math.abs(a.doc.scrollTop-c)<2||(t||Qp(a,{top:c}),Mm(a,c,!0),t&&Qp(a),Yl(a,100))}function Mm(a,c,h){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),!(a.display.scroller.scrollTop==c&&!h)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function Ia(a,c,h,p){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((h?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)&&!p)&&(a.doc.scrollLeft=c,Lm(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function Zl(a){var c=a.display,h=c.gutters.offsetWidth,p=Math.round(a.doc.height+ka(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?h:0,docHeight:p,scrollHeight:p+Fn(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:h}}var $a=function(a,c,h){this.cm=h;var p=this.vert=B("div",[B("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=B("div",[B("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");p.tabIndex=g.tabIndex=-1,a(p),a(g),be(p,"scroll",function(){p.clientHeight&&c(p.scrollTop,"vertical")}),be(g,"scroll",function(){g.clientWidth&&c(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,l&&u<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};$a.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,h=a.scrollHeight>a.clientHeight+1,p=a.nativeBarWidth;if(h){this.vert.style.display="block",this.vert.style.bottom=c?p+"px":"0";var g=a.viewHeight-(c?p:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=h?p+"px":"0",this.horiz.style.left=a.barLeft+"px";var _=a.viewWidth-a.barLeft-(h?p:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+_)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(p==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?p:0,bottom:c?p:0}},$a.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},$a.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},$a.prototype.zeroWidthHack=function(){var a=T&&!b?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new ge,this.disableVert=new ge},$a.prototype.enableZeroWidthBar=function(a,c,h){a.style.pointerEvents="auto";function p(){var g=a.getBoundingClientRect(),_=h=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);_!=a?a.style.pointerEvents="none":c.set(1e3,p)}c.set(1e3,p)},$a.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Xl=function(){};Xl.prototype.update=function(){return{bottom:0,right:0}},Xl.prototype.setScrollLeft=function(){},Xl.prototype.setScrollTop=function(){},Xl.prototype.clear=function(){};function Os(a,c){c||(c=Zl(a));var h=a.display.barWidth,p=a.display.barHeight;Vm(a,c);for(var g=0;g<4&&h!=a.display.barWidth||p!=a.display.barHeight;g++)h!=a.display.barWidth&&a.options.lineWrapping&&ju(a),Vm(a,Zl(a)),h=a.display.barWidth,p=a.display.barHeight}function Vm(a,c){var h=a.display,p=h.scrollbars.update(c);h.sizer.style.paddingRight=(h.barWidth=p.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=p.bottom)+"px",h.heightForcer.style.borderBottom=p.bottom+"px solid transparent",p.right&&p.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=p.bottom+"px",h.scrollbarFiller.style.width=p.right+"px"):h.scrollbarFiller.style.display="",p.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=p.bottom+"px",h.gutterFiller.style.width=c.gutterWidth+"px"):h.gutterFiller.style.display=""}var Im={native:$a,null:Xl};function $m(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&q(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Im[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),be(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,h){h=="horizontal"?Ia(a,c):Gl(a,c)},a),a.display.scrollbars.addClass&&ue(a.display.wrapper,a.display.scrollbars.addClass)}var s5=0;function Da(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++s5,markArrays:null},Tu(a.curOp)}function La(a){var c=a.curOp;c&&Fl(c,function(h){for(var p=0;p<h.ops.length;p++)h.ops[p].cm.curOp=null;l5(h)})}function l5(a){for(var c=a.ops,h=0;h<c.length;h++)c5(c[h]);for(var p=0;p<c.length;p++)u5(c[p]);for(var g=0;g<c.length;g++)f5(c[g]);for(var _=0;_<c.length;_++)d5(c[_]);for(var C=0;C<c.length;C++)p5(c[C])}function c5(a){var c=a.cm,h=c.display;v5(c),a.updateMaxLine&&Fi(c),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<h.viewFrom||a.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Fu(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function u5(a){a.updatedDisplay=a.mustUpdate&&Jp(a.cm,a.update)}function f5(a){var c=a.cm,h=c.display;a.updatedDisplay&&ju(c),a.barMeasure=Zl(c),h.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=we(c,h.maxLine,h.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+a.adjustWidthTo+Fn(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+a.adjustWidthTo-vi(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=h.input.prepareSelection())}function d5(a){var c=a.cm;a.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&Ia(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var h=a.focus&&a.focus==_e();a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,h),(a.updatedDisplay||a.startHeight!=c.doc.height)&&Os(c,a.barMeasure),a.updatedDisplay&&th(c,a.barMeasure),a.selectionChanged&&Kp(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),h&&Pm(a.cm)}function p5(a){var c=a.cm,h=c.display,p=c.doc;if(a.updatedDisplay&&Dm(c,a.update),h.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),a.scrollTop!=null&&Mm(c,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&Ia(c,a.scrollLeft,!0,!0),a.scrollToPos){var g=o5(c,qe(p,a.scrollToPos.from),qe(p,a.scrollToPos.to),a.scrollToPos.margin);n5(c,g)}var _=a.maybeHiddenMarkers,C=a.maybeUnhiddenMarkers;if(_)for(var S=0;S<_.length;++S)_[S].lines.length||nt(_[S],"hide");if(C)for(var P=0;P<C.length;++P)C[P].lines.length&&nt(C[P],"unhide");h.wrapper.offsetHeight&&(p.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&nt(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function Bn(a,c){if(a.curOp)return c();Da(a);try{return c()}finally{La(a)}}function Wr(a,c){return function(){if(a.curOp)return c.apply(a,arguments);Da(a);try{return c.apply(a,arguments)}finally{La(a)}}}function dn(a){return function(){if(this.curOp)return a.apply(this,arguments);Da(this);try{return a.apply(this,arguments)}finally{La(this)}}}function qr(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);Da(c);try{return a.apply(this,arguments)}finally{La(c)}}}function Yl(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,N(h5,a))}function h5(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var h=+new Date+a.options.workTime,p=ai(a,c.highlightFrontier),g=[];c.iter(p.line,Math.min(c.first+c.size,a.display.viewTo+500),function(_){if(p.line>=a.display.viewFrom){var C=_.styles,S=_.text.length>a.options.maxHighlightLength?kr(c.mode,p.state):null,P=Rn(a,_,p,!0);S&&(p.state=S),_.styles=P.styles;var I=_.styleClasses,Q=P.classes;Q?_.styleClasses=Q:I&&(_.styleClasses=null);for(var oe=!C||C.length!=_.styles.length||I!=Q&&(!I||!Q||I.bgClass!=Q.bgClass||I.textClass!=Q.textClass),ye=0;!oe&&ye<C.length;++ye)oe=C[ye]!=_.styles[ye];oe&&g.push(p.line),_.stateAfter=p.save(),p.nextLine()}else _.text.length<=a.options.maxHighlightLength&&si(a,_.text,p),_.stateAfter=p.line%5==0?p.save():null,p.nextLine();if(+new Date>h)return Yl(a,a.options.workDelay),!0}),c.highlightFrontier=p.line,c.modeFrontier=Math.max(c.modeFrontier,p.line),g.length&&Bn(a,function(){for(var _=0;_<g.length;_++)Gi(a,g[_],"text")})}}var Fu=function(a,c,h){var p=a.display;this.viewport=c,this.visible=Ru(p,a.doc,c),this.editorIsHidden=!p.wrapper.offsetWidth,this.wrapperHeight=p.wrapper.clientHeight,this.wrapperWidth=p.wrapper.clientWidth,this.oldDisplayWidth=vi(a),this.force=h,this.dims=zp(a),this.events=[]};Fu.prototype.signal=function(a,c){At(a,c)&&this.events.push(arguments)},Fu.prototype.finish=function(){for(var a=0;a<this.events.length;a++)nt.apply(null,this.events[a])};function v5(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=Fn(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=Fn(a)+"px",c.scrollbarsClipped=!0)}function g5(a){if(a.hasFocus())return null;var c=_e();if(!c||!V(a.display.lineDiv,c))return null;var h={activeElt:c};if(window.getSelection){var p=window.getSelection();p.anchorNode&&p.extend&&V(a.display.lineDiv,p.anchorNode)&&(h.anchorNode=p.anchorNode,h.anchorOffset=p.anchorOffset,h.focusNode=p.focusNode,h.focusOffset=p.focusOffset)}return h}function m5(a){if(!(!a||!a.activeElt||a.activeElt==_e())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&V(document.body,a.anchorNode)&&V(document.body,a.focusNode))){var c=window.getSelection(),h=document.createRange();h.setEnd(a.anchorNode,a.anchorOffset),h.collapse(!1),c.removeAllRanges(),c.addRange(h),c.extend(a.focusNode,a.focusOffset)}}function Jp(a,c){var h=a.display,p=a.doc;if(c.editorIsHidden)return Zi(a),!1;if(!c.force&&c.visible.from>=h.viewFrom&&c.visible.to<=h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&Om(a)==0)return!1;jm(a)&&(Zi(a),c.dims=zp(a));var g=p.first+p.size,_=Math.max(c.visible.from-a.options.viewportMargin,p.first),C=Math.min(g,c.visible.to+a.options.viewportMargin);h.viewFrom<_&&_-h.viewFrom<20&&(_=Math.max(p.first,h.viewFrom)),h.viewTo>C&&h.viewTo-C<20&&(C=Math.min(g,h.viewTo)),jr&&(_=mo(a.doc,_),C=_n(a.doc,C));var S=_!=h.viewFrom||C!=h.viewTo||h.lastWrapHeight!=c.wrapperHeight||h.lastWrapWidth!=c.wrapperWidth;t5(a,_,C),h.viewOffset=yo(ct(a.doc,h.viewFrom)),a.display.mover.style.top=h.viewOffset+"px";var P=Om(a);if(!S&&P==0&&!c.force&&h.renderedView==h.view&&(h.updateLineNumbers==null||h.updateLineNumbers>=h.viewTo))return!1;var I=g5(a);return P>4&&(h.lineDiv.style.display="none"),y5(a,h.updateLineNumbers,c.dims),P>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,m5(I),D(h.cursorDiv),D(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,S&&(h.lastWrapHeight=c.wrapperHeight,h.lastWrapWidth=c.wrapperWidth,Yl(a,400)),h.updateLineNumbers=null,!0}function Dm(a,c){for(var h=c.viewport,p=!0;;p=!1){if(!p||!a.options.lineWrapping||c.oldDisplayWidth==vi(a)){if(h&&h.top!=null&&(h={top:Math.min(a.doc.height+ka(a.display)-k(a),h.top)}),c.visible=Ru(a.display,a.doc,h),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break}else p&&(c.visible=Ru(a.display,a.doc,h));if(!Jp(a,c))break;ju(a);var g=Zl(a);ql(a),Os(a,g),th(a,g),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Qp(a,c){var h=new Fu(a,c);if(Jp(a,h)){ju(a),Dm(a,h);var p=Zl(a);ql(a),Os(a,p),th(a,p),h.finish()}}function y5(a,c,h){var p=a.display,g=a.options.lineNumbers,_=p.lineDiv,C=_.firstChild;function S(Te){var Fe=Te.nextSibling;return f&&T&&a.display.currentWheelTarget==Te?Te.style.display="none":Te.parentNode.removeChild(Te),Fe}for(var P=p.view,I=p.viewFrom,Q=0;Q<P.length;Q++){var oe=P[Q];if(!oe.hidden)if(!oe.node||oe.node.parentNode!=_){var ye=ku(a,oe,I,h);_.insertBefore(ye,C)}else{for(;C!=oe.node;)C=S(C);var de=g&&c!=null&&c<=I&&oe.lineNumber;oe.changes&&(Be(oe.changes,"gutter")>-1&&(de=!1),zo(a,oe,I,h)),de&&(D(oe.lineNumber),oe.lineNumber.appendChild(document.createTextNode(Jn(a.options,I)))),C=oe.node.nextSibling}I+=oe.size}for(;C;)C=S(C)}function eh(a){var c=a.gutters.offsetWidth;a.sizer.style.marginLeft=c+"px",_r(a,"gutterChanged",a)}function th(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+Fn(a)+"px"}function Lm(a){var c=a.display,h=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!a.options.fixedGutter))){for(var p=Wp(c)-c.scroller.scrollLeft+a.doc.scrollLeft,g=c.gutters.offsetWidth,_=p+"px",C=0;C<h.length;C++)if(!h[C].hidden){a.options.fixedGutter&&(h[C].gutter&&(h[C].gutter.style.left=_),h[C].gutterBackground&&(h[C].gutterBackground.style.left=_));var S=h[C].alignable;if(S)for(var P=0;P<S.length;P++)S[P].style.left=_}a.options.fixedGutter&&(c.gutters.style.left=p+g+"px")}}function jm(a){if(!a.options.lineNumbers)return!1;var c=a.doc,h=Jn(a.options,c.first+c.size-1),p=a.display;if(h.length!=p.lineNumChars){var g=p.measure.appendChild(B("div",[B("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=g.firstChild.offsetWidth,C=g.offsetWidth-_;return p.lineGutter.style.width="",p.lineNumInnerWidth=Math.max(_,p.lineGutter.offsetWidth-C)+1,p.lineNumWidth=p.lineNumInnerWidth+C,p.lineNumChars=p.lineNumInnerWidth?h.length:-1,p.lineGutter.style.width=p.lineNumWidth+"px",eh(a.display),!0}return!1}function rh(a,c){for(var h=[],p=!1,g=0;g<a.length;g++){var _=a[g],C=null;if(typeof _!="string"&&(C=_.style,_=_.className),_=="CodeMirror-linenumbers")if(c)p=!0;else continue;h.push({className:_,style:C})}return c&&!p&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function Rm(a){var c=a.gutters,h=a.gutterSpecs;D(c),a.lineGutter=null;for(var p=0;p<h.length;++p){var g=h[p],_=g.className,C=g.style,S=c.appendChild(B("div",null,"CodeMirror-gutter "+_));C&&(S.style.cssText=C),_=="CodeMirror-linenumbers"&&(a.lineGutter=S,S.style.width=(a.lineNumWidth||1)+"px")}c.style.display=h.length?"":"none",eh(a)}function Jl(a){Rm(a.display),wn(a),Lm(a)}function _5(a,c,h,p){var g=this;this.input=h,g.scrollbarFiller=B("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=B("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=W("div",null,"CodeMirror-code"),g.selectionDiv=B("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=B("div",null,"CodeMirror-cursors"),g.measure=B("div",null,"CodeMirror-measure"),g.lineMeasure=B("div",null,"CodeMirror-measure"),g.lineSpace=W("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var _=W("div",[g.lineSpace],"CodeMirror-lines");g.mover=B("div",[_],null,"position: relative"),g.sizer=B("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=B("div",null,null,"position: absolute; height: "+ze+"px; width: 1px;"),g.gutters=B("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=B("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=B("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),l&&u<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!f&&!(t&&M)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=c.first,g.reportedViewFrom=g.reportedViewTo=c.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=rh(p.gutters,p.lineNumbers),Rm(g),h.init(g)}var Bu=0,oo=null;l?oo=-.53:t?oo=15:v?oo=-.7:y&&(oo=-1/3);function Nm(a){var c=a.wheelDeltaX,h=a.wheelDeltaY;return c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),h==null&&a.detail&&a.axis==a.VERTICAL_AXIS?h=a.detail:h==null&&(h=a.wheelDelta),{x:c,y:h}}function b5(a){var c=Nm(a);return c.x*=oo,c.y*=oo,c}function Fm(a,c){var h=Nm(c),p=h.x,g=h.y,_=a.display,C=_.scroller,S=C.scrollWidth>C.clientWidth,P=C.scrollHeight>C.clientHeight;if(p&&S||g&&P){if(g&&T&&f){e:for(var I=c.target,Q=_.view;I!=C;I=I.parentNode)for(var oe=0;oe<Q.length;oe++)if(Q[oe].node==I){a.display.currentWheelTarget=I;break e}}if(p&&!t&&!m&&oo!=null){g&&P&&Gl(a,Math.max(0,C.scrollTop+g*oo)),Ia(a,Math.max(0,C.scrollLeft+p*oo)),(!g||g&&P)&&$t(c),_.wheelStartX=null;return}if(g&&oo!=null){var ye=g*oo,de=a.doc.scrollTop,Te=de+_.wrapper.clientHeight;ye<0?de=Math.max(0,de+ye-50):Te=Math.min(a.doc.height,Te+ye+50),Qp(a,{top:de,bottom:Te})}Bu<20&&(_.wheelStartX==null?(_.wheelStartX=C.scrollLeft,_.wheelStartY=C.scrollTop,_.wheelDX=p,_.wheelDY=g,setTimeout(function(){if(_.wheelStartX!=null){var Fe=C.scrollLeft-_.wheelStartX,Ke=C.scrollTop-_.wheelStartY,tt=Ke&&_.wheelDY&&Ke/_.wheelDY||Fe&&_.wheelDX&&Fe/_.wheelDX;_.wheelStartX=_.wheelStartY=null,tt&&(oo=(oo*Bu+tt)/(Bu+1),++Bu)}},200)):(_.wheelDX+=p,_.wheelDY+=g))}}var io=function(a,c){this.ranges=a,this.primIndex=c};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var h=this.ranges[c],p=a.ranges[c];if(!Qn(h.anchor,p.anchor)||!Qn(h.head,p.head))return!1}return!0},io.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Gt(R(this.ranges[c].anchor),R(this.ranges[c].head));return new io(a,this.primIndex)},io.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},io.prototype.contains=function(a,c){c||(c=a);for(var h=0;h<this.ranges.length;h++){var p=this.ranges[h];if(yt(c,p.from())>=0&&yt(a,p.to())<=0)return h}return-1};var Gt=function(a,c){this.anchor=a,this.head=c};Gt.prototype.from=function(){return Ee(this.anchor,this.head)},Gt.prototype.to=function(){return re(this.anchor,this.head)},Gt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function $o(a,c,h){var p=a&&a.options.selectionsMayTouch,g=c[h];c.sort(function(ye,de){return yt(ye.from(),de.from())}),h=Be(c,g);for(var _=1;_<c.length;_++){var C=c[_],S=c[_-1],P=yt(S.to(),C.from());if(p&&!C.empty()?P>0:P>=0){var I=Ee(S.from(),C.from()),Q=re(S.to(),C.to()),oe=S.empty()?C.from()==C.head:S.from()==S.head;_<=h&&--h,c.splice(--_,2,new Gt(oe?Q:I,oe?I:Q))}}return new io(c,h)}function Xi(a,c){return new io([new Gt(a,c||a)],0)}function Yi(a){return a.text?He(a.from.line+a.text.length-1,Ie(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Bm(a,c){if(yt(a,c.from)<0)return a;if(yt(a,c.to)<=0)return Yi(c);var h=a.line+c.text.length-(c.to.line-c.from.line)-1,p=a.ch;return a.line==c.to.line&&(p+=Yi(c).ch-c.to.ch),He(h,p)}function nh(a,c){for(var h=[],p=0;p<a.sel.ranges.length;p++){var g=a.sel.ranges[p];h.push(new Gt(Bm(g.anchor,c),Bm(g.head,c)))}return $o(a.cm,h,a.sel.primIndex)}function Hm(a,c,h){return a.line==c.line?He(h.line,a.ch-c.ch+h.ch):He(h.line+(a.line-c.line),a.ch)}function w5(a,c,h){for(var p=[],g=He(a.first,0),_=g,C=0;C<c.length;C++){var S=c[C],P=Hm(S.from,g,_),I=Hm(Yi(S),g,_);if(g=S.to,_=I,h=="around"){var Q=a.sel.ranges[C],oe=yt(Q.head,Q.anchor)<0;p[C]=new Gt(oe?I:P,oe?P:I)}else p[C]=new Gt(P,P)}return new io(p,a.sel.primIndex)}function oh(a){a.doc.mode=wt(a.options,a.doc.modeOption),Ql(a)}function Ql(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Yl(a,100),a.state.modeGen++,a.curOp&&wn(a)}function Um(a,c){return c.from.ch==0&&c.to.ch==0&&Ie(c.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function ih(a,c,h,p){function g(lt){return h?h[lt]:null}function _(lt,rt,ft){bu(lt,rt,ft,p),_r(lt,"change",lt,c)}function C(lt,rt){for(var ft=[],_t=lt;_t<rt;++_t)ft.push(new zr(I[_t],g(_t),p));return ft}var S=c.from,P=c.to,I=c.text,Q=ct(a,S.line),oe=ct(a,P.line),ye=Ie(I),de=g(I.length-1),Te=P.line-S.line;if(c.full)a.insert(0,C(0,I.length)),a.remove(I.length,a.size-I.length);else if(Um(a,c)){var Fe=C(0,I.length-1);_(oe,oe.text,de),Te&&a.remove(S.line,Te),Fe.length&&a.insert(S.line,Fe)}else if(Q==oe)if(I.length==1)_(Q,Q.text.slice(0,S.ch)+ye+Q.text.slice(P.ch),de);else{var Ke=C(1,I.length-1);Ke.push(new zr(ye+Q.text.slice(P.ch),de,p)),_(Q,Q.text.slice(0,S.ch)+I[0],g(0)),a.insert(S.line+1,Ke)}else if(I.length==1)_(Q,Q.text.slice(0,S.ch)+I[0]+oe.text.slice(P.ch),g(0)),a.remove(S.line+1,Te);else{_(Q,Q.text.slice(0,S.ch)+I[0],g(0)),_(oe,ye+oe.text.slice(P.ch),de);var tt=C(1,I.length-1);Te>1&&a.remove(S.line+1,Te-1),a.insert(S.line+1,tt)}_r(a,"change",a,c)}function Ji(a,c,h){function p(g,_,C){if(g.linked)for(var S=0;S<g.linked.length;++S){var P=g.linked[S];if(P.doc!=_){var I=C&&P.sharedHist;h&&!I||(c(P.doc,I),p(P.doc,g,I))}}}p(a,null,!0)}function zm(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,qp(a),oh(a),Wm(a),a.options.direction=c.direction,a.options.lineWrapping||Fi(a),a.options.mode=c.modeOption,wn(a)}function Wm(a){(a.doc.direction=="rtl"?ue:q)(a.display.lineDiv,"CodeMirror-rtl")}function x5(a){Bn(a,function(){Wm(a),wn(a)})}function Hu(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function ah(a,c){var h={from:R(c.from),to:Yi(c),text:Hr(a,c.from,c.to)};return Gm(a,h,c.from.line,c.to.line+1),Ji(a,function(p){return Gm(p,h,c.from.line,c.to.line+1)},!0),h}function qm(a){for(;a.length;){var c=Ie(a);if(c.ranges)a.pop();else break}}function C5(a,c){if(c)return qm(a.done),Ie(a.done);if(a.done.length&&!Ie(a.done).ranges)return Ie(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),Ie(a.done)}function Km(a,c,h,p){var g=a.history;g.undone.length=0;var _=+new Date,C,S;if((g.lastOp==p||g.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&g.lastModTime>_-(a.cm?a.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(C=C5(g,g.lastOp==p)))S=Ie(C.changes),yt(c.from,c.to)==0&&yt(c.from,S.to)==0?S.to=Yi(c):C.changes.push(ah(a,c));else{var P=Ie(g.done);for((!P||!P.ranges)&&Uu(a.sel,g.done),C={changes:[ah(a,c)],generation:g.generation},g.done.push(C);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(h),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=_,g.lastOp=g.lastSelOp=p,g.lastOrigin=g.lastSelOrigin=c.origin,S||nt(a,"historyAdded")}function S5(a,c,h,p){var g=c.charAt(0);return g=="*"||g=="+"&&h.ranges.length==p.ranges.length&&h.somethingSelected()==p.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function O5(a,c,h,p){var g=a.history,_=p&&p.origin;h==g.lastSelOp||_&&g.lastSelOrigin==_&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==_||S5(a,_,Ie(g.done),c))?g.done[g.done.length-1]=c:Uu(c,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=_,g.lastSelOp=h,p&&p.clearRedo!==!1&&qm(g.undone)}function Uu(a,c){var h=Ie(c);h&&h.ranges&&h.equals(a)||c.push(a)}function Gm(a,c,h,p){var g=c["spans_"+a.id],_=0;a.iter(Math.max(a.first,h),Math.min(a.first+a.size,p),function(C){C.markedSpans&&((g||(g=c["spans_"+a.id]={}))[_]=C.markedSpans),++_})}function T5(a){if(!a)return null;for(var c,h=0;h<a.length;++h)a[h].marker.explicitlyCleared?c||(c=a.slice(0,h)):c&&c.push(a[h]);return c?c.length?c:null:a}function E5(a,c){var h=c["spans_"+a.id];if(!h)return null;for(var p=[],g=0;g<c.text.length;++g)p.push(T5(h[g]));return p}function Zm(a,c){var h=E5(a,c),p=ui(a,c);if(!h)return p;if(!p)return h;for(var g=0;g<h.length;++g){var _=h[g],C=p[g];if(_&&C)e:for(var S=0;S<C.length;++S){for(var P=C[S],I=0;I<_.length;++I)if(_[I].marker==P.marker)continue e;_.push(P)}else C&&(h[g]=C)}return h}function Ts(a,c,h){for(var p=[],g=0;g<a.length;++g){var _=a[g];if(_.ranges){p.push(h?io.prototype.deepCopy.call(_):_);continue}var C=_.changes,S=[];p.push({changes:S});for(var P=0;P<C.length;++P){var I=C[P],Q=void 0;if(S.push({from:I.from,to:I.to,text:I.text}),c)for(var oe in I)(Q=oe.match(/^spans_(\d+)$/))&&Be(c,Number(Q[1]))>-1&&(Ie(S)[oe]=I[oe],delete I[oe])}}return p}function sh(a,c,h,p){if(p){var g=a.anchor;if(h){var _=yt(c,g)<0;_!=yt(h,g)<0?(g=c,c=h):_!=yt(c,h)<0&&(c=h)}return new Gt(g,c)}else return new Gt(h||c,c)}function zu(a,c,h,p,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),tn(a,new io([sh(a.sel.primary(),c,h,g)],0),p)}function Xm(a,c,h){for(var p=[],g=a.cm&&(a.cm.display.shift||a.extend),_=0;_<a.sel.ranges.length;_++)p[_]=sh(a.sel.ranges[_],c[_],null,g);var C=$o(a.cm,p,a.sel.primIndex);tn(a,C,h)}function lh(a,c,h,p){var g=a.sel.ranges.slice(0);g[c]=h,tn(a,$o(a.cm,g,a.sel.primIndex),p)}function Ym(a,c,h,p){tn(a,Xi(c,h),p)}function P5(a,c,h){var p={ranges:c.ranges,update:function(g){this.ranges=[];for(var _=0;_<g.length;_++)this.ranges[_]=new Gt(qe(a,g[_].anchor),qe(a,g[_].head))},origin:h&&h.origin};return nt(a,"beforeSelectionChange",a,p),a.cm&&nt(a.cm,"beforeSelectionChange",a.cm,p),p.ranges!=c.ranges?$o(a.cm,p.ranges,p.ranges.length-1):c}function Jm(a,c,h){var p=a.history.done,g=Ie(p);g&&g.ranges?(p[p.length-1]=c,Wu(a,c,h)):tn(a,c,h)}function tn(a,c,h){Wu(a,c,h),O5(a,a.sel,a.cm?a.cm.curOp.id:NaN,h)}function Wu(a,c,h){(At(a,"beforeSelectionChange")||a.cm&&At(a.cm,"beforeSelectionChange"))&&(c=P5(a,c,h));var p=h&&h.bias||(yt(c.primary().head,a.sel.primary().head)<0?-1:1);Qm(a,ty(a,c,p,!0)),!(h&&h.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Ss(a.cm)}function Qm(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,pt(a.cm)),_r(a,"cursorActivity",a))}function ey(a){Qm(a,ty(a,a.sel,null,!1))}function ty(a,c,h,p){for(var g,_=0;_<c.ranges.length;_++){var C=c.ranges[_],S=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[_],P=qu(a,C.anchor,S&&S.anchor,h,p),I=qu(a,C.head,S&&S.head,h,p);(g||P!=C.anchor||I!=C.head)&&(g||(g=c.ranges.slice(0,_)),g[_]=new Gt(P,I))}return g?$o(a.cm,g,c.primIndex):c}function Es(a,c,h,p,g){var _=ct(a,c.line);if(_.markedSpans)for(var C=0;C<_.markedSpans.length;++C){var S=_.markedSpans[C],P=S.marker,I="selectLeft"in P?!P.selectLeft:P.inclusiveLeft,Q="selectRight"in P?!P.selectRight:P.inclusiveRight;if((S.from==null||(I?S.from<=c.ch:S.from<c.ch))&&(S.to==null||(Q?S.to>=c.ch:S.to>c.ch))){if(g&&(nt(P,"beforeCursorEnter"),P.explicitlyCleared))if(_.markedSpans){--C;continue}else break;if(!P.atomic)continue;if(h){var oe=P.find(p<0?1:-1),ye=void 0;if((p<0?Q:I)&&(oe=ry(a,oe,-p,oe&&oe.line==c.line?_:null)),oe&&oe.line==c.line&&(ye=yt(oe,h))&&(p<0?ye<0:ye>0))return Es(a,oe,c,p,g)}var de=P.find(p<0?-1:1);return(p<0?I:Q)&&(de=ry(a,de,p,de.line==c.line?_:null)),de?Es(a,de,c,p,g):null}}return c}function qu(a,c,h,p,g){var _=p||1,C=Es(a,c,h,_,g)||!g&&Es(a,c,h,_,!0)||Es(a,c,h,-_,g)||!g&&Es(a,c,h,-_,!0);return C||(a.cantEdit=!0,He(a.first,0))}function ry(a,c,h,p){return h<0&&c.ch==0?c.line>a.first?qe(a,He(c.line-1)):null:h>0&&c.ch==(p||ct(a,c.line)).text.length?c.line<a.first+a.size-1?He(c.line+1,0):null:new He(c.line,c.ch+h)}function ny(a){a.setSelection(He(a.firstLine(),0),He(a.lastLine()),Ne)}function oy(a,c,h){var p={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return p.canceled=!0}};return h&&(p.update=function(g,_,C,S){g&&(p.from=qe(a,g)),_&&(p.to=qe(a,_)),C&&(p.text=C),S!==void 0&&(p.origin=S)}),nt(a,"beforeChange",a,p),a.cm&&nt(a.cm,"beforeChange",a.cm,p),p.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:p.from,to:p.to,text:p.text,origin:p.origin}}function Ps(a,c,h){if(a.cm){if(!a.cm.curOp)return Wr(a.cm,Ps)(a,c,h);if(a.cm.state.suppressEdits)return}if(!((At(a,"beforeChange")||a.cm&&At(a.cm,"beforeChange"))&&(c=oy(a,c,!0),!c))){var p=Mr&&!h&&no(a,c.from,c.to);if(p)for(var g=p.length-1;g>=0;--g)iy(a,{from:p[g].from,to:p[g].to,text:g?[""]:c.text,origin:c.origin});else iy(a,c)}}function iy(a,c){if(!(c.text.length==1&&c.text[0]==""&&yt(c.from,c.to)==0)){var h=nh(a,c);Km(a,c,h,a.cm?a.cm.curOp.id:NaN),ec(a,c,h,ui(a,c));var p=[];Ji(a,function(g,_){!_&&Be(p,g.history)==-1&&(cy(g.history,c),p.push(g.history)),ec(g,c,null,ui(g,c))})}}function Ku(a,c,h){var p=a.cm&&a.cm.state.suppressEdits;if(!(p&&!h)){for(var g=a.history,_,C=a.sel,S=c=="undo"?g.done:g.undone,P=c=="undo"?g.undone:g.done,I=0;I<S.length&&(_=S[I],!(h?_.ranges&&!_.equals(a.sel):!_.ranges));I++);if(I!=S.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(_=S.pop(),_.ranges){if(Uu(_,P),h&&!_.equals(a.sel)){tn(a,_,{clearRedo:!1});return}C=_}else if(p){S.push(_);return}else break;var Q=[];Uu(C,P),P.push({changes:Q,generation:g.generation}),g.generation=_.generation||++g.maxGeneration;for(var oe=At(a,"beforeChange")||a.cm&&At(a.cm,"beforeChange"),ye=function(Fe){var Ke=_.changes[Fe];if(Ke.origin=c,oe&&!oy(a,Ke,!1))return S.length=0,{};Q.push(ah(a,Ke));var tt=Fe?nh(a,Ke):Ie(S);ec(a,Ke,tt,Zm(a,Ke)),!Fe&&a.cm&&a.cm.scrollIntoView({from:Ke.from,to:Yi(Ke)});var lt=[];Ji(a,function(rt,ft){!ft&&Be(lt,rt.history)==-1&&(cy(rt.history,Ke),lt.push(rt.history)),ec(rt,Ke,null,Zm(rt,Ke))})},de=_.changes.length-1;de>=0;--de){var Te=ye(de);if(Te)return Te.v}}}}function ay(a,c){if(c!=0&&(a.first+=c,a.sel=new io(ot(a.sel.ranges,function(g){return new Gt(He(g.anchor.line+c,g.anchor.ch),He(g.head.line+c,g.head.ch))}),a.sel.primIndex),a.cm)){wn(a.cm,a.first,a.first-c,c);for(var h=a.cm.display,p=h.viewFrom;p<h.viewTo;p++)Gi(a.cm,p,"gutter")}}function ec(a,c,h,p){if(a.cm&&!a.cm.curOp)return Wr(a.cm,ec)(a,c,h,p);if(c.to.line<a.first){ay(a,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var g=c.text.length-1-(a.first-c.from.line);ay(a,g),c={from:He(a.first,0),to:He(c.to.line+g,c.to.ch),text:[Ie(c.text)],origin:c.origin}}var _=a.lastLine();c.to.line>_&&(c={from:c.from,to:He(_,ct(a,_).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Hr(a,c.from,c.to),h||(h=nh(a,c)),a.cm?k5(a.cm,c,p):ih(a,c,p),Wu(a,h,Ne),a.cantEdit&&qu(a,He(a.firstLine(),0))&&(a.cantEdit=!1)}}function k5(a,c,h){var p=a.doc,g=a.display,_=c.from,C=c.to,S=!1,P=_.line;a.options.lineWrapping||(P=jt(lr(ct(p,_.line))),p.iter(P,C.line+1,function(de){if(de==g.maxLine)return S=!0,!0})),p.sel.contains(c.from,c.to)>-1&&pt(a),ih(p,c,h,Sm(a)),a.options.lineWrapping||(p.iter(P,_.line+c.text.length,function(de){var Te=pi(de);Te>g.maxLineLength&&(g.maxLine=de,g.maxLineLength=Te,g.maxLineChanged=!0,S=!1)}),S&&(a.curOp.updateMaxLine=!0)),Ri(p,_.line),Yl(a,400);var I=c.text.length-(C.line-_.line)-1;c.full?wn(a):_.line==C.line&&c.text.length==1&&!Um(a.doc,c)?Gi(a,_.line,"text"):wn(a,_.line,C.line+1,I);var Q=At(a,"changes"),oe=At(a,"change");if(oe||Q){var ye={from:_,to:C,text:c.text,removed:c.removed,origin:c.origin};oe&&_r(a,"change",a,ye),Q&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(ye)}a.display.selForContextMenu=null}function ks(a,c,h,p,g){var _;p||(p=h),yt(p,h)<0&&(_=[p,h],h=_[0],p=_[1]),typeof c=="string"&&(c=a.splitLines(c)),Ps(a,{from:h,to:p,text:c,origin:g})}function sy(a,c,h,p){h<a.line?a.line+=p:c<a.line&&(a.line=c,a.ch=0)}function ly(a,c,h,p){for(var g=0;g<a.length;++g){var _=a[g],C=!0;if(_.ranges){_.copied||(_=a[g]=_.deepCopy(),_.copied=!0);for(var S=0;S<_.ranges.length;S++)sy(_.ranges[S].anchor,c,h,p),sy(_.ranges[S].head,c,h,p);continue}for(var P=0;P<_.changes.length;++P){var I=_.changes[P];if(h<I.from.line)I.from=He(I.from.line+p,I.from.ch),I.to=He(I.to.line+p,I.to.ch);else if(c<=I.to.line){C=!1;break}}C||(a.splice(0,g+1),g=0)}}function cy(a,c){var h=c.from.line,p=c.to.line,g=c.text.length-(p-h)-1;ly(a.done,h,p,g),ly(a.undone,h,p,g)}function tc(a,c,h,p){var g=c,_=c;return typeof c=="number"?_=ct(a,We(a,c)):g=jt(c),g==null?null:(p(_,g)&&a.cm&&Gi(a.cm,g,h),_)}function rc(a){this.lines=a,this.parent=null;for(var c=0,h=0;h<a.length;++h)a[h].parent=this,c+=a[h].height;this.height=c}rc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var h=a,p=a+c;h<p;++h){var g=this.lines[h];this.height-=g.height,gs(g),_r(g,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,h){this.height+=h,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var p=0;p<c.length;++p)c[p].parent=this},iterN:function(a,c,h){for(var p=a+c;a<p;++a)if(h(this.lines[a]))return!0}};function nc(a){this.children=a;for(var c=0,h=0,p=0;p<a.length;++p){var g=a[p];c+=g.chunkSize(),h+=g.height,g.parent=this}this.size=c,this.height=h,this.parent=null}nc.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var h=0;h<this.children.length;++h){var p=this.children[h],g=p.chunkSize();if(a<g){var _=Math.min(c,g-a),C=p.height;if(p.removeInner(a,_),this.height-=C-p.height,g==_&&(this.children.splice(h--,1),p.parent=null),(c-=_)==0)break;a=0}else a-=g}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof rc))){var S=[];this.collapse(S),this.children=[new rc(S)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,h){this.size+=c.length,this.height+=h;for(var p=0;p<this.children.length;++p){var g=this.children[p],_=g.chunkSize();if(a<=_){if(g.insertInner(a,c,h),g.lines&&g.lines.length>50){for(var C=g.lines.length%25+25,S=C;S<g.lines.length;){var P=new rc(g.lines.slice(S,S+=25));g.height-=P.height,this.children.splice(++p,0,P),P.parent=this}g.lines=g.lines.slice(0,C),this.maybeSpill()}break}a-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),h=new nc(c);if(a.parent){a.size-=h.size,a.height-=h.height;var g=Be(a.parent.children,a);a.parent.children.splice(g+1,0,h)}else{var p=new nc(a.children);p.parent=a,a.children=[p,h],a=p}h.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,h){for(var p=0;p<this.children.length;++p){var g=this.children[p],_=g.chunkSize();if(a<_){var C=Math.min(c,_-a);if(g.iterN(a,C,h))return!0;if((c-=C)==0)break;a=0}else a-=_}}};var oc=function(a,c,h){if(h)for(var p in h)h.hasOwnProperty(p)&&(this[p]=h[p]);this.doc=a,this.node=c};oc.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,h=this.line,p=jt(h);if(!(p==null||!c)){for(var g=0;g<c.length;++g)c[g]==this&&c.splice(g--,1);c.length||(h.widgets=null);var _=qi(this);Ur(h,Math.max(0,h.height-_)),a&&(Bn(a,function(){uy(a,h,-_),Gi(a,p,"widget")}),_r(a,"lineWidgetCleared",a,this,p))}},oc.prototype.changed=function(){var a=this,c=this.height,h=this.doc.cm,p=this.line;this.height=null;var g=qi(this)-c;g&&(bn(this.doc,p)||Ur(p,p.height+g),h&&Bn(h,function(){h.curOp.forceUpdate=!0,uy(h,p,g),_r(h,"lineWidgetChanged",h,a,jt(p))}))},Rt(oc);function uy(a,c,h){yo(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Yp(a,h)}function A5(a,c,h,p){var g=new oc(a,h,p),_=a.cm;return _&&g.noHScroll&&(_.display.alignWidgets=!0),tc(a,c,"widget",function(C){var S=C.widgets||(C.widgets=[]);if(g.insertAt==null?S.push(g):S.splice(Math.min(S.length,Math.max(0,g.insertAt)),0,g),g.line=C,_&&!bn(a,C)){var P=yo(C)<a.scrollTop;Ur(C,C.height+qi(g)),P&&Yp(_,g.height),_.curOp.forceUpdate=!0}return!0}),_&&_r(_,"lineWidgetAdded",_,g,typeof c=="number"?c:jt(c)),g}var fy=0,Qi=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++fy};Qi.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&Da(a),At(this,"clear")){var h=this.find();h&&_r(this,"clear",h.from,h.to)}for(var p=null,g=null,_=0;_<this.lines.length;++_){var C=this.lines[_],S=un(C.markedSpans,this);a&&!this.collapsed?Gi(a,jt(C),"text"):a&&(S.to!=null&&(g=jt(C)),S.from!=null&&(p=jt(C))),C.markedSpans=Rr(C.markedSpans,S),S.from==null&&this.collapsed&&!bn(this.doc,C)&&a&&Ur(C,ws(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var P=0;P<this.lines.length;++P){var I=lr(this.lines[P]),Q=pi(I);Q>a.display.maxLineLength&&(a.display.maxLine=I,a.display.maxLineLength=Q,a.display.maxLineChanged=!0)}p!=null&&a&&this.collapsed&&wn(a,p,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&ey(a.doc)),a&&_r(a,"markerCleared",a,this,p,g),c&&La(a),this.parent&&this.parent.clear()}},Qi.prototype.find=function(a,c){a==null&&this.type=="bookmark"&&(a=1);for(var h,p,g=0;g<this.lines.length;++g){var _=this.lines[g],C=un(_.markedSpans,this);if(C.from!=null&&(h=He(c?_:jt(_),C.from),a==-1))return h;if(C.to!=null&&(p=He(c?_:jt(_),C.to),a==1))return p}return h&&{from:h,to:p}},Qi.prototype.changed=function(){var a=this,c=this.find(-1,!0),h=this,p=this.doc.cm;!c||!p||Bn(p,function(){var g=c.line,_=jt(c.line),C=ve(p,_);if(C&&(zl(C),p.curOp.selectionChanged=p.curOp.forceUpdate=!0),p.curOp.updateMaxLine=!0,!bn(h.doc,g)&&h.height!=null){var S=h.height;h.height=null;var P=qi(h)-S;P&&Ur(g,g.height+P)}_r(p,"markerChanged",p,a)})},Qi.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||Be(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Qi.prototype.detachLine=function(a){if(this.lines.splice(Be(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Rt(Qi);function As(a,c,h,p,g){if(p&&p.shared)return M5(a,c,h,p,g);if(a.cm&&!a.cm.curOp)return Wr(a.cm,As)(a,c,h,p,g);var _=new Qi(a,g),C=yt(c,h);if(p&&xe(p,_,!1),C>0||C==0&&_.clearWhenEmpty!==!1)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=W("span",[_.replacedWith],"CodeMirror-widget"),p.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),p.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(xt(a,c.line,c,h,_)||c.line!=h.line&&xt(a,h.line,c,h,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");eo()}_.addToHistory&&Km(a,{from:c,to:h,origin:"markText"},a.sel,NaN);var S=c.line,P=a.cm,I;if(a.iter(S,h.line+1,function(oe){P&&_.collapsed&&!P.options.lineWrapping&&lr(oe)==P.display.maxLine&&(I=!0),_.collapsed&&S!=c.line&&Ur(oe,0),vs(oe,new Ao(_,S==c.line?c.ch:null,S==h.line?h.ch:null),a.cm&&a.cm.curOp),++S}),_.collapsed&&a.iter(c.line,h.line+1,function(oe){bn(a,oe)&&Ur(oe,0)}),_.clearOnEnter&&be(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(Ea(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),_.collapsed&&(_.id=++fy,_.atomic=!0),P){if(I&&(P.curOp.updateMaxLine=!0),_.collapsed)wn(P,c.line,h.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var Q=c.line;Q<=h.line;Q++)Gi(P,Q,"text");_.atomic&&ey(P.doc),_r(P,"markerAdded",P,_)}return _}var ic=function(a,c){this.markers=a,this.primary=c;for(var h=0;h<a.length;++h)a[h].parent=this};ic.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();_r(this,"clear")}},ic.prototype.find=function(a,c){return this.primary.find(a,c)},Rt(ic);function M5(a,c,h,p,g){p=xe(p),p.shared=!1;var _=[As(a,c,h,p,g)],C=_[0],S=p.widgetNode;return Ji(a,function(P){S&&(p.widgetNode=S.cloneNode(!0)),_.push(As(P,qe(P,c),qe(P,h),p,g));for(var I=0;I<P.linked.length;++I)if(P.linked[I].isParent)return;C=Ie(_)}),new ic(_,C)}function dy(a){return a.findMarks(He(a.first,0),a.clipPos(He(a.lastLine())),function(c){return c.parent})}function V5(a,c){for(var h=0;h<c.length;h++){var p=c[h],g=p.find(),_=a.clipPos(g.from),C=a.clipPos(g.to);if(yt(_,C)){var S=As(a,_,C,p.primary,p.primary.type);p.markers.push(S),S.parent=p}}}function I5(a){for(var c=function(p){var g=a[p],_=[g.primary.doc];Ji(g.primary.doc,function(P){return _.push(P)});for(var C=0;C<g.markers.length;C++){var S=g.markers[C];Be(_,S.doc)==-1&&(S.parent=null,g.markers.splice(C--,1))}},h=0;h<a.length;h++)c(h)}var $5=0,xn=function(a,c,h,p,g){if(!(this instanceof xn))return new xn(a,c,h,p,g);h==null&&(h=0),nc.call(this,[new rc([new zr("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var _=He(h,0);this.sel=Xi(_),this.history=new Hu(null),this.id=++$5,this.modeOption=c,this.lineSep=p,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),ih(this,{from:_,to:_,text:a}),tn(this,Xi(_),Ne)};xn.prototype=A(nc.prototype,{constructor:xn,iter:function(a,c,h){h?this.iterN(a-this.first,c-a,h):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var h=0,p=0;p<c.length;++p)h+=c[p].height;this.insertInner(a-this.first,c,h)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=sr(this,this.first,this.first+this.size);return a===!1?c:c.join(a||this.lineSeparator())},setValue:qr(function(a){var c=He(this.first,0),h=this.first+this.size-1;Ps(this,{from:c,to:He(h,ct(this,h).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Kl(this.cm,0,0),tn(this,Xi(c),Ne)}),replaceRange:function(a,c,h,p){c=qe(this,c),h=h?qe(this,h):c,ks(this,a,c,h,p)},getRange:function(a,c,h){var p=Hr(this,qe(this,a),qe(this,c));return h===!1?p:h===""?p.join(""):p.join(h||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(jn(this,a))return ct(this,a)},getLineNumber:function(a){return jt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=ct(this,a)),lr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return qe(this,a)},getCursor:function(a){var c=this.sel.primary(),h;return a==null||a=="head"?h=c.head:a=="anchor"?h=c.anchor:a=="end"||a=="to"||a===!1?h=c.to():h=c.from(),h},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qr(function(a,c,h){Ym(this,qe(this,typeof a=="number"?He(a,c||0):a),null,h)}),setSelection:qr(function(a,c,h){Ym(this,qe(this,a),qe(this,c||a),h)}),extendSelection:qr(function(a,c,h){zu(this,qe(this,a),c&&qe(this,c),h)}),extendSelections:qr(function(a,c){Xm(this,Dt(this,a),c)}),extendSelectionsBy:qr(function(a,c){var h=ot(this.sel.ranges,a);Xm(this,Dt(this,h),c)}),setSelections:qr(function(a,c,h){if(a.length){for(var p=[],g=0;g<a.length;g++)p[g]=new Gt(qe(this,a[g].anchor),qe(this,a[g].head||a[g].anchor));c==null&&(c=Math.min(a.length-1,this.sel.primIndex)),tn(this,$o(this.cm,p,c),h)}}),addSelection:qr(function(a,c,h){var p=this.sel.ranges.slice(0);p.push(new Gt(qe(this,a),qe(this,c||a))),tn(this,$o(this.cm,p,p.length-1),h)}),getSelection:function(a){for(var c=this.sel.ranges,h,p=0;p<c.length;p++){var g=Hr(this,c[p].from(),c[p].to());h=h?h.concat(g):g}return a===!1?h:h.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],h=this.sel.ranges,p=0;p<h.length;p++){var g=Hr(this,h[p].from(),h[p].to());a!==!1&&(g=g.join(a||this.lineSeparator())),c[p]=g}return c},replaceSelection:function(a,c,h){for(var p=[],g=0;g<this.sel.ranges.length;g++)p[g]=a;this.replaceSelections(p,c,h||"+input")},replaceSelections:qr(function(a,c,h){for(var p=[],g=this.sel,_=0;_<g.ranges.length;_++){var C=g.ranges[_];p[_]={from:C.from(),to:C.to(),text:this.splitLines(a[_]),origin:h}}for(var S=c&&c!="end"&&w5(this,p,c),P=p.length-1;P>=0;P--)Ps(this,p[P]);S?Jm(this,S):this.cm&&Ss(this.cm)}),undo:qr(function(){Ku(this,"undo")}),redo:qr(function(){Ku(this,"redo")}),undoSelection:qr(function(){Ku(this,"undo",!0)}),redoSelection:qr(function(){Ku(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,h=0,p=0;p<a.done.length;p++)a.done[p].ranges||++c;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++h;return{undo:c,redo:h}},clearHistory:function(){var a=this;this.history=new Hu(this.history),Ji(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ts(this.history.done),undone:Ts(this.history.undone)}},setHistory:function(a){var c=this.history=new Hu(this.history);c.done=Ts(a.done.slice(0),null,!0),c.undone=Ts(a.undone.slice(0),null,!0)},setGutterMarker:qr(function(a,c,h){return tc(this,a,"gutter",function(p){var g=p.gutterMarkers||(p.gutterMarkers={});return g[c]=h,!h&&Ce(g)&&(p.gutterMarkers=null),!0})}),clearGutter:qr(function(a){var c=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[a]&&tc(c,h,"gutter",function(){return h.gutterMarkers[a]=null,Ce(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if(typeof a=="number"){if(!jn(this,a)||(c=a,a=ct(this,a),!a))return null}else if(c=jt(a),c==null)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:qr(function(a,c,h){return tc(this,a,c=="gutter"?"gutter":"class",function(p){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!p[g])p[g]=h;else{if(G(h).test(p[g]))return!1;p[g]+=" "+h}return!0})}),removeLineClass:qr(function(a,c,h){return tc(this,a,c=="gutter"?"gutter":"class",function(p){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",_=p[g];if(_)if(h==null)p[g]=null;else{var C=_.match(G(h));if(!C)return!1;var S=C.index+C[0].length;p[g]=_.slice(0,C.index)+(!C.index||S==_.length?"":" ")+_.slice(S)||null}else return!1;return!0})}),addLineWidget:qr(function(a,c,h){return A5(this,a,c,h)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,h){return As(this,qe(this,a),qe(this,c),h,h&&h.type||"range")},setBookmark:function(a,c){var h={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return a=qe(this,a),As(this,a,a,h,"bookmark")},findMarksAt:function(a){a=qe(this,a);var c=[],h=ct(this,a.line).markedSpans;if(h)for(var p=0;p<h.length;++p){var g=h[p];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&c.push(g.marker.parent||g.marker)}return c},findMarks:function(a,c,h){a=qe(this,a),c=qe(this,c);var p=[],g=a.line;return this.iter(a.line,c.line+1,function(_){var C=_.markedSpans;if(C)for(var S=0;S<C.length;S++){var P=C[S];!(P.to!=null&&g==a.line&&a.ch>=P.to||P.from==null&&g!=a.line||P.from!=null&&g==c.line&&P.from>=c.ch)&&(!h||h(P.marker))&&p.push(P.marker.parent||P.marker)}++g}),p},getAllMarks:function(){var a=[];return this.iter(function(c){var h=c.markedSpans;if(h)for(var p=0;p<h.length;++p)h[p].from!=null&&a.push(h[p].marker)}),a},posFromIndex:function(a){var c,h=this.first,p=this.lineSeparator().length;return this.iter(function(g){var _=g.text.length+p;if(_>a)return c=a,!0;a-=_,++h}),qe(this,He(h,c))},indexFromPos:function(a){a=qe(this,a);var c=a.ch;if(a.line<this.first||a.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,a.line,function(p){c+=p.text.length+h}),c},copy:function(a){var c=new xn(sr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,h=this.first+this.size;a.from!=null&&a.from>c&&(c=a.from),a.to!=null&&a.to<h&&(h=a.to);var p=new xn(sr(this,c,h),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(p.history=this.history),(this.linked||(this.linked=[])).push({doc:p,sharedHist:a.sharedHist}),p.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],V5(p,dy(this)),p},unlinkDoc:function(a){if(a instanceof cr&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var h=this.linked[c];if(h.doc==a){this.linked.splice(c,1),a.unlinkDoc(this),I5(dy(this));break}}if(a.history==this.history){var p=[a.id];Ji(a,function(g){return p.push(g.id)},!0),a.history=new Hu(null),a.history.done=Ts(this.history.done,p),a.history.undone=Ts(this.history.undone,p)}},iterLinkedDocs:function(a){Ji(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Sr(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:qr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&x5(this.cm))})}),xn.prototype.eachLine=xn.prototype.iter;var py=0;function D5(a){var c=this;if(hy(c),!(Qe(c,a)||_o(c.display,a))){$t(a),l&&(py=+new Date);var h=Ma(c,a,!0),p=a.dataTransfer.files;if(!(!h||c.isReadOnly()))if(p&&p.length&&window.FileReader&&window.File)for(var g=p.length,_=Array(g),C=0,S=function(){++C==g&&Wr(c,function(){h=qe(c.doc,h);var de={from:h,to:h,text:c.doc.splitLines(_.filter(function(Te){return Te!=null}).join(c.doc.lineSeparator())),origin:"paste"};Ps(c.doc,de),Jm(c.doc,Xi(qe(c.doc,h),qe(c.doc,Yi(de))))})()},P=function(de,Te){if(c.options.allowDropFileTypes&&Be(c.options.allowDropFileTypes,de.type)==-1){S();return}var Fe=new FileReader;Fe.onerror=function(){return S()},Fe.onload=function(){var Ke=Fe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ke)){S();return}_[Te]=Ke,S()},Fe.readAsText(de)},I=0;I<p.length;I++)P(p[I],I);else{if(c.state.draggingText&&c.doc.sel.contains(h)>-1){c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);return}try{var Q=a.dataTransfer.getData("Text");if(Q){var oe;if(c.state.draggingText&&!c.state.draggingText.copy&&(oe=c.listSelections()),Wu(c.doc,Xi(h,h)),oe)for(var ye=0;ye<oe.length;++ye)ks(c.doc,"",oe[ye].anchor,oe[ye].head,"drag");c.replaceSelection(Q,"around","paste"),c.display.input.focus()}}catch{}}}}function L5(a,c){if(l&&(!a.state.draggingText||+new Date-py<100)){H(c);return}if(!(Qe(a,c)||_o(a.display,c))&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!y)){var h=B("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(h.width=h.height=1,a.display.wrapper.appendChild(h),h._top=h.offsetTop),c.dataTransfer.setDragImage(h,0,0),m&&h.parentNode.removeChild(h)}}function j5(a,c){var h=Ma(a,c);if(h){var p=document.createDocumentFragment();Em(a,h,p),a.display.dragCursor||(a.display.dragCursor=B("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),$(a.display.dragCursor,p)}}function hy(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function vy(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),h=[],p=0;p<c.length;p++){var g=c[p].CodeMirror;g&&h.push(g)}h.length&&h[0].operation(function(){for(var _=0;_<h.length;_++)a(h[_])})}}var gy=!1;function R5(){gy||(N5(),gy=!0)}function N5(){var a;be(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,vy(F5)},100))}),be(window,"blur",function(){return vy(Cs)})}function F5(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var ea={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ac=0;ac<10;ac++)ea[ac+48]=ea[ac+96]=String(ac);for(var Gu=65;Gu<=90;Gu++)ea[Gu]=String.fromCharCode(Gu);for(var sc=1;sc<=12;sc++)ea[sc+111]=ea[sc+63235]="F"+sc;var gi={};gi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},gi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},gi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},gi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},gi.default=T?gi.macDefault:gi.pcDefault;function B5(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var h,p,g,_,C=0;C<c.length-1;C++){var S=c[C];if(/^(cmd|meta|m)$/i.test(S))_=!0;else if(/^a(lt)?$/i.test(S))h=!0;else if(/^(c|ctrl|control)$/i.test(S))p=!0;else if(/^s(hift)?$/i.test(S))g=!0;else throw new Error("Unrecognized modifier name: "+S)}return h&&(a="Alt-"+a),p&&(a="Ctrl-"+a),_&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function H5(a){var c={};for(var h in a)if(a.hasOwnProperty(h)){var p=a[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if(p=="..."){delete a[h];continue}for(var g=ot(h.split(" "),B5),_=0;_<g.length;_++){var C=void 0,S=void 0;_==g.length-1?(S=g.join(" "),C=p):(S=g.slice(0,_+1).join(" "),C="...");var P=c[S];if(!P)c[S]=C;else if(P!=C)throw new Error("Inconsistent bindings for "+S)}delete a[h]}for(var I in c)a[I]=c[I];return a}function Ms(a,c,h,p){c=Zu(c);var g=c.call?c.call(a,p):c[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&h(g))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Ms(a,c.fallthrough,h,p);for(var _=0;_<c.fallthrough.length;_++){var C=Ms(a,c.fallthrough[_],h,p);if(C)return C}}}function my(a){var c=typeof a=="string"?a:ea[a.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function yy(a,c,h){var p=a;return c.altKey&&p!="Alt"&&(a="Alt-"+a),(te?c.metaKey:c.ctrlKey)&&p!="Ctrl"&&(a="Ctrl-"+a),(te?c.ctrlKey:c.metaKey)&&p!="Mod"&&(a="Cmd-"+a),!h&&c.shiftKey&&p!="Shift"&&(a="Shift-"+a),a}function _y(a,c){if(m&&a.keyCode==34&&a.char)return!1;var h=ea[a.keyCode];return h==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(h=a.code),yy(h,a,c))}function Zu(a){return typeof a=="string"?gi[a]:a}function Vs(a,c){for(var h=a.doc.sel.ranges,p=[],g=0;g<h.length;g++){for(var _=c(h[g]);p.length&&yt(_.from,Ie(p).to)<=0;){var C=p.pop();if(yt(C.from,_.from)<0){_.from=C.from;break}}p.push(_)}Bn(a,function(){for(var S=p.length-1;S>=0;S--)ks(a.doc,"",p[S].from,p[S].to,"+delete");Ss(a)})}function ch(a,c,h){var p=fe(a.text,c+h,h);return p<0||p>a.text.length?null:p}function uh(a,c,h){var p=ch(a,c.ch,h);return p==null?null:new He(c.line,p,h<0?"after":"before")}function fh(a,c,h,p,g){if(a){c.doc.direction=="rtl"&&(g=-g);var _=j(h,c.doc.direction);if(_){var C=g<0?Ie(_):_[0],S=g<0==(C.level==1),P=S?"after":"before",I;if(C.level>0||c.doc.direction=="rtl"){var Q=$e(c,h);I=g<0?h.text.length-1:0;var oe=Xe(c,Q,I).top;I=ut(function(ye){return Xe(c,Q,ye).top==oe},g<0==(C.level==1)?C.from:C.to-1,I),P=="before"&&(I=ch(h,I,1))}else I=g<0?C.to:C.from;return new He(p,I,P)}}return new He(p,g<0?h.text.length:0,g<0?"before":"after")}function U5(a,c,h,p){var g=j(c,a.doc.direction);if(!g)return uh(c,h,p);h.ch>=c.text.length?(h.ch=c.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var _=K(g,h.ch,h.sticky),C=g[_];if(a.doc.direction=="ltr"&&C.level%2==0&&(p>0?C.to>h.ch:C.from<h.ch))return uh(c,h,p);var S=function(tt,lt){return ch(c,tt instanceof He?tt.ch:tt,lt)},P,I=function(tt){return a.options.lineWrapping?(P=P||$e(a,c),Cm(a,c,P,tt)):{begin:0,end:c.text.length}},Q=I(h.sticky=="before"?S(h,-1):h.ch);if(a.doc.direction=="rtl"||C.level==1){var oe=C.level==1==p<0,ye=S(h,oe?1:-1);if(ye!=null&&(oe?ye<=C.to&&ye<=Q.end:ye>=C.from&&ye>=Q.begin)){var de=oe?"before":"after";return new He(h.line,ye,de)}}var Te=function(tt,lt,rt){for(var ft=function(Jt,Kr){return Kr?new He(h.line,S(Jt,1),"before"):new He(h.line,Jt,"after")};tt>=0&&tt<g.length;tt+=lt){var _t=g[tt],mt=lt>0==(_t.level!=1),Mt=mt?rt.begin:S(rt.end,-1);if(_t.from<=Mt&&Mt<_t.to||(Mt=mt?_t.from:S(_t.to,-1),rt.begin<=Mt&&Mt<rt.end))return ft(Mt,mt)}},Fe=Te(_+p,p,Q);if(Fe)return Fe;var Ke=p>0?Q.end:S(Q.begin,-1);return Ke!=null&&!(p>0&&Ke==c.text.length)&&(Fe=Te(p>0?0:g.length-1,p,I(Ke)),Fe)?Fe:null}var lc={selectAll:ny,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Ne)},killLine:function(a){return Vs(a,function(c){if(c.empty()){var h=ct(a.doc,c.head.line).text.length;return c.head.ch==h&&c.head.line<a.lastLine()?{from:c.head,to:He(c.head.line+1,0)}:{from:c.head,to:He(c.head.line,h)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Vs(a,function(c){return{from:He(c.from().line,0),to:qe(a.doc,He(c.to().line+1,0))}})},delLineLeft:function(a){return Vs(a,function(c){return{from:He(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Vs(a,function(c){var h=a.charCoords(c.head,"div").top+5,p=a.coordsChar({left:0,top:h},"div");return{from:p,to:c.from()}})},delWrappedLineRight:function(a){return Vs(a,function(c){var h=a.charCoords(c.head,"div").top+5,p=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:h},"div");return{from:c.from(),to:p}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(He(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(He(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return by(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return wy(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return z5(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var h=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:h},"div")},at)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var h=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:h},"div")},at)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var h=a.cursorCoords(c.head,"div").top+5,p=a.coordsChar({left:0,top:h},"div");return p.ch<a.getLine(p.line).search(/\S/)?wy(a,c.head):p},at)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var c=[],h=a.listSelections(),p=a.options.tabSize,g=0;g<h.length;g++){var _=h[g].from(),C=Oe(a.getLine(_.line),_.ch,p);c.push(Ze(p-C%p))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Bn(a,function(){for(var c=a.listSelections(),h=[],p=0;p<c.length;p++)if(c[p].empty()){var g=c[p].head,_=ct(a.doc,g.line).text;if(_){if(g.ch==_.length&&(g=new He(g.line,g.ch-1)),g.ch>0)g=new He(g.line,g.ch+1),a.replaceRange(_.charAt(g.ch-1)+_.charAt(g.ch-2),He(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var C=ct(a.doc,g.line-1).text;C&&(g=new He(g.line,1),a.replaceRange(_.charAt(0)+a.doc.lineSeparator()+C.charAt(C.length-1),He(g.line-1,C.length-1),g,"+transpose"))}}h.push(new Gt(g,g))}a.setSelections(h)})},newlineAndIndent:function(a){return Bn(a,function(){for(var c=a.listSelections(),h=c.length-1;h>=0;h--)a.replaceRange(a.doc.lineSeparator(),c[h].anchor,c[h].head,"+input");c=a.listSelections();for(var p=0;p<c.length;p++)a.indentLine(c[p].from().line,null,!0);Ss(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function by(a,c){var h=ct(a.doc,c),p=lr(h);return p!=h&&(c=jt(p)),fh(!0,a,p,c,1)}function z5(a,c){var h=ct(a.doc,c),p=Vr(h);return p!=h&&(c=jt(p)),fh(!0,a,h,c,-1)}function wy(a,c){var h=by(a,c.line),p=ct(a.doc,h.line),g=j(p,a.doc.direction);if(!g||g[0].level==0){var _=Math.max(h.ch,p.text.search(/\S/)),C=c.line==h.line&&c.ch<=_&&c.ch;return He(h.line,C?0:_,h.sticky)}return h}function Xu(a,c,h){if(typeof c=="string"&&(c=lc[c],!c))return!1;a.display.input.ensurePolled();var p=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),h&&(a.display.shift=!1),g=c(a)!=Me}finally{a.display.shift=p,a.state.suppressEdits=!1}return g}function W5(a,c,h){for(var p=0;p<a.state.keyMaps.length;p++){var g=Ms(c,a.state.keyMaps[p],h,a);if(g)return g}return a.options.extraKeys&&Ms(c,a.options.extraKeys,h,a)||Ms(c,a.options.keyMap,h,a)}var q5=new ge;function cc(a,c,h,p){var g=a.state.keySeq;if(g){if(my(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:q5.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),xy(a,g+" "+c,h,p))return!0}return xy(a,c,h,p)}function xy(a,c,h,p){var g=W5(a,c,p);return g=="multi"&&(a.state.keySeq=c),g=="handled"&&_r(a,"keyHandled",a,c,h),(g=="handled"||g=="multi")&&($t(h),Kp(a)),!!g}function Cy(a,c){var h=_y(c,!0);return h?c.shiftKey&&!a.state.keySeq?cc(a,"Shift-"+h,c,function(p){return Xu(a,p,!0)})||cc(a,h,c,function(p){if(typeof p=="string"?/^go[A-Z]/.test(p):p.motion)return Xu(a,p)}):cc(a,h,c,function(p){return Xu(a,p)}):!1}function K5(a,c,h){return cc(a,"'"+h+"'",c,function(p){return Xu(a,p,!0)})}var dh=null;function Sy(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&(c.curOp.focus=_e(),!Qe(c,a))){l&&u<11&&a.keyCode==27&&(a.returnValue=!1);var h=a.keyCode;c.display.shift=h==16||a.shiftKey;var p=Cy(c,a);m&&(dh=p?h:null,!p&&h==88&&!Yn&&(T?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),t&&!T&&!p&&h==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),h==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&G5(c)}}function G5(a){var c=a.display.lineDiv;ue(c,"CodeMirror-crosshair");function h(p){(p.keyCode==18||!p.altKey)&&(q(c,"CodeMirror-crosshair"),it(document,"keyup",h),it(document,"mouseover",h))}be(document,"keyup",h),be(document,"mouseover",h)}function Oy(a){a.keyCode==16&&(this.doc.sel.shift=!1),Qe(this,a)}function Ty(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&!(_o(c.display,a)||Qe(c,a)||a.ctrlKey&&!a.altKey||T&&a.metaKey)){var h=a.keyCode,p=a.charCode;if(m&&h==dh){dh=null,$t(a);return}if(!(m&&(!a.which||a.which<10)&&Cy(c,a))){var g=String.fromCharCode(p??h);g!="\b"&&(K5(c,a,g)||c.display.input.onKeyPress(a))}}}var Z5=400,ph=function(a,c,h){this.time=a,this.pos=c,this.button=h};ph.prototype.compare=function(a,c,h){return this.time+Z5>a&&yt(c,this.pos)==0&&h==this.button};var uc,fc;function X5(a,c){var h=+new Date;return fc&&fc.compare(h,a,c)?(uc=fc=null,"triple"):uc&&uc.compare(h,a,c)?(fc=new ph(h,a,c),uc=null,"double"):(uc=new ph(h,a,c),fc=null,"single")}function Ey(a){var c=this,h=c.display;if(!(Qe(c,a)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=a.shiftKey,_o(h,a)){f||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100));return}if(!hh(c,a)){var p=Ma(c,a),g=he(a),_=p?X5(p,g):"single";window.focus(),g==1&&c.state.selectingText&&c.state.selectingText(a),!(p&&Y5(c,g,p,_,a))&&(g==1?p?Q5(c,p,_,a):ie(a)==h.scroller&&$t(a):g==2?(p&&zu(c.doc,p),setTimeout(function(){return h.input.focus()},20)):g==3&&(ee?c.display.input.onContextMenu(a):Gp(c)))}}}function Y5(a,c,h,p,g){var _="Click";return p=="double"?_="Double"+_:p=="triple"&&(_="Triple"+_),_=(c==1?"Left":c==2?"Middle":"Right")+_,cc(a,yy(_,g),g,function(C){if(typeof C=="string"&&(C=lc[C]),!C)return!1;var S=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),S=C(a,h)!=Me}finally{a.state.suppressEdits=!1}return S})}function J5(a,c,h){var p=a.getOption("configureMouse"),g=p?p(a,c,h):{};if(g.unit==null){var _=E?h.shiftKey&&h.metaKey:h.altKey;g.unit=_?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||h.shiftKey),g.addNew==null&&(g.addNew=T?h.metaKey:h.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(T?h.altKey:h.ctrlKey)),g}function Q5(a,c,h,p){l?setTimeout(N(Pm,a),0):a.curOp.focus=_e();var g=J5(a,h,p),_=a.doc.sel,C;a.options.dragDrop&&De&&!a.isReadOnly()&&h=="single"&&(C=_.contains(c))>-1&&(yt((C=_.ranges[C]).from(),c)<0||c.xRel>0)&&(yt(C.to(),c)>0||c.xRel<0)?eS(a,p,c,g):tS(a,p,c,g)}function eS(a,c,h,p){var g=a.display,_=!1,C=Wr(a,function(I){f&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Gp(a)),it(g.wrapper.ownerDocument,"mouseup",C),it(g.wrapper.ownerDocument,"mousemove",S),it(g.scroller,"dragstart",P),it(g.scroller,"drop",C),_||($t(I),p.addNew||zu(a.doc,h,null,null,p.extend),f&&!y||l&&u==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),S=function(I){_=_||Math.abs(c.clientX-I.clientX)+Math.abs(c.clientY-I.clientY)>=10},P=function(){return _=!0};f&&(g.scroller.draggable=!0),a.state.draggingText=C,C.copy=!p.moveOnDrag,be(g.wrapper.ownerDocument,"mouseup",C),be(g.wrapper.ownerDocument,"mousemove",S),be(g.scroller,"dragstart",P),be(g.scroller,"drop",C),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function Py(a,c,h){if(h=="char")return new Gt(c,c);if(h=="word")return a.findWordAt(c);if(h=="line")return new Gt(He(c.line,0),qe(a.doc,He(c.line+1,0)));var p=h(a,c);return new Gt(p.from,p.to)}function tS(a,c,h,p){l&&Gp(a);var g=a.display,_=a.doc;$t(c);var C,S,P=_.sel,I=P.ranges;if(p.addNew&&!p.extend?(S=_.sel.contains(h),S>-1?C=I[S]:C=new Gt(h,h)):(C=_.sel.primary(),S=_.sel.primIndex),p.unit=="rectangle")p.addNew||(C=new Gt(h,h)),h=Ma(a,c,!0,!0),S=-1;else{var Q=Py(a,h,p.unit);p.extend?C=sh(C,Q.anchor,Q.head,p.extend):C=Q}p.addNew?S==-1?(S=I.length,tn(_,$o(a,I.concat([C]),S),{scroll:!1,origin:"*mouse"})):I.length>1&&I[S].empty()&&p.unit=="char"&&!p.extend?(tn(_,$o(a,I.slice(0,S).concat(I.slice(S+1)),0),{scroll:!1,origin:"*mouse"}),P=_.sel):lh(_,S,C,Je):(S=0,tn(_,new io([C],0),Je),P=_.sel);var oe=h;function ye(rt){if(yt(oe,rt)!=0)if(oe=rt,p.unit=="rectangle"){for(var ft=[],_t=a.options.tabSize,mt=Oe(ct(_,h.line).text,h.ch,_t),Mt=Oe(ct(_,rt.line).text,rt.ch,_t),Jt=Math.min(mt,Mt),Kr=Math.max(mt,Mt),vr=Math.min(h.line,rt.line),Hn=Math.min(a.lastLine(),Math.max(h.line,rt.line));vr<=Hn;vr++){var Cn=ct(_,vr).text,Ir=ae(Cn,Jt,_t);Jt==Kr?ft.push(new Gt(He(vr,Ir),He(vr,Ir))):Cn.length>Ir&&ft.push(new Gt(He(vr,Ir),He(vr,ae(Cn,Kr,_t))))}ft.length||ft.push(new Gt(h,h)),tn(_,$o(a,P.ranges.slice(0,S).concat(ft),S),{origin:"*mouse",scroll:!1}),a.scrollIntoView(rt)}else{var Sn=C,Yr=Py(a,rt,p.unit),Fr=Sn.anchor,$r;yt(Yr.anchor,Fr)>0?($r=Yr.head,Fr=Ee(Sn.from(),Yr.anchor)):($r=Yr.anchor,Fr=re(Sn.to(),Yr.head));var br=P.ranges.slice(0);br[S]=rS(a,new Gt(qe(_,Fr),$r)),tn(_,$o(a,br,S),Je)}}var de=g.wrapper.getBoundingClientRect(),Te=0;function Fe(rt){var ft=++Te,_t=Ma(a,rt,!0,p.unit=="rectangle");if(_t)if(yt(_t,oe)!=0){a.curOp.focus=_e(),ye(_t);var mt=Ru(g,_);(_t.line>=mt.to||_t.line<mt.from)&&setTimeout(Wr(a,function(){Te==ft&&Fe(rt)}),150)}else{var Mt=rt.clientY<de.top?-20:rt.clientY>de.bottom?20:0;Mt&&setTimeout(Wr(a,function(){Te==ft&&(g.scroller.scrollTop+=Mt,Fe(rt))}),50)}}function Ke(rt){a.state.selectingText=!1,Te=1/0,rt&&($t(rt),g.input.focus()),it(g.wrapper.ownerDocument,"mousemove",tt),it(g.wrapper.ownerDocument,"mouseup",lt),_.history.lastSelOrigin=null}var tt=Wr(a,function(rt){rt.buttons===0||!he(rt)?Ke(rt):Fe(rt)}),lt=Wr(a,Ke);a.state.selectingText=lt,be(g.wrapper.ownerDocument,"mousemove",tt),be(g.wrapper.ownerDocument,"mouseup",lt)}function rS(a,c){var h=c.anchor,p=c.head,g=ct(a.doc,h.line);if(yt(h,p)==0&&h.sticky==p.sticky)return c;var _=j(g);if(!_)return c;var C=K(_,h.ch,h.sticky),S=_[C];if(S.from!=h.ch&&S.to!=h.ch)return c;var P=C+(S.from==h.ch==(S.level!=1)?0:1);if(P==0||P==_.length)return c;var I;if(p.line!=h.line)I=(p.line-h.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var Q=K(_,p.ch,p.sticky),oe=Q-C||(p.ch-h.ch)*(S.level==1?-1:1);Q==P-1||Q==P?I=oe<0:I=oe>0}var ye=_[P+(I?-1:0)],de=I==(ye.level==1),Te=de?ye.from:ye.to,Fe=de?"after":"before";return h.ch==Te&&h.sticky==Fe?c:new Gt(new He(h.line,Te,Fe),p)}function ky(a,c,h,p){var g,_;if(c.touches)g=c.touches[0].clientX,_=c.touches[0].clientY;else try{g=c.clientX,_=c.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;p&&$t(c);var C=a.display,S=C.lineDiv.getBoundingClientRect();if(_>S.bottom||!At(a,h))return Lr(c);_-=S.top-C.viewOffset;for(var P=0;P<a.display.gutterSpecs.length;++P){var I=C.gutters.childNodes[P];if(I&&I.getBoundingClientRect().right>=g){var Q=Yt(a.doc,_),oe=a.display.gutterSpecs[P];return nt(a,h,a,Q,oe.className,c),Lr(c)}}}function hh(a,c){return ky(a,c,"gutterClick",!0)}function Ay(a,c){_o(a.display,c)||nS(a,c)||Qe(a,c,"contextmenu")||ee||a.display.input.onContextMenu(c)}function nS(a,c){return At(a,"gutterContextMenu")?ky(a,c,"gutterContextMenu",!1):!1}function My(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Wl(a)}var Is={toString:function(){return"CodeMirror.Init"}},Vy={},Yu={};function oS(a){var c=a.optionHandlers;function h(p,g,_,C){a.defaults[p]=g,_&&(c[p]=C?function(S,P,I){I!=Is&&_(S,P,I)}:_)}a.defineOption=h,a.Init=Is,h("value","",function(p,g){return p.setValue(g)},!0),h("mode",null,function(p,g){p.doc.modeOption=g,oh(p)},!0),h("indentUnit",2,oh,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(p){Ql(p),Wl(p),wn(p)},!0),h("lineSeparator",null,function(p,g){if(p.doc.lineSep=g,!!g){var _=[],C=p.doc.first;p.doc.iter(function(P){for(var I=0;;){var Q=P.text.indexOf(g,I);if(Q==-1)break;I=Q+g.length,_.push(He(C,Q))}C++});for(var S=_.length-1;S>=0;S--)ks(p.doc,g,_[S],He(_[S].line,_[S].ch+g.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(p,g,_){p.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),_!=Is&&p.refresh()}),h("specialCharPlaceholder",xu,function(p){return p.refresh()},!0),h("electricChars",!0),h("inputStyle",M?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(p,g){return p.getInputField().spellcheck=g},!0),h("autocorrect",!1,function(p,g){return p.getInputField().autocorrect=g},!0),h("autocapitalize",!1,function(p,g){return p.getInputField().autocapitalize=g},!0),h("rtlMoveVisually",!U),h("wholeLineUpdateBefore",!0),h("theme","default",function(p){My(p),Jl(p)},!0),h("keyMap","default",function(p,g,_){var C=Zu(g),S=_!=Is&&Zu(_);S&&S.detach&&S.detach(p,C),C.attach&&C.attach(p,S||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,aS,!0),h("gutters",[],function(p,g){p.display.gutterSpecs=rh(g,p.options.lineNumbers),Jl(p)},!0),h("fixedGutter",!0,function(p,g){p.display.gutters.style.left=g?Wp(p.display)+"px":"0",p.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(p){return Os(p)},!0),h("scrollbarStyle","native",function(p){$m(p),Os(p),p.display.scrollbars.setScrollTop(p.doc.scrollTop),p.display.scrollbars.setScrollLeft(p.doc.scrollLeft)},!0),h("lineNumbers",!1,function(p,g){p.display.gutterSpecs=rh(p.options.gutters,g),Jl(p)},!0),h("firstLineNumber",1,Jl,!0),h("lineNumberFormatter",function(p){return p},Jl,!0),h("showCursorWhenSelecting",!1,ql,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(p,g){g=="nocursor"&&(Cs(p),p.display.input.blur()),p.display.input.readOnlyChanged(g)}),h("screenReaderLabel",null,function(p,g){g=g===""?null:g,p.display.input.screenReaderLabelChanged(g)}),h("disableInput",!1,function(p,g){g||p.display.input.reset()},!0),h("dragDrop",!0,iS),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,ql,!0),h("singleCursorHeightPerLine",!0,ql,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,Ql,!0),h("addModeClass",!1,Ql,!0),h("pollInterval",100),h("undoDepth",200,function(p,g){return p.doc.history.undoDepth=g}),h("historyEventDelay",1250),h("viewportMargin",10,function(p){return p.refresh()},!0),h("maxHighlightLength",1e4,Ql,!0),h("moveInputWithCursor",!0,function(p,g){g||p.display.input.resetPosition()}),h("tabindex",null,function(p,g){return p.display.input.getField().tabIndex=g||""}),h("autofocus",null),h("direction","ltr",function(p,g){return p.doc.setDirection(g)},!0),h("phrases",null)}function iS(a,c,h){var p=h&&h!=Is;if(!c!=!p){var g=a.display.dragFunctions,_=c?be:it;_(a.display.scroller,"dragstart",g.start),_(a.display.scroller,"dragenter",g.enter),_(a.display.scroller,"dragover",g.over),_(a.display.scroller,"dragleave",g.leave),_(a.display.scroller,"drop",g.drop)}}function aS(a){a.options.lineWrapping?(ue(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(q(a.display.wrapper,"CodeMirror-wrap"),Fi(a)),qp(a),wn(a),Wl(a),setTimeout(function(){return Os(a)},100)}function cr(a,c){var h=this;if(!(this instanceof cr))return new cr(a,c);this.options=c=c?xe(c):{},xe(Vy,c,!1);var p=c.value;typeof p=="string"?p=new xn(p,c.mode,null,c.lineSeparator,c.direction):c.mode&&(p.modeOption=c.mode),this.doc=p;var g=new cr.inputStyles[c.inputStyle](this),_=this.display=new _5(a,p,g,c);_.wrapper.CodeMirror=this,My(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),$m(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ge,keySeq:null,specialChars:null},c.autofocus&&!M&&_.input.focus(),l&&u<11&&setTimeout(function(){return h.display.input.reset(!0)},20),sS(this),R5(),Da(this),this.curOp.forceUpdate=!0,zm(this,p),c.autofocus&&!M||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&Zp(h)},20):Cs(this);for(var C in Yu)Yu.hasOwnProperty(C)&&Yu[C](this,c[C],Is);jm(this),c.finishInit&&c.finishInit(this);for(var S=0;S<vh.length;++S)vh[S](this);La(this),f&&c.lineWrapping&&getComputedStyle(_.lineDiv).textRendering=="optimizelegibility"&&(_.lineDiv.style.textRendering="auto")}cr.defaults=Vy,cr.optionHandlers=Yu;function sS(a){var c=a.display;be(c.scroller,"mousedown",Wr(a,Ey)),l&&u<11?be(c.scroller,"dblclick",Wr(a,function(P){if(!Qe(a,P)){var I=Ma(a,P);if(!(!I||hh(a,P)||_o(a.display,P))){$t(P);var Q=a.findWordAt(I);zu(a.doc,Q.anchor,Q.head)}}})):be(c.scroller,"dblclick",function(P){return Qe(a,P)||$t(P)}),be(c.scroller,"contextmenu",function(P){return Ay(a,P)}),be(c.input.getField(),"contextmenu",function(P){c.scroller.contains(P.target)||Ay(a,P)});var h,p={end:0};function g(){c.activeTouch&&(h=setTimeout(function(){return c.activeTouch=null},1e3),p=c.activeTouch,p.end=+new Date)}function _(P){if(P.touches.length!=1)return!1;var I=P.touches[0];return I.radiusX<=1&&I.radiusY<=1}function C(P,I){if(I.left==null)return!0;var Q=I.left-P.left,oe=I.top-P.top;return Q*Q+oe*oe>20*20}be(c.scroller,"touchstart",function(P){if(!Qe(a,P)&&!_(P)&&!hh(a,P)){c.input.ensurePolled(),clearTimeout(h);var I=+new Date;c.activeTouch={start:I,moved:!1,prev:I-p.end<=300?p:null},P.touches.length==1&&(c.activeTouch.left=P.touches[0].pageX,c.activeTouch.top=P.touches[0].pageY)}}),be(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),be(c.scroller,"touchend",function(P){var I=c.activeTouch;if(I&&!_o(c,P)&&I.left!=null&&!I.moved&&new Date-I.start<300){var Q=a.coordsChar(c.activeTouch,"page"),oe;!I.prev||C(I,I.prev)?oe=new Gt(Q,Q):!I.prev.prev||C(I,I.prev.prev)?oe=a.findWordAt(Q):oe=new Gt(He(Q.line,0),qe(a.doc,He(Q.line+1,0))),a.setSelection(oe.anchor,oe.head),a.focus(),$t(P)}g()}),be(c.scroller,"touchcancel",g),be(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Gl(a,c.scroller.scrollTop),Ia(a,c.scroller.scrollLeft,!0),nt(a,"scroll",a))}),be(c.scroller,"mousewheel",function(P){return Fm(a,P)}),be(c.scroller,"DOMMouseScroll",function(P){return Fm(a,P)}),be(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(P){Qe(a,P)||H(P)},over:function(P){Qe(a,P)||(j5(a,P),H(P))},start:function(P){return L5(a,P)},drop:Wr(a,D5),leave:function(P){Qe(a,P)||hy(a)}};var S=c.input.getField();be(S,"keyup",function(P){return Oy.call(a,P)}),be(S,"keydown",Wr(a,Sy)),be(S,"keypress",Wr(a,Ty)),be(S,"focus",function(P){return Zp(a,P)}),be(S,"blur",function(P){return Cs(a,P)})}var vh=[];cr.defineInitHook=function(a){return vh.push(a)};function dc(a,c,h,p){var g=a.doc,_;h==null&&(h="add"),h=="smart"&&(g.mode.indent?_=ai(a,c).state:h="prev");var C=a.options.tabSize,S=ct(g,c),P=Oe(S.text,null,C);S.stateAfter&&(S.stateAfter=null);var I=S.text.match(/^\s*/)[0],Q;if(!p&&!/\S/.test(S.text))Q=0,h="not";else if(h=="smart"&&(Q=g.mode.indent(_,S.text.slice(I.length),S.text),Q==Me||Q>150)){if(!p)return;h="prev"}h=="prev"?c>g.first?Q=Oe(ct(g,c-1).text,null,C):Q=0:h=="add"?Q=P+a.options.indentUnit:h=="subtract"?Q=P-a.options.indentUnit:typeof h=="number"&&(Q=P+h),Q=Math.max(0,Q);var oe="",ye=0;if(a.options.indentWithTabs)for(var de=Math.floor(Q/C);de;--de)ye+=C,oe+="	";if(ye<Q&&(oe+=Ze(Q-ye)),oe!=I)return ks(g,oe,He(c,0),He(c,I.length),"+input"),S.stateAfter=null,!0;for(var Te=0;Te<g.sel.ranges.length;Te++){var Fe=g.sel.ranges[Te];if(Fe.head.line==c&&Fe.head.ch<I.length){var Ke=He(c,I.length);lh(g,Te,new Gt(Ke,Ke));break}}}var Do=null;function Ju(a){Do=a}function gh(a,c,h,p,g){var _=a.doc;a.display.shift=!1,p||(p=_.sel);var C=+new Date-200,S=g=="paste"||a.state.pasteIncoming>C,P=Sr(c),I=null;if(S&&p.ranges.length>1)if(Do&&Do.text.join(`
`)==c){if(p.ranges.length%Do.text.length==0){I=[];for(var Q=0;Q<Do.text.length;Q++)I.push(_.splitLines(Do.text[Q]))}}else P.length==p.ranges.length&&a.options.pasteLinesPerSelection&&(I=ot(P,function(tt){return[tt]}));for(var oe=a.curOp.updateInput,ye=p.ranges.length-1;ye>=0;ye--){var de=p.ranges[ye],Te=de.from(),Fe=de.to();de.empty()&&(h&&h>0?Te=He(Te.line,Te.ch-h):a.state.overwrite&&!S?Fe=He(Fe.line,Math.min(ct(_,Fe.line).text.length,Fe.ch+Ie(P).length)):S&&Do&&Do.lineWise&&Do.text.join(`
`)==P.join(`
`)&&(Te=Fe=He(Te.line,0)));var Ke={from:Te,to:Fe,text:I?I[ye%I.length]:P,origin:g||(S?"paste":a.state.cutIncoming>C?"cut":"+input")};Ps(a.doc,Ke),_r(a,"inputRead",a,Ke)}c&&!S&&$y(a,c),Ss(a),a.curOp.updateInput<2&&(a.curOp.updateInput=oe),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Iy(a,c){var h=a.clipboardData&&a.clipboardData.getData("Text");if(h)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&Bn(c,function(){return gh(c,h,0,null,"paste")}),!0}function $y(a,c){if(!(!a.options.electricChars||!a.options.smartIndent))for(var h=a.doc.sel,p=h.ranges.length-1;p>=0;p--){var g=h.ranges[p];if(!(g.head.ch>100||p&&h.ranges[p-1].head.line==g.head.line)){var _=a.getModeAt(g.head),C=!1;if(_.electricChars){for(var S=0;S<_.electricChars.length;S++)if(c.indexOf(_.electricChars.charAt(S))>-1){C=dc(a,g.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(ct(a.doc,g.head.line).text.slice(0,g.head.ch))&&(C=dc(a,g.head.line,"smart"));C&&_r(a,"electricInput",a,g.head.line)}}}function Dy(a){for(var c=[],h=[],p=0;p<a.doc.sel.ranges.length;p++){var g=a.doc.sel.ranges[p].head.line,_={anchor:He(g,0),head:He(g+1,0)};h.push(_),c.push(a.getRange(_.anchor,_.head))}return{text:c,ranges:h}}function Ly(a,c,h,p){a.setAttribute("autocorrect",h?"":"off"),a.setAttribute("autocapitalize",p?"":"off"),a.setAttribute("spellcheck",!!c)}function jy(){var a=B("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),c=B("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?a.style.width="1000px":a.setAttribute("wrap","off"),x&&(a.style.border="1px solid black"),Ly(a),c}function lS(a){var c=a.optionHandlers,h=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(p,g){var _=this.options,C=_[p];_[p]==g&&p!="mode"||(_[p]=g,c.hasOwnProperty(p)&&Wr(this,c[p])(this,g,C),nt(this,"optionChange",this,p))},getOption:function(p){return this.options[p]},getDoc:function(){return this.doc},addKeyMap:function(p,g){this.state.keyMaps[g?"push":"unshift"](Zu(p))},removeKeyMap:function(p){for(var g=this.state.keyMaps,_=0;_<g.length;++_)if(g[_]==p||g[_].name==p)return g.splice(_,1),!0},addOverlay:dn(function(p,g){var _=p.token?p:a.getMode(this.options,p);if(_.startState)throw new Error("Overlays may not be stateful.");dt(this.state.overlays,{mode:_,modeSpec:p,opaque:g&&g.opaque,priority:g&&g.priority||0},function(C){return C.priority}),this.state.modeGen++,wn(this)}),removeOverlay:dn(function(p){for(var g=this.state.overlays,_=0;_<g.length;++_){var C=g[_].modeSpec;if(C==p||typeof p=="string"&&C.name==p){g.splice(_,1),this.state.modeGen++,wn(this);return}}}),indentLine:dn(function(p,g,_){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),jn(this.doc,p)&&dc(this,p,g,_)}),indentSelection:dn(function(p){for(var g=this.doc.sel.ranges,_=-1,C=0;C<g.length;C++){var S=g[C];if(S.empty())S.head.line>_&&(dc(this,S.head.line,p,!0),_=S.head.line,C==this.doc.sel.primIndex&&Ss(this));else{var P=S.from(),I=S.to(),Q=Math.max(_,P.line);_=Math.min(this.lastLine(),I.line-(I.ch?0:1))+1;for(var oe=Q;oe<_;++oe)dc(this,oe,p);var ye=this.doc.sel.ranges;P.ch==0&&g.length==ye.length&&ye[C].from().ch>0&&lh(this.doc,C,new Gt(P,ye[C].to()),Ne)}}}),getTokenAt:function(p,g){return ji(this,p,g)},getLineTokens:function(p,g){return ji(this,He(p),g,!0)},getTokenTypeAt:function(p){p=qe(this.doc,p);var g=Di(this,ct(this.doc,p.line)),_=0,C=(g.length-1)/2,S=p.ch,P;if(S==0)P=g[2];else for(;;){var I=_+C>>1;if((I?g[I*2-1]:0)>=S)C=I;else if(g[I*2+1]<S)_=I+1;else{P=g[I*2+2];break}}var Q=P?P.indexOf("overlay "):-1;return Q<0?P:Q==0?null:P.slice(0,Q-1)},getModeAt:function(p){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(p).state).mode:g},getHelper:function(p,g){return this.getHelpers(p,g)[0]},getHelpers:function(p,g){var _=[];if(!h.hasOwnProperty(g))return _;var C=h[g],S=this.getModeAt(p);if(typeof S[g]=="string")C[S[g]]&&_.push(C[S[g]]);else if(S[g])for(var P=0;P<S[g].length;P++){var I=C[S[g][P]];I&&_.push(I)}else S.helperType&&C[S.helperType]?_.push(C[S.helperType]):C[S.name]&&_.push(C[S.name]);for(var Q=0;Q<C._global.length;Q++){var oe=C._global[Q];oe.pred(S,this)&&Be(_,oe.val)==-1&&_.push(oe.val)}return _},getStateAfter:function(p,g){var _=this.doc;return p=We(_,p??_.first+_.size-1),ai(this,p+1,g).state},cursorCoords:function(p,g){var _,C=this.doc.sel.primary();return p==null?_=C.head:typeof p=="object"?_=qe(this.doc,p):_=p?C.from():C.to(),Io(this,_,g||"page")},charCoords:function(p,g){return $u(this,qe(this.doc,p),g||"page")},coordsChar:function(p,g){return p=bm(this,p,g||"page"),Hp(this,p.left,p.top)},lineAtHeight:function(p,g){return p=bm(this,{top:p,left:0},g||"page").top,Yt(this.doc,p+this.display.viewOffset)},heightAtLine:function(p,g,_){var C=!1,S;if(typeof p=="number"){var P=this.doc.first+this.doc.size-1;p<this.doc.first?p=this.doc.first:p>P&&(p=P,C=!0),S=ct(this.doc,p)}else S=p;return Iu(this,S,{top:0,left:0},g||"page",_||C).top+(C?this.doc.height-yo(S):0)},defaultTextHeight:function(){return ws(this.display)},defaultCharWidth:function(){return xs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(p,g,_,C,S){var P=this.display;p=Io(this,qe(this.doc,p));var I=p.bottom,Q=p.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),P.sizer.appendChild(g),C=="over")I=p.top;else if(C=="above"||C=="near"){var oe=Math.max(P.wrapper.clientHeight,this.doc.height),ye=Math.max(P.sizer.clientWidth,P.lineSpace.clientWidth);(C=="above"||p.bottom+g.offsetHeight>oe)&&p.top>g.offsetHeight?I=p.top-g.offsetHeight:p.bottom+g.offsetHeight<=oe&&(I=p.bottom),Q+g.offsetWidth>ye&&(Q=ye-g.offsetWidth)}g.style.top=I+"px",g.style.left=g.style.right="",S=="right"?(Q=P.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(S=="left"?Q=0:S=="middle"&&(Q=(P.sizer.clientWidth-g.offsetWidth)/2),g.style.left=Q+"px"),_&&i5(this,{left:Q,top:I,right:Q+g.offsetWidth,bottom:I+g.offsetHeight})},triggerOnKeyDown:dn(Sy),triggerOnKeyPress:dn(Ty),triggerOnKeyUp:Oy,triggerOnMouseDown:dn(Ey),execCommand:function(p){if(lc.hasOwnProperty(p))return lc[p].call(null,this)},triggerElectric:dn(function(p){$y(this,p)}),findPosH:function(p,g,_,C){var S=1;g<0&&(S=-1,g=-g);for(var P=qe(this.doc,p),I=0;I<g&&(P=mh(this.doc,P,S,_,C),!P.hitSide);++I);return P},moveH:dn(function(p,g){var _=this;this.extendSelectionsBy(function(C){return _.display.shift||_.doc.extend||C.empty()?mh(_.doc,C.head,p,g,_.options.rtlMoveVisually):p<0?C.from():C.to()},at)}),deleteH:dn(function(p,g){var _=this.doc.sel,C=this.doc;_.somethingSelected()?C.replaceSelection("",null,"+delete"):Vs(this,function(S){var P=mh(C,S.head,p,g,!1);return p<0?{from:P,to:S.head}:{from:S.head,to:P}})}),findPosV:function(p,g,_,C){var S=1,P=C;g<0&&(S=-1,g=-g);for(var I=qe(this.doc,p),Q=0;Q<g;++Q){var oe=Io(this,I,"div");if(P==null?P=oe.left:oe.left=P,I=Ry(this,oe,S,_),I.hitSide)break}return I},moveV:dn(function(p,g){var _=this,C=this.doc,S=[],P=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function(Q){if(P)return p<0?Q.from():Q.to();var oe=Io(_,Q.head,"div");Q.goalColumn!=null&&(oe.left=Q.goalColumn),S.push(oe.left);var ye=Ry(_,oe,p,g);return g=="page"&&Q==C.sel.primary()&&Yp(_,$u(_,ye,"div").top-oe.top),ye},at),S.length)for(var I=0;I<C.sel.ranges.length;I++)C.sel.ranges[I].goalColumn=S[I]}),findWordAt:function(p){var g=this.doc,_=ct(g,p.line).text,C=p.ch,S=p.ch;if(_){var P=this.getHelper(p,"wordChars");(p.sticky=="before"||S==_.length)&&C?--C:++S;for(var I=_.charAt(C),Q=pe(I,P)?function(oe){return pe(oe,P)}:/\s/.test(I)?function(oe){return/\s/.test(oe)}:function(oe){return!/\s/.test(oe)&&!pe(oe)};C>0&&Q(_.charAt(C-1));)--C;for(;S<_.length&&Q(_.charAt(S));)++S}return new Gt(He(p.line,C),He(p.line,S))},toggleOverwrite:function(p){p!=null&&p==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):q(this.display.cursorDiv,"CodeMirror-overwrite"),nt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==_e()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:dn(function(p,g){Kl(this,p,g)}),getScrollInfo:function(){var p=this.display.scroller;return{left:p.scrollLeft,top:p.scrollTop,height:p.scrollHeight-Fn(this)-this.display.barHeight,width:p.scrollWidth-Fn(this)-this.display.barWidth,clientHeight:k(this),clientWidth:vi(this)}},scrollIntoView:dn(function(p,g){p==null?(p={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof p=="number"?p={from:He(p,0),to:null}:p.from==null&&(p={from:p,to:null}),p.to||(p.to=p.from),p.margin=g||0,p.from.line!=null?a5(this,p):Am(this,p.from,p.to,p.margin)}),setSize:dn(function(p,g){var _=this,C=function(P){return typeof P=="number"||/^\d+$/.test(String(P))?P+"px":P};p!=null&&(this.display.wrapper.style.width=C(p)),g!=null&&(this.display.wrapper.style.height=C(g)),this.options.lineWrapping&&mm(this);var S=this.display.viewFrom;this.doc.iter(S,this.display.viewTo,function(P){if(P.widgets){for(var I=0;I<P.widgets.length;I++)if(P.widgets[I].noHScroll){Gi(_,S,"widget");break}}++S}),this.curOp.forceUpdate=!0,nt(this,"refresh",this)}),operation:function(p){return Bn(this,p)},startOperation:function(){return Da(this)},endOperation:function(){return La(this)},refresh:dn(function(){var p=this.display.cachedTextHeight;wn(this),this.curOp.forceUpdate=!0,Wl(this),Kl(this,this.doc.scrollLeft,this.doc.scrollTop),eh(this.display),(p==null||Math.abs(p-ws(this.display))>.5||this.options.lineWrapping)&&qp(this),nt(this,"refresh",this)}),swapDoc:dn(function(p){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),zm(this,p),Wl(this),this.display.input.reset(),Kl(this,p.scrollLeft,p.scrollTop),this.curOp.forceScroll=!0,_r(this,"swapDoc",this,g),g}),phrase:function(p){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,p)?g[p]:p},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rt(a),a.registerHelper=function(p,g,_){h.hasOwnProperty(p)||(h[p]=a[p]={_global:[]}),h[p][g]=_},a.registerGlobalHelper=function(p,g,_,C){a.registerHelper(p,g,C),h[p]._global.push({pred:_,val:C})}}function mh(a,c,h,p,g){var _=c,C=h,S=ct(a,c.line),P=g&&a.direction=="rtl"?-h:h;function I(){var lt=c.line+P;return lt<a.first||lt>=a.first+a.size?!1:(c=new He(lt,c.ch,c.sticky),S=ct(a,lt))}function Q(lt){var rt;if(p=="codepoint"){var ft=S.text.charCodeAt(c.ch+(h>0?0:-1));if(isNaN(ft))rt=null;else{var _t=h>0?ft>=55296&&ft<56320:ft>=56320&&ft<57343;rt=new He(c.line,Math.max(0,Math.min(S.text.length,c.ch+h*(_t?2:1))),-h)}}else g?rt=U5(a.cm,S,c,h):rt=uh(S,c,h);if(rt==null)if(!lt&&I())c=fh(g,a.cm,S,c.line,P);else return!1;else c=rt;return!0}if(p=="char"||p=="codepoint")Q();else if(p=="column")Q(!0);else if(p=="word"||p=="group")for(var oe=null,ye=p=="group",de=a.cm&&a.cm.getHelper(c,"wordChars"),Te=!0;!(h<0&&!Q(!Te));Te=!1){var Fe=S.text.charAt(c.ch)||`
`,Ke=pe(Fe,de)?"w":ye&&Fe==`
`?"n":!ye||/\s/.test(Fe)?null:"p";if(ye&&!Te&&!Ke&&(Ke="s"),oe&&oe!=Ke){h<0&&(h=1,Q(),c.sticky="after");break}if(Ke&&(oe=Ke),h>0&&!Q(!Te))break}var tt=qu(a,c,_,C,!0);return Qn(_,tt)&&(tt.hitSide=!0),tt}function Ry(a,c,h,p){var g=a.doc,_=c.left,C;if(p=="page"){var S=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),P=Math.max(S-.5*ws(a.display),3);C=(h>0?c.bottom:c.top)+h*P}else p=="line"&&(C=h>0?c.bottom+3:c.top-3);for(var I;I=Hp(a,_,C),!!I.outside;){if(h<0?C<=0:C>=g.height){I.hitSide=!0;break}C+=h*5}return I}var Xt=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ge,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Xt.prototype.init=function(a){var c=this,h=this,p=h.cm,g=h.div=a.lineDiv;g.contentEditable=!0,Ly(g,p.options.spellcheck,p.options.autocorrect,p.options.autocapitalize);function _(S){for(var P=S.target;P;P=P.parentNode){if(P==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(P.className))break}return!1}be(g,"paste",function(S){!_(S)||Qe(p,S)||Iy(S,p)||u<=11&&setTimeout(Wr(p,function(){return c.updateFromDOM()}),20)}),be(g,"compositionstart",function(S){c.composing={data:S.data,done:!1}}),be(g,"compositionupdate",function(S){c.composing||(c.composing={data:S.data,done:!1})}),be(g,"compositionend",function(S){c.composing&&(S.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),be(g,"touchstart",function(){return h.forceCompositionEnd()}),be(g,"input",function(){c.composing||c.readFromDOMSoon()});function C(S){if(!(!_(S)||Qe(p,S))){if(p.somethingSelected())Ju({lineWise:!1,text:p.getSelections()}),S.type=="cut"&&p.replaceSelection("",null,"cut");else if(p.options.lineWiseCopyCut){var P=Dy(p);Ju({lineWise:!0,text:P.text}),S.type=="cut"&&p.operation(function(){p.setSelections(P.ranges,0,Ne),p.replaceSelection("",null,"cut")})}else return;if(S.clipboardData){S.clipboardData.clearData();var I=Do.text.join(`
`);if(S.clipboardData.setData("Text",I),S.clipboardData.getData("Text")==I){S.preventDefault();return}}var Q=jy(),oe=Q.firstChild;p.display.lineSpace.insertBefore(Q,p.display.lineSpace.firstChild),oe.value=Do.text.join(`
`);var ye=_e();le(oe),setTimeout(function(){p.display.lineSpace.removeChild(Q),ye.focus(),ye==g&&h.showPrimarySelection()},50)}}be(g,"copy",C),be(g,"cut",C)},Xt.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Xt.prototype.prepareSelection=function(){var a=Tm(this.cm,!1);return a.focus=_e()==this.div,a},Xt.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Xt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xt.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,h=c.doc.sel.primary(),p=h.from(),g=h.to();if(c.display.viewTo==c.display.viewFrom||p.line>=c.display.viewTo||g.line<c.display.viewFrom){a.removeAllRanges();return}var _=Qu(c,a.anchorNode,a.anchorOffset),C=Qu(c,a.focusNode,a.focusOffset);if(!(_&&!_.bad&&C&&!C.bad&&yt(Ee(_,C),p)==0&&yt(re(_,C),g)==0)){var S=c.display.view,P=p.line>=c.display.viewFrom&&Ny(c,p)||{node:S[0].measure.map[2],offset:0},I=g.line<c.display.viewTo&&Ny(c,g);if(!I){var Q=S[S.length-1].measure,oe=Q.maps?Q.maps[Q.maps.length-1]:Q.map;I={node:oe[oe.length-1],offset:oe[oe.length-2]-oe[oe.length-3]}}if(!P||!I){a.removeAllRanges();return}var ye=a.rangeCount&&a.getRangeAt(0),de;try{de=X(P.node,P.offset,I.offset,I.node)}catch{}de&&(!t&&c.state.focused?(a.collapse(P.node,P.offset),de.collapsed||(a.removeAllRanges(),a.addRange(de))):(a.removeAllRanges(),a.addRange(de)),ye&&a.anchorNode==null?a.addRange(ye):t&&this.startGracePeriod()),this.rememberSelection()}},Xt.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Xt.prototype.showMultipleSelections=function(a){$(this.cm.display.cursorDiv,a.cursors),$(this.cm.display.selectionDiv,a.selection)},Xt.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Xt.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return V(this.div,c)},Xt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||_e()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xt.prototype.blur=function(){this.div.blur()},Xt.prototype.getField=function(){return this.div},Xt.prototype.supportsTouch=function(){return!0},Xt.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Bn(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function h(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,h))}this.polling.set(this.cm.options.pollInterval,h)},Xt.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Xt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),c=this.cm;if(O&&v&&this.cm.display.gutterSpecs.length&&cS(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var h=Qu(c,a.anchorNode,a.anchorOffset),p=Qu(c,a.focusNode,a.focusOffset);h&&p&&Bn(c,function(){tn(c.doc,Xi(h,p),Ne),(h.bad||p.bad)&&(c.curOp.selectionChanged=!0)})}}},Xt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,c=a.display,h=a.doc.sel.primary(),p=h.from(),g=h.to();if(p.ch==0&&p.line>a.firstLine()&&(p=He(p.line-1,ct(a.doc,p.line-1).length)),g.ch==ct(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=He(g.line+1,0)),p.line<c.viewFrom||g.line>c.viewTo-1)return!1;var _,C,S;p.line==c.viewFrom||(_=Va(a,p.line))==0?(C=jt(c.view[0].line),S=c.view[0].node):(C=jt(c.view[_].line),S=c.view[_-1].node.nextSibling);var P=Va(a,g.line),I,Q;if(P==c.view.length-1?(I=c.viewTo-1,Q=c.lineDiv.lastChild):(I=jt(c.view[P+1].line)-1,Q=c.view[P+1].node.previousSibling),!S)return!1;for(var oe=a.doc.splitLines(uS(a,S,Q,C,I)),ye=Hr(a.doc,He(C,0),He(I,ct(a.doc,I).text.length));oe.length>1&&ye.length>1;)if(Ie(oe)==Ie(ye))oe.pop(),ye.pop(),I--;else if(oe[0]==ye[0])oe.shift(),ye.shift(),C++;else break;for(var de=0,Te=0,Fe=oe[0],Ke=ye[0],tt=Math.min(Fe.length,Ke.length);de<tt&&Fe.charCodeAt(de)==Ke.charCodeAt(de);)++de;for(var lt=Ie(oe),rt=Ie(ye),ft=Math.min(lt.length-(oe.length==1?de:0),rt.length-(ye.length==1?de:0));Te<ft&&lt.charCodeAt(lt.length-Te-1)==rt.charCodeAt(rt.length-Te-1);)++Te;if(oe.length==1&&ye.length==1&&C==p.line)for(;de&&de>p.ch&&lt.charCodeAt(lt.length-Te-1)==rt.charCodeAt(rt.length-Te-1);)de--,Te++;oe[oe.length-1]=lt.slice(0,lt.length-Te).replace(/^\u200b+/,""),oe[0]=oe[0].slice(de).replace(/\u200b+$/,"");var _t=He(C,de),mt=He(I,ye.length?Ie(ye).length-Te:0);if(oe.length>1||oe[0]||yt(_t,mt))return ks(a.doc,oe,_t,mt,"+input"),!0},Xt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xt.prototype.reset=function(){this.forceCompositionEnd()},Xt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xt.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Xt.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Bn(this.cm,function(){return wn(a.cm)})},Xt.prototype.setUneditable=function(a){a.contentEditable="false"},Xt.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Wr(this.cm,gh)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Xt.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Xt.prototype.onContextMenu=function(){},Xt.prototype.resetPosition=function(){},Xt.prototype.needsContentAttribute=!0;function Ny(a,c){var h=ve(a,c.line);if(!h||h.hidden)return null;var p=ct(a.doc,c.line),g=ne(h,p,c.line),_=j(p,a.doc.direction),C="left";if(_){var S=K(_,c.ch);C=S%2?"right":"left"}var P=Ot(g.map,c.ch,C);return P.offset=P.collapse=="right"?P.end:P.start,P}function cS(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function $s(a,c){return c&&(a.bad=!0),a}function uS(a,c,h,p,g){var _="",C=!1,S=a.doc.lineSeparator(),P=!1;function I(de){return function(Te){return Te.id==de}}function Q(){C&&(_+=S,P&&(_+=S),C=P=!1)}function oe(de){de&&(Q(),_+=de)}function ye(de){if(de.nodeType==1){var Te=de.getAttribute("cm-text");if(Te){oe(Te);return}var Fe=de.getAttribute("cm-marker"),Ke;if(Fe){var tt=a.findMarks(He(p,0),He(g+1,0),I(+Fe));tt.length&&(Ke=tt[0].find(0))&&oe(Hr(a.doc,Ke.from,Ke.to).join(S));return}if(de.getAttribute("contenteditable")=="false")return;var lt=/^(pre|div|p|li|table|br)$/i.test(de.nodeName);if(!/^br$/i.test(de.nodeName)&&de.textContent.length==0)return;lt&&Q();for(var rt=0;rt<de.childNodes.length;rt++)ye(de.childNodes[rt]);/^(pre|p)$/i.test(de.nodeName)&&(P=!0),lt&&(C=!0)}else de.nodeType==3&&oe(de.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ye(c),c!=h;)c=c.nextSibling,P=!1;return _}function Qu(a,c,h){var p;if(c==a.display.lineDiv){if(p=a.display.lineDiv.childNodes[h],!p)return $s(a.clipPos(He(a.display.viewTo-1)),!0);c=null,h=0}else for(p=c;;p=p.parentNode){if(!p||p==a.display.lineDiv)return null;if(p.parentNode&&p.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var _=a.display.view[g];if(_.node==p)return fS(_,c,h)}}function fS(a,c,h){var p=a.text.firstChild,g=!1;if(!c||!V(p,c))return $s(He(jt(a.line),0),!0);if(c==p&&(g=!0,c=p.childNodes[h],h=0,!c)){var _=a.rest?Ie(a.rest):a.line;return $s(He(jt(_),_.text.length),g)}var C=c.nodeType==3?c:null,S=c;for(!C&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(C=c.firstChild,h&&(h=C.nodeValue.length));S.parentNode!=p;)S=S.parentNode;var P=a.measure,I=P.maps;function Q(Ke,tt,lt){for(var rt=-1;rt<(I?I.length:0);rt++)for(var ft=rt<0?P.map:I[rt],_t=0;_t<ft.length;_t+=3){var mt=ft[_t+2];if(mt==Ke||mt==tt){var Mt=jt(rt<0?a.line:a.rest[rt]),Jt=ft[_t]+lt;return(lt<0||mt!=Ke)&&(Jt=ft[_t+(lt?1:0)]),He(Mt,Jt)}}}var oe=Q(C,S,h);if(oe)return $s(oe,g);for(var ye=S.nextSibling,de=C?C.nodeValue.length-h:0;ye;ye=ye.nextSibling){if(oe=Q(ye,ye.firstChild,0),oe)return $s(He(oe.line,oe.ch-de),g);de+=ye.textContent.length}for(var Te=S.previousSibling,Fe=h;Te;Te=Te.previousSibling){if(oe=Q(Te,Te.firstChild,-1),oe)return $s(He(oe.line,oe.ch+Fe),g);Fe+=Te.textContent.length}}var Tr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new ge,this.hasSelection=!1,this.composing=null};Tr.prototype.init=function(a){var c=this,h=this,p=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),x&&(g.style.width="0px"),be(g,"input",function(){l&&u>=9&&c.hasSelection&&(c.hasSelection=null),h.poll()}),be(g,"paste",function(C){Qe(p,C)||Iy(C,p)||(p.state.pasteIncoming=+new Date,h.fastPoll())});function _(C){if(!Qe(p,C)){if(p.somethingSelected())Ju({lineWise:!1,text:p.getSelections()});else if(p.options.lineWiseCopyCut){var S=Dy(p);Ju({lineWise:!0,text:S.text}),C.type=="cut"?p.setSelections(S.ranges,null,Ne):(h.prevInput="",g.value=S.text.join(`
`),le(g))}else return;C.type=="cut"&&(p.state.cutIncoming=+new Date)}}be(g,"cut",_),be(g,"copy",_),be(a.scroller,"paste",function(C){if(!(_o(a,C)||Qe(p,C))){if(!g.dispatchEvent){p.state.pasteIncoming=+new Date,h.focus();return}var S=new Event("paste");S.clipboardData=C.clipboardData,g.dispatchEvent(S)}}),be(a.lineSpace,"selectstart",function(C){_o(a,C)||$t(C)}),be(g,"compositionstart",function(){var C=p.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:C,range:p.markText(C,p.getCursor("to"),{className:"CodeMirror-composing"})}}),be(g,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},Tr.prototype.createField=function(a){this.wrapper=jy(),this.textarea=this.wrapper.firstChild},Tr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},Tr.prototype.prepareSelection=function(){var a=this.cm,c=a.display,h=a.doc,p=Tm(a);if(a.options.moveInputWithCursor){var g=Io(a,h.sel.primary().head,"div"),_=c.wrapper.getBoundingClientRect(),C=c.lineDiv.getBoundingClientRect();p.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,g.top+C.top-_.top)),p.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,g.left+C.left-_.left))}return p},Tr.prototype.showSelection=function(a){var c=this.cm,h=c.display;$(h.cursorDiv,a.cursors),$(h.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},Tr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var c=this.cm;if(c.somethingSelected()){this.prevInput="";var h=c.getSelection();this.textarea.value=h,c.state.focused&&le(this.textarea),l&&u>=9&&(this.hasSelection=h)}else a||(this.prevInput=this.textarea.value="",l&&u>=9&&(this.hasSelection=null))}},Tr.prototype.getField=function(){return this.textarea},Tr.prototype.supportsTouch=function(){return!1},Tr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!M||_e()!=this.textarea))try{this.textarea.focus()}catch{}},Tr.prototype.blur=function(){this.textarea.blur()},Tr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Tr.prototype.receivedFocus=function(){this.slowPoll()},Tr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},Tr.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0;function h(){var p=c.poll();!p&&!a?(a=!0,c.polling.set(60,h)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,h)},Tr.prototype.poll=function(){var a=this,c=this.cm,h=this.textarea,p=this.prevInput;if(this.contextMenuPending||!c.state.focused||rr(h)&&!p&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var g=h.value;if(g==p&&!c.somethingSelected())return!1;if(l&&u>=9&&this.hasSelection===g||T&&/[\uf700-\uf7ff]/.test(g))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var _=g.charCodeAt(0);if(_==8203&&!p&&(p=""),_==8666)return this.reset(),this.cm.execCommand("undo")}for(var C=0,S=Math.min(p.length,g.length);C<S&&p.charCodeAt(C)==g.charCodeAt(C);)++C;return Bn(c,function(){gh(c,g.slice(C),p.length-C,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?h.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Tr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Tr.prototype.onKeyPress=function(){l&&u>=9&&(this.hasSelection=null),this.fastPoll()},Tr.prototype.onContextMenu=function(a){var c=this,h=c.cm,p=h.display,g=c.textarea;c.contextMenuPending&&c.contextMenuPending();var _=Ma(h,a),C=p.scroller.scrollTop;if(!_||m)return;var S=h.options.resetSelectionOnContextMenu;S&&h.doc.sel.contains(_)==-1&&Wr(h,tn)(h.doc,Xi(_),Ne);var P=g.style.cssText,I=c.wrapper.style.cssText,Q=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-Q.top-5)+"px; left: "+(a.clientX-Q.left-5)+`px;
      z-index: 1000; background: `+(l?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var oe;f&&(oe=window.scrollY),p.input.focus(),f&&window.scrollTo(null,oe),p.input.reset(),h.somethingSelected()||(g.value=c.prevInput=" "),c.contextMenuPending=de,p.selForContextMenu=h.doc.sel,clearTimeout(p.detectingSelectAll);function ye(){if(g.selectionStart!=null){var Fe=h.somethingSelected(),Ke=""+(Fe?g.value:"");g.value="",g.value=Ke,c.prevInput=Fe?"":"",g.selectionStart=1,g.selectionEnd=Ke.length,p.selForContextMenu=h.doc.sel}}function de(){if(c.contextMenuPending==de&&(c.contextMenuPending=!1,c.wrapper.style.cssText=I,g.style.cssText=P,l&&u<9&&p.scrollbars.setScrollTop(p.scroller.scrollTop=C),g.selectionStart!=null)){(!l||l&&u<9)&&ye();var Fe=0,Ke=function(){p.selForContextMenu==h.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&c.prevInput==""?Wr(h,ny)(h):Fe++<10?p.detectingSelectAll=setTimeout(Ke,500):(p.selForContextMenu=null,p.input.reset())};p.detectingSelectAll=setTimeout(Ke,200)}}if(l&&u>=9&&ye(),ee){H(a);var Te=function(){it(window,"mouseup",Te),setTimeout(de,20)};be(window,"mouseup",Te)}else setTimeout(de,50)},Tr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},Tr.prototype.setUneditable=function(){},Tr.prototype.needsContentAttribute=!1;function dS(a,c){if(c=c?xe(c):{},c.value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),c.autofocus==null){var h=_e();c.autofocus=h==a||a.getAttribute("autofocus")!=null&&h==document.body}function p(){a.value=S.getValue()}var g;if(a.form&&(be(a.form,"submit",p),!c.leaveSubmitMethodAlone)){var _=a.form;g=_.submit;try{var C=_.submit=function(){p(),_.submit=g,_.submit(),_.submit=C}}catch{}}c.finishInit=function(P){P.save=p,P.getTextArea=function(){return a},P.toTextArea=function(){P.toTextArea=isNaN,p(),a.parentNode.removeChild(P.getWrapperElement()),a.style.display="",a.form&&(it(a.form,"submit",p),!c.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var S=cr(function(P){return a.parentNode.insertBefore(P,a.nextSibling)},c);return S}function pS(a){a.off=it,a.on=be,a.wheelEventPixels=b5,a.Doc=xn,a.splitLines=Sr,a.countColumn=Oe,a.findColumn=ae,a.isWordChar=Y,a.Pass=Me,a.signal=nt,a.Line=zr,a.changeEnd=Yi,a.scrollbarModel=Im,a.Pos=He,a.cmpPos=yt,a.modes=Dn,a.mimeModes=zt,a.resolveMode=Qr,a.getMode=wt,a.modeExtensions=Ln,a.extendMode=yn,a.copyState=kr,a.startState=cn,a.innerMode=Ar,a.commands=lc,a.keyMap=gi,a.keyName=_y,a.isModifierKey=my,a.lookupKey=Ms,a.normalizeKeyMap=H5,a.StringStream=Wt,a.SharedTextMarker=ic,a.TextMarker=Qi,a.LineWidget=oc,a.e_preventDefault=$t,a.e_stopPropagation=hr,a.e_stop=H,a.addClass=ue,a.contains=V,a.rmClass=q,a.keyNames=ea}oS(cr),lS(cr);var hS="iter insert remove copy getEditor constructor".split(" ");for(var ef in xn.prototype)xn.prototype.hasOwnProperty(ef)&&Be(hS,ef)<0&&(cr.prototype[ef]=function(a){return function(){return a.apply(this.doc,arguments)}}(xn.prototype[ef]));return Rt(xn),cr.inputStyles={textarea:Tr,contenteditable:Xt},cr.defineMode=function(a){!cr.defaults.mode&&a!="null"&&(cr.defaults.mode=a),Or.apply(this,arguments)},cr.defineMIME=Nt,cr.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),cr.defineMIME("text/plain","null"),cr.defineExtension=function(a,c){cr.prototype[a]=c},cr.defineDocExtension=function(a,c){xn.prototype[a]=c},cr.fromTextArea=dS,pS(cr),cr.version="5.63.0",cr})},7389:(o,r,e)=>{(function(t){t(e(4408))})(function(t){t.defineMode("css",function(D,$){var B=$.inline;$.propertyKeywords||($=t.resolveMode("text/css"));var W=D.indentUnit,X=$.tokenHooks,V=$.documentTypes||{},_e=$.mediaTypes||{},ue=$.mediaFeatures||{},Ve=$.mediaValueKeywords||{},le=$.propertyKeywords||{},N=$.nonStandardPropertyKeywords||{},xe=$.fontProperties||{},Oe=$.counterDescriptors||{},ge=$.colorKeywords||{},Be=$.valueKeywords||{},ze=$.allowNested,Me=$.lineComment,Ne=$.supportsAtComponent===!0,Je=D.highlightNonStandardPropertyKeywords!==!1,at,ae;function Se(J,me){return at=me,J}function Ze(J,me){var fe=J.next();if(X[fe]){var ut=X[fe](J,me);if(ut!==!1)return ut}if(fe=="@")return J.eatWhile(/[\w\\\-]/),Se("def",J.current());if(fe=="="||(fe=="~"||fe=="|")&&J.eat("="))return Se(null,"compare");if(fe=='"'||fe=="'")return me.tokenize=Ie(fe),me.tokenize(J,me);if(fe=="#")return J.eatWhile(/[\w\\\-]/),Se("atom","hash");if(fe=="!")return J.match(/^\s*\w*/),Se("keyword","important");if(/\d/.test(fe)||fe=="."&&J.eat(/\d/))return J.eatWhile(/[\w.%]/),Se("number","unit");if(fe==="-"){if(/[\d.]/.test(J.peek()))return J.eatWhile(/[\w.%]/),Se("number","unit");if(J.match(/^-[\w\\\-]*/))return J.eatWhile(/[\w\\\-]/),J.match(/^\s*:/,!1)?Se("variable-2","variable-definition"):Se("variable-2","variable");if(J.match(/^\w+-/))return Se("meta","meta")}else return/[,+>*\/]/.test(fe)?Se(null,"select-op"):fe=="."&&J.match(/^-?[_a-z][_a-z0-9-]*/i)?Se("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(fe)?Se(null,fe):J.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(J.current())&&(me.tokenize=ot),Se("variable callee","variable")):/[\w\\\-]/.test(fe)?(J.eatWhile(/[\w\\\-]/),Se("property","word")):Se(null,null)}function Ie(J){return function(me,fe){for(var ut=!1,Ct;(Ct=me.next())!=null;){if(Ct==J&&!ut){J==")"&&me.backUp(1);break}ut=!ut&&Ct=="\\"}return(Ct==J||!ut&&J!=")")&&(fe.tokenize=null),Se("string","string")}}function ot(J,me){return J.next(),J.match(/^\s*[\"\')]/,!1)?me.tokenize=null:me.tokenize=Ie(")"),Se(null,"(")}function dt(J,me,fe){this.type=J,this.indent=me,this.prev=fe}function st(J,me,fe,ut){return J.context=new dt(fe,me.indentation()+(ut===!1?0:W),J.context),fe}function A(J){return J.context.prev&&(J.context=J.context.prev),J.context.type}function z(J,me,fe){return Ce[fe.context.type](J,me,fe)}function Y(J,me,fe,ut){for(var Ct=ut||1;Ct>0;Ct--)fe.context=fe.context.prev;return z(J,me,fe)}function pe(J){var me=J.current().toLowerCase();Be.hasOwnProperty(me)?ae="atom":ge.hasOwnProperty(me)?ae="keyword":ae="variable"}var Ce={};return Ce.top=function(J,me,fe){if(J=="{")return st(fe,me,"block");if(J=="}"&&fe.context.prev)return A(fe);if(Ne&&/@component/i.test(J))return st(fe,me,"atComponentBlock");if(/^@(-moz-)?document$/i.test(J))return st(fe,me,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(J))return st(fe,me,"atBlock");if(/^@(font-face|counter-style)/i.test(J))return fe.stateArg=J,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(J))return"keyframes";if(J&&J.charAt(0)=="@")return st(fe,me,"at");if(J=="hash")ae="builtin";else if(J=="word")ae="tag";else{if(J=="variable-definition")return"maybeprop";if(J=="interpolation")return st(fe,me,"interpolation");if(J==":")return"pseudo";if(ze&&J=="(")return st(fe,me,"parens")}return fe.context.type},Ce.block=function(J,me,fe){if(J=="word"){var ut=me.current().toLowerCase();return le.hasOwnProperty(ut)?(ae="property","maybeprop"):N.hasOwnProperty(ut)?(ae=Je?"string-2":"property","maybeprop"):ze?(ae=me.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ae+=" error","maybeprop")}else return J=="meta"?"block":!ze&&(J=="hash"||J=="qualifier")?(ae="error","block"):Ce.top(J,me,fe)},Ce.maybeprop=function(J,me,fe){return J==":"?st(fe,me,"prop"):z(J,me,fe)},Ce.prop=function(J,me,fe){if(J==";")return A(fe);if(J=="{"&&ze)return st(fe,me,"propBlock");if(J=="}"||J=="{")return Y(J,me,fe);if(J=="(")return st(fe,me,"parens");if(J=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(me.current()))ae+=" error";else if(J=="word")pe(me);else if(J=="interpolation")return st(fe,me,"interpolation");return"prop"},Ce.propBlock=function(J,me,fe){return J=="}"?A(fe):J=="word"?(ae="property","maybeprop"):fe.context.type},Ce.parens=function(J,me,fe){return J=="{"||J=="}"?Y(J,me,fe):J==")"?A(fe):J=="("?st(fe,me,"parens"):J=="interpolation"?st(fe,me,"interpolation"):(J=="word"&&pe(me),"parens")},Ce.pseudo=function(J,me,fe){return J=="meta"?"pseudo":J=="word"?(ae="variable-3",fe.context.type):z(J,me,fe)},Ce.documentTypes=function(J,me,fe){return J=="word"&&V.hasOwnProperty(me.current())?(ae="tag",fe.context.type):Ce.atBlock(J,me,fe)},Ce.atBlock=function(J,me,fe){if(J=="(")return st(fe,me,"atBlock_parens");if(J=="}"||J==";")return Y(J,me,fe);if(J=="{")return A(fe)&&st(fe,me,ze?"block":"top");if(J=="interpolation")return st(fe,me,"interpolation");if(J=="word"){var ut=me.current().toLowerCase();ut=="only"||ut=="not"||ut=="and"||ut=="or"?ae="keyword":_e.hasOwnProperty(ut)?ae="attribute":ue.hasOwnProperty(ut)?ae="property":Ve.hasOwnProperty(ut)?ae="keyword":le.hasOwnProperty(ut)?ae="property":N.hasOwnProperty(ut)?ae=Je?"string-2":"property":Be.hasOwnProperty(ut)?ae="atom":ge.hasOwnProperty(ut)?ae="keyword":ae="error"}return fe.context.type},Ce.atComponentBlock=function(J,me,fe){return J=="}"?Y(J,me,fe):J=="{"?A(fe)&&st(fe,me,ze?"block":"top",!1):(J=="word"&&(ae="error"),fe.context.type)},Ce.atBlock_parens=function(J,me,fe){return J==")"?A(fe):J=="{"||J=="}"?Y(J,me,fe,2):Ce.atBlock(J,me,fe)},Ce.restricted_atBlock_before=function(J,me,fe){return J=="{"?st(fe,me,"restricted_atBlock"):J=="word"&&fe.stateArg=="@counter-style"?(ae="variable","restricted_atBlock_before"):z(J,me,fe)},Ce.restricted_atBlock=function(J,me,fe){return J=="}"?(fe.stateArg=null,A(fe)):J=="word"?(fe.stateArg=="@font-face"&&!xe.hasOwnProperty(me.current().toLowerCase())||fe.stateArg=="@counter-style"&&!Oe.hasOwnProperty(me.current().toLowerCase())?ae="error":ae="property","maybeprop"):"restricted_atBlock"},Ce.keyframes=function(J,me,fe){return J=="word"?(ae="variable","keyframes"):J=="{"?st(fe,me,"top"):z(J,me,fe)},Ce.at=function(J,me,fe){return J==";"?A(fe):J=="{"||J=="}"?Y(J,me,fe):(J=="word"?ae="tag":J=="hash"&&(ae="builtin"),"at")},Ce.interpolation=function(J,me,fe){return J=="}"?A(fe):J=="{"||J==";"?Y(J,me,fe):(J=="word"?ae="variable":J!="variable"&&J!="("&&J!=")"&&(ae="error"),"interpolation")},{startState:function(J){return{tokenize:null,state:B?"block":"top",stateArg:null,context:new dt(B?"block":"top",J||0,null)}},token:function(J,me){if(!me.tokenize&&J.eatSpace())return null;var fe=(me.tokenize||Ze)(J,me);return fe&&typeof fe=="object"&&(at=fe[1],fe=fe[0]),ae=fe,at!="comment"&&(me.state=Ce[me.state](at,J,me)),ae},indent:function(J,me){var fe=J.context,ut=me&&me.charAt(0),Ct=fe.indent;return fe.type=="prop"&&(ut=="}"||ut==")")&&(fe=fe.prev),fe.prev&&(ut=="}"&&(fe.type=="block"||fe.type=="top"||fe.type=="interpolation"||fe.type=="restricted_atBlock")?(fe=fe.prev,Ct=fe.indent):(ut==")"&&(fe.type=="parens"||fe.type=="atBlock_parens")||ut=="{"&&(fe.type=="at"||fe.type=="atBlock"))&&(Ct=Math.max(0,fe.indent-W))),Ct},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Me,fold:"brace"}});function n(D){for(var $={},B=0;B<D.length;++B)$[D[B].toLowerCase()]=!0;return $}var i=["domain","regexp","url","url-prefix"],s=n(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],u=n(l),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],d=n(f),v=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=n(v),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],b=n(y),w=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=n(w),O=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],M=n(O),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],E=n(T),U=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Z=n(U),te=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ee=n(te),G=i.concat(l).concat(f).concat(v).concat(y).concat(w).concat(U).concat(te);t.registerHelper("hintWords","css",G);function q(D,$){for(var B=!1,W;(W=D.next())!=null;){if(B&&W=="/"){$.tokenize=null;break}B=W=="*"}return["comment","comment"]}t.defineMIME("text/css",{documentTypes:s,mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:M,counterDescriptors:E,colorKeywords:Z,valueKeywords:ee,tokenHooks:{"/":function(D,$){return D.eat("*")?($.tokenize=q,q(D,$)):!1}},name:"css"}),t.defineMIME("text/x-scss",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Z,valueKeywords:ee,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(D,$){return D.eat("/")?(D.skipToEnd(),["comment","comment"]):D.eat("*")?($.tokenize=q,q(D,$)):["operator","operator"]},":":function(D){return D.match(/^\s*\{/,!1)?[null,null]:!1},$:function(D){return D.match(/^[\w-]+/),D.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(D){return D.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),t.defineMIME("text/x-less",{mediaTypes:u,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Z,valueKeywords:ee,fontProperties:M,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(D,$){return D.eat("/")?(D.skipToEnd(),["comment","comment"]):D.eat("*")?($.tokenize=q,q(D,$)):["operator","operator"]},"@":function(D){return D.eat("{")?[null,"interpolation"]:D.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(D.eatWhile(/[\w\\\-]/),D.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),t.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:u,mediaFeatures:d,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:M,counterDescriptors:E,colorKeywords:Z,valueKeywords:ee,supportsAtComponent:!0,tokenHooks:{"/":function(D,$){return D.eat("*")?($.tokenize=q,q(D,$)):!1}},name:"css",helperType:"gss"})})},8253:(o,r,e)=>{(function(t){t(e(4408),e(9701),e(6061),e(7389))})(function(t){var n={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,y,b){var w=m.current(),x=w.search(y);return x>-1?m.backUp(w.length-x):w.match(/<\/?$/)&&(m.backUp(w.length),m.match(y,!1)||m.match(w)),b}var s={};function l(m){var y=s[m];return y||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function u(m,y){var b=m.match(l(y));return b?/^\s*(.*?)\s*$/.exec(b[2])[1]:""}function f(m,y){return new RegExp((y?"^":"")+"</s*"+m+"s*>","i")}function d(m,y){for(var b in m)for(var w=y[b]||(y[b]=[]),x=m[b],O=x.length-1;O>=0;O--)w.unshift(x[O])}function v(m,y){for(var b=0;b<m.length;b++){var w=m[b];if(!w[0]||w[1].test(u(y,w[0])))return w[2]}}t.defineMode("htmlmixed",function(m,y){var b=t.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:y.multilineTagIndentFactor,multilineTagIndentPastTag:y.multilineTagIndentPastTag,allowMissingTagName:y.allowMissingTagName}),w={},x=y&&y.tags,O=y&&y.scriptTypes;if(d(n,w),x&&d(x,w),O)for(var M=O.length-1;M>=0;M--)w.script.unshift(["type",O[M].matches,O[M].mode]);function T(E,U){var Z=b.token(E,U.htmlState),te=/\btag\b/.test(Z),ee;if(te&&!/[<>\s\/]/.test(E.current())&&(ee=U.htmlState.tagName&&U.htmlState.tagName.toLowerCase())&&w.hasOwnProperty(ee))U.inTag=ee+" ";else if(U.inTag&&te&&/>$/.test(E.current())){var G=/^([\S]+) (.*)/.exec(U.inTag);U.inTag=null;var q=E.current()==">"&&v(w[G[1]],G[2]),D=t.getMode(m,q),$=f(G[1],!0),B=f(G[1],!1);U.token=function(W,X){return W.match($,!1)?(X.token=T,X.localState=X.localMode=null,null):i(W,B,X.localMode.token(W,X.localState))},U.localMode=D,U.localState=t.startState(D,b.indent(U.htmlState,"",""))}else U.inTag&&(U.inTag+=E.current(),E.eol()&&(U.inTag+=" "));return Z}return{startState:function(){var E=t.startState(b);return{token:T,inTag:null,localMode:null,localState:null,htmlState:E}},copyState:function(E){var U;return E.localState&&(U=t.copyState(E.localMode,E.localState)),{token:E.token,inTag:E.inTag,localMode:E.localMode,localState:U,htmlState:t.copyState(b,E.htmlState)}},token:function(E,U){return U.token(E,U)},indent:function(E,U,Z){return!E.localMode||/^\s*<\//.test(U)?b.indent(E.htmlState,U,Z):E.localMode.indent?E.localMode.indent(E.localState,U,Z):t.Pass},innerMode:function(E){return{state:E.localState||E.htmlState,mode:E.localMode||b}}}},"xml","javascript","css"),t.defineMIME("text/html","htmlmixed")})},6061:(o,r,e)=>{(function(t){t(e(4408))})(function(t){t.defineMode("javascript",function(n,i){var s=n.indentUnit,l=i.statementIndent,u=i.jsonld,f=i.json||u,d=i.trackScope!==!1,v=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function R(or){return{type:or,style:"keyword"}}var re=R("keyword a"),Ee=R("keyword b"),We=R("keyword c"),qe=R("keyword d"),Pt=R("operator"),Dt={type:"atom",style:"atom"};return{if:R("if"),while:re,with:re,else:Ee,do:Ee,try:Ee,finally:Ee,return:qe,break:qe,continue:qe,new:R("new"),delete:We,void:We,throw:We,debugger:R("debugger"),var:R("var"),const:R("var"),let:R("var"),function:R("function"),catch:R("catch"),for:R("for"),switch:R("switch"),case:R("case"),default:R("default"),in:Pt,typeof:Pt,instanceof:Pt,true:Dt,false:Dt,null:Dt,undefined:Dt,NaN:Dt,Infinity:Dt,this:R("this"),class:R("class"),super:R("atom"),yield:We,export:R("export"),import:R("import"),extends:We,await:We}}(),b=/[+\-*&%=<>!?|~^@]/,w=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(R){for(var re=!1,Ee,We=!1;(Ee=R.next())!=null;){if(!re){if(Ee=="/"&&!We)return;Ee=="["?We=!0:We&&Ee=="]"&&(We=!1)}re=!re&&Ee=="\\"}}var O,M;function T(R,re,Ee){return O=R,M=Ee,re}function E(R,re){var Ee=R.next();if(Ee=='"'||Ee=="'")return re.tokenize=U(Ee),re.tokenize(R,re);if(Ee=="."&&R.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(Ee=="."&&R.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ee))return T(Ee);if(Ee=="="&&R.eat(">"))return T("=>","operator");if(Ee=="0"&&R.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(Ee))return R.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(Ee=="/")return R.eat("*")?(re.tokenize=Z,Z(R,re)):R.eat("/")?(R.skipToEnd(),T("comment","comment")):Qn(R,re,1)?(x(R),R.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(R.eat("="),T("operator","operator",R.current()));if(Ee=="`")return re.tokenize=te,te(R,re);if(Ee=="#"&&R.peek()=="!")return R.skipToEnd(),T("meta","meta");if(Ee=="#"&&R.eatWhile(m))return T("variable","property");if(Ee=="<"&&R.match("!--")||Ee=="-"&&R.match("->")&&!/\S/.test(R.string.slice(0,R.start)))return R.skipToEnd(),T("comment","comment");if(b.test(Ee))return(Ee!=">"||!re.lexical||re.lexical.type!=">")&&(R.eat("=")?(Ee=="!"||Ee=="=")&&R.eat("="):/[<>*+\-|&?]/.test(Ee)&&(R.eat(Ee),Ee==">"&&R.eat(Ee))),Ee=="?"&&R.eat(".")?T("."):T("operator","operator",R.current());if(m.test(Ee)){R.eatWhile(m);var We=R.current();if(re.lastType!="."){if(y.propertyIsEnumerable(We)){var qe=y[We];return T(qe.type,qe.style,We)}if(We=="async"&&R.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",We)}return T("variable","variable",We)}}function U(R){return function(re,Ee){var We=!1,qe;if(u&&re.peek()=="@"&&re.match(w))return Ee.tokenize=E,T("jsonld-keyword","meta");for(;(qe=re.next())!=null&&!(qe==R&&!We);)We=!We&&qe=="\\";return We||(Ee.tokenize=E),T("string","string")}}function Z(R,re){for(var Ee=!1,We;We=R.next();){if(We=="/"&&Ee){re.tokenize=E;break}Ee=We=="*"}return T("comment","comment")}function te(R,re){for(var Ee=!1,We;(We=R.next())!=null;){if(!Ee&&(We=="`"||We=="$"&&R.eat("{"))){re.tokenize=E;break}Ee=!Ee&&We=="\\"}return T("quasi","string-2",R.current())}var ee="([{}])";function G(R,re){re.fatArrowAt&&(re.fatArrowAt=null);var Ee=R.string.indexOf("=>",R.start);if(!(Ee<0)){if(v){var We=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(R.string.slice(R.start,Ee));We&&(Ee=We.index)}for(var qe=0,Pt=!1,Dt=Ee-1;Dt>=0;--Dt){var or=R.string.charAt(Dt),Kt=ee.indexOf(or);if(Kt>=0&&Kt<3){if(!qe){++Dt;break}if(--qe==0){or=="("&&(Pt=!0);break}}else if(Kt>=3&&Kt<6)++qe;else if(m.test(or))Pt=!0;else if(/["'\/`]/.test(or))for(;;--Dt){if(Dt==0)return;var Rn=R.string.charAt(Dt-1);if(Rn==or&&R.string.charAt(Dt-2)!="\\"){Dt--;break}}else if(Pt&&!qe){++Dt;break}}Pt&&!qe&&(re.fatArrowAt=Dt)}}var q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function D(R,re,Ee,We,qe,Pt){this.indented=R,this.column=re,this.type=Ee,this.prev=qe,this.info=Pt,We!=null&&(this.align=We)}function $(R,re){if(!d)return!1;for(var Ee=R.localVars;Ee;Ee=Ee.next)if(Ee.name==re)return!0;for(var We=R.context;We;We=We.prev)for(var Ee=We.vars;Ee;Ee=Ee.next)if(Ee.name==re)return!0}function B(R,re,Ee,We,qe){var Pt=R.cc;for(W.state=R,W.stream=qe,W.marked=null,W.cc=Pt,W.style=re,R.lexical.hasOwnProperty("align")||(R.lexical.align=!0);;){var Dt=Pt.length?Pt.pop():f?Se:at;if(Dt(Ee,We)){for(;Pt.length&&Pt[Pt.length-1].lex;)Pt.pop()();return W.marked?W.marked:Ee=="variable"&&$(R,We)?"variable-2":re}}}var W={state:null,marked:null,cc:null};function X(){for(var R=arguments.length-1;R>=0;R--)W.cc.push(arguments[R])}function V(){return X.apply(null,arguments),!0}function _e(R,re){for(var Ee=re;Ee;Ee=Ee.next)if(Ee.name==R)return!0;return!1}function ue(R){var re=W.state;if(W.marked="def",!!d){if(re.context){if(re.lexical.info=="var"&&re.context&&re.context.block){var Ee=Ve(R,re.context);if(Ee!=null){re.context=Ee;return}}else if(!_e(R,re.localVars)){re.localVars=new xe(R,re.localVars);return}}i.globalVars&&!_e(R,re.globalVars)&&(re.globalVars=new xe(R,re.globalVars))}}function Ve(R,re){if(re)if(re.block){var Ee=Ve(R,re.prev);return Ee?Ee==re.prev?re:new N(Ee,re.vars,!0):null}else return _e(R,re.vars)?re:new N(re.prev,new xe(R,re.vars),!1);else return null}function le(R){return R=="public"||R=="private"||R=="protected"||R=="abstract"||R=="readonly"}function N(R,re,Ee){this.prev=R,this.vars=re,this.block=Ee}function xe(R,re){this.name=R,this.next=re}var Oe=new xe("this",new xe("arguments",null));function ge(){W.state.context=new N(W.state.context,W.state.localVars,!1),W.state.localVars=Oe}function Be(){W.state.context=new N(W.state.context,W.state.localVars,!0),W.state.localVars=null}function ze(){W.state.localVars=W.state.context.vars,W.state.context=W.state.context.prev}ze.lex=!0;function Me(R,re){var Ee=function(){var We=W.state,qe=We.indented;if(We.lexical.type=="stat")qe=We.lexical.indented;else for(var Pt=We.lexical;Pt&&Pt.type==")"&&Pt.align;Pt=Pt.prev)qe=Pt.indented;We.lexical=new D(qe,W.stream.column(),R,null,We.lexical,re)};return Ee.lex=!0,Ee}function Ne(){var R=W.state;R.lexical.prev&&(R.lexical.type==")"&&(R.indented=R.lexical.indented),R.lexical=R.lexical.prev)}Ne.lex=!0;function Je(R){function re(Ee){return Ee==R?V():R==";"||Ee=="}"||Ee==")"||Ee=="]"?X():V(re)}return re}function at(R,re){return R=="var"?V(Me("vardef",re),gt,Je(";"),Ne):R=="keyword a"?V(Me("form"),Ie,at,Ne):R=="keyword b"?V(Me("form"),at,Ne):R=="keyword d"?W.stream.match(/^\s*$/,!1)?V():V(Me("stat"),dt,Je(";"),Ne):R=="debugger"?V(Je(";")):R=="{"?V(Me("}"),Be,be,Ne,ze):R==";"?V():R=="if"?(W.state.lexical.info=="else"&&W.state.cc[W.state.cc.length-1]==Ne&&W.state.cc.pop()(),V(Me("form"),Ie,at,Ne,nr)):R=="function"?V(Or):R=="for"?V(Me("form"),Be,ln,at,ze,Ne):R=="class"||v&&re=="interface"?(W.marked="keyword",V(Me("form",R=="class"?R:re),yn,Ne)):R=="variable"?v&&re=="declare"?(W.marked="keyword",V(at)):v&&(re=="module"||re=="enum"||re=="type")&&W.stream.match(/^\s*\w/,!1)?(W.marked="keyword",re=="enum"?V(Jn):re=="type"?V(Qr,Je("operator"),pt,Je(";")):V(Me("form"),St,Je("{"),Me("}"),be,Ne,Ne)):v&&re=="namespace"?(W.marked="keyword",V(Me("form"),Se,at,Ne)):v&&re=="abstract"?(W.marked="keyword",V(at)):V(Me("stat"),ut):R=="switch"?V(Me("form"),Ie,Je("{"),Me("}","switch"),Be,be,Ne,Ne,ze):R=="case"?V(Se,Je(":")):R=="default"?V(Je(":")):R=="catch"?V(Me("form"),ge,ae,at,Ne,ze):R=="export"?V(Me("stat"),Wt,Ne):R=="import"?V(Me("stat"),Hr,Ne):R=="async"?V(at):re=="@"?V(Se,at):X(Me("stat"),Se,Je(";"),Ne)}function ae(R){if(R=="(")return V(wt,Je(")"))}function Se(R,re){return ot(R,re,!1)}function Ze(R,re){return ot(R,re,!0)}function Ie(R){return R!="("?X():V(Me(")"),dt,Je(")"),Ne)}function ot(R,re,Ee){if(W.state.fatArrowAt==W.stream.start){var We=Ee?Ce:pe;if(R=="(")return V(ge,Me(")"),j(wt,")"),Ne,Je("=>"),We,ze);if(R=="variable")return X(ge,St,Je("=>"),We,ze)}var qe=Ee?A:st;return q.hasOwnProperty(R)?V(qe):R=="function"?V(Or,qe):R=="class"||v&&re=="interface"?(W.marked="keyword",V(Me("form"),Ln,Ne)):R=="keyword c"||R=="async"?V(Ee?Ze:Se):R=="("?V(Me(")"),dt,Je(")"),Ne,qe):R=="operator"||R=="spread"?V(Ee?Ze:Se):R=="["?V(Me("]"),jn,Ne,qe):R=="{"?Ae(bt,"}",null,qe):R=="quasi"?X(z,qe):R=="new"?V(J(Ee)):V()}function dt(R){return R.match(/[;\}\)\],]/)?X():X(Se)}function st(R,re){return R==","?V(dt):A(R,re,!1)}function A(R,re,Ee){var We=Ee==!1?st:A,qe=Ee==!1?Se:Ze;if(R=="=>")return V(ge,Ee?Ce:pe,ze);if(R=="operator")return/\+\+|--/.test(re)||v&&re=="!"?V(We):v&&re=="<"&&W.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?V(Me(">"),j(pt,">"),Ne,We):re=="?"?V(Se,Je(":"),qe):V(qe);if(R=="quasi")return X(z,We);if(R!=";"){if(R=="(")return Ae(Ze,")","call",We);if(R==".")return V(Ct,We);if(R=="[")return V(Me("]"),dt,Je("]"),Ne,We);if(v&&re=="as")return W.marked="keyword",V(pt,We);if(R=="regexp")return W.state.lastType=W.marked="operator",W.stream.backUp(W.stream.pos-W.stream.start-1),V(qe)}}function z(R,re){return R!="quasi"?X():re.slice(re.length-2)!="${"?V(z):V(dt,Y)}function Y(R){if(R=="}")return W.marked="string-2",W.state.tokenize=te,V(z)}function pe(R){return G(W.stream,W.state),X(R=="{"?at:Se)}function Ce(R){return G(W.stream,W.state),X(R=="{"?at:Ze)}function J(R){return function(re){return re=="."?V(R?fe:me):re=="variable"&&v?V(he,R?A:st):X(R?Ze:Se)}}function me(R,re){if(re=="target")return W.marked="keyword",V(st)}function fe(R,re){if(re=="target")return W.marked="keyword",V(A)}function ut(R){return R==":"?V(Ne,at):X(st,Je(";"),Ne)}function Ct(R){if(R=="variable")return W.marked="property",V()}function bt(R,re){if(R=="async")return W.marked="property",V(bt);if(R=="variable"||W.style=="keyword"){if(W.marked="property",re=="get"||re=="set")return V(K);var Ee;return v&&W.state.fatArrowAt==W.stream.start&&(Ee=W.stream.match(/^\s*:\s*/,!1))&&(W.state.fatArrowAt=W.stream.pos+Ee[0].length),V(ce)}else{if(R=="number"||R=="string")return W.marked=u?"property":W.style+" property",V(ce);if(R=="jsonld-keyword")return V(ce);if(v&&le(re))return W.marked="keyword",V(bt);if(R=="[")return V(Se,Ue,Je("]"),ce);if(R=="spread")return V(Ze,ce);if(re=="*")return W.marked="keyword",V(bt);if(R==":")return X(ce)}}function K(R){return R!="variable"?X(ce):(W.marked="property",V(Or))}function ce(R){if(R==":")return V(Ze);if(R=="(")return X(Or)}function j(R,re,Ee){function We(qe,Pt){if(Ee?Ee.indexOf(qe)>-1:qe==","){var Dt=W.state.lexical;return Dt.info=="call"&&(Dt.pos=(Dt.pos||0)+1),V(function(or,Kt){return or==re||Kt==re?X():X(R)},We)}return qe==re||Pt==re?V():Ee&&Ee.indexOf(";")>-1?X(R):V(Je(re))}return function(qe,Pt){return qe==re||Pt==re?V():X(R,We)}}function Ae(R,re,Ee){for(var We=3;We<arguments.length;We++)W.cc.push(arguments[We]);return V(Me(re,Ee),j(R,re),Ne)}function be(R){return R=="}"?V():X(at,be)}function Ue(R,re){if(v){if(R==":")return V(pt);if(re=="?")return V(Ue)}}function it(R,re){if(v&&(R==":"||re=="in"))return V(pt)}function nt(R){if(v&&R==":")return W.stream.match(/^\s*\w+\s+is\b/,!1)?V(Se,Qe,pt):V(pt)}function Qe(R,re){if(re=="is")return W.marked="keyword",V()}function pt(R,re){if(re=="keyof"||re=="typeof"||re=="infer"||re=="readonly")return W.marked="keyword",V(re=="typeof"?Ze:pt);if(R=="variable"||re=="void")return W.marked="type",V(ie);if(re=="|"||re=="&")return V(pt);if(R=="string"||R=="number"||R=="atom")return V(ie);if(R=="[")return V(Me("]"),j(pt,"]",","),Ne,ie);if(R=="{")return V(Me("}"),Rt,Ne,ie);if(R=="(")return V(j(H,")"),At,ie);if(R=="<")return V(j(pt,">"),pt);if(R=="quasi")return X(hr,ie)}function At(R){if(R=="=>")return V(pt)}function Rt(R){return R.match(/[\}\)\]]/)?V():R==","||R==";"?V(Rt):X($t,Rt)}function $t(R,re){if(R=="variable"||W.style=="keyword")return W.marked="property",V($t);if(re=="?"||R=="number"||R=="string")return V($t);if(R==":")return V(pt);if(R=="[")return V(Je("variable"),it,Je("]"),$t);if(R=="(")return X(Nt,$t);if(!R.match(/[;\}\)\],]/))return V()}function hr(R,re){return R!="quasi"?X():re.slice(re.length-2)!="${"?V(hr):V(pt,Lr)}function Lr(R){if(R=="}")return W.marked="string-2",W.state.tokenize=te,V(hr)}function H(R,re){return R=="variable"&&W.stream.match(/^\s*[?:]/,!1)||re=="?"?V(H):R==":"?V(pt):R=="spread"?V(H):X(pt)}function ie(R,re){if(re=="<")return V(Me(">"),j(pt,">"),Ne,ie);if(re=="|"||R=="."||re=="&")return V(pt);if(R=="[")return V(pt,Je("]"),ie);if(re=="extends"||re=="implements")return W.marked="keyword",V(pt);if(re=="?")return V(pt,Je(":"),pt)}function he(R,re){if(re=="<")return V(Me(">"),j(pt,">"),Ne,ie)}function De(){return X(pt,Ye)}function Ye(R,re){if(re=="=")return V(pt)}function gt(R,re){return re=="enum"?(W.marked="keyword",V(Jn)):X(St,Ue,rr,Yn)}function St(R,re){if(v&&le(re))return W.marked="keyword",V(St);if(R=="variable")return ue(re),V();if(R=="spread")return V(St);if(R=="[")return Ae(Sr,"]");if(R=="{")return Ae(tr,"}")}function tr(R,re){return R=="variable"&&!W.stream.match(/^\s*:/,!1)?(ue(re),V(rr)):(R=="variable"&&(W.marked="property"),R=="spread"?V(St):R=="}"?X():R=="["?V(Se,Je("]"),Je(":"),tr):V(Je(":"),St,rr))}function Sr(){return X(St,rr)}function rr(R,re){if(re=="=")return V(Ze)}function Yn(R){if(R==",")return V(gt)}function nr(R,re){if(R=="keyword b"&&re=="else")return V(Me("form","else"),at,Ne)}function ln(R,re){if(re=="await")return V(ln);if(R=="(")return V(Me(")"),Dn,Ne)}function Dn(R){return R=="var"?V(gt,zt):R=="variable"?V(zt):X(zt)}function zt(R,re){return R==")"?V():R==";"?V(zt):re=="in"||re=="of"?(W.marked="keyword",V(Se,zt)):X(Se,zt)}function Or(R,re){if(re=="*")return W.marked="keyword",V(Or);if(R=="variable")return ue(re),V(Or);if(R=="(")return V(ge,Me(")"),j(wt,")"),Ne,nt,at,ze);if(v&&re=="<")return V(Me(">"),j(De,">"),Ne,Or)}function Nt(R,re){if(re=="*")return W.marked="keyword",V(Nt);if(R=="variable")return ue(re),V(Nt);if(R=="(")return V(ge,Me(")"),j(wt,")"),Ne,nt,ze);if(v&&re=="<")return V(Me(">"),j(De,">"),Ne,Nt)}function Qr(R,re){if(R=="keyword"||R=="variable")return W.marked="type",V(Qr);if(re=="<")return V(Me(">"),j(De,">"),Ne)}function wt(R,re){return re=="@"&&V(Se,wt),R=="spread"?V(wt):v&&le(re)?(W.marked="keyword",V(wt)):v&&R=="this"?V(Ue,rr):X(St,Ue,rr)}function Ln(R,re){return R=="variable"?yn(R,re):kr(R,re)}function yn(R,re){if(R=="variable")return ue(re),V(kr)}function kr(R,re){if(re=="<")return V(Me(">"),j(De,">"),Ne,kr);if(re=="extends"||re=="implements"||v&&R==",")return re=="implements"&&(W.marked="keyword"),V(v?pt:Se,kr);if(R=="{")return V(Me("}"),Ar,Ne)}function Ar(R,re){if(R=="async"||R=="variable"&&(re=="static"||re=="get"||re=="set"||v&&le(re))&&W.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return W.marked="keyword",V(Ar);if(R=="variable"||W.style=="keyword")return W.marked="property",V(cn,Ar);if(R=="number"||R=="string")return V(cn,Ar);if(R=="[")return V(Se,Ue,Je("]"),cn,Ar);if(re=="*")return W.marked="keyword",V(Ar);if(v&&R=="(")return X(Nt,Ar);if(R==";"||R==",")return V(Ar);if(R=="}")return V();if(re=="@")return V(Se,Ar)}function cn(R,re){if(re=="!"||re=="?")return V(cn);if(R==":")return V(pt,rr);if(re=="=")return V(Ze);var Ee=W.state.lexical.prev,We=Ee&&Ee.info=="interface";return X(We?Nt:Or)}function Wt(R,re){return re=="*"?(W.marked="keyword",V(Yt,Je(";"))):re=="default"?(W.marked="keyword",V(Se,Je(";"))):R=="{"?V(j(ct,"}"),Yt,Je(";")):X(at)}function ct(R,re){if(re=="as")return W.marked="keyword",V(Je("variable"));if(R=="variable")return X(Ze,ct)}function Hr(R){return R=="string"?V():R=="("?X(Se):R=="."?X(st):X(sr,Ur,Yt)}function sr(R,re){return R=="{"?Ae(sr,"}"):(R=="variable"&&ue(re),re=="*"&&(W.marked="keyword"),V(jt))}function Ur(R){if(R==",")return V(sr,Ur)}function jt(R,re){if(re=="as")return W.marked="keyword",V(sr)}function Yt(R,re){if(re=="from")return W.marked="keyword",V(Se)}function jn(R){return R=="]"?V():X(j(Ze,"]"))}function Jn(){return X(Me("form"),St,Je("{"),Me("}"),j(He,"}"),Ne,Ne)}function He(){return X(St,rr)}function yt(R,re){return R.lastType=="operator"||R.lastType==","||b.test(re.charAt(0))||/[,.]/.test(re.charAt(0))}function Qn(R,re,Ee){return re.tokenize==E&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(re.lastType)||re.lastType=="quasi"&&/\{\s*$/.test(R.string.slice(0,R.pos-(Ee||0)))}return{startState:function(R){var re={tokenize:E,lastType:"sof",cc:[],lexical:new D((R||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new N(null,null,!1),indented:R||0};return i.globalVars&&typeof i.globalVars=="object"&&(re.globalVars=i.globalVars),re},token:function(R,re){if(R.sol()&&(re.lexical.hasOwnProperty("align")||(re.lexical.align=!1),re.indented=R.indentation(),G(R,re)),re.tokenize!=Z&&R.eatSpace())return null;var Ee=re.tokenize(R,re);return O=="comment"?Ee:(re.lastType=O=="operator"&&(M=="++"||M=="--")?"incdec":O,B(re,Ee,O,M,R))},indent:function(R,re){if(R.tokenize==Z||R.tokenize==te)return t.Pass;if(R.tokenize!=E)return 0;var Ee=re&&re.charAt(0),We=R.lexical,qe;if(!/^\s*else\b/.test(re))for(var Pt=R.cc.length-1;Pt>=0;--Pt){var Dt=R.cc[Pt];if(Dt==Ne)We=We.prev;else if(Dt!=nr&&Dt!=ze)break}for(;(We.type=="stat"||We.type=="form")&&(Ee=="}"||(qe=R.cc[R.cc.length-1])&&(qe==st||qe==A)&&!/^[,\.=+\-*:?[\(]/.test(re));)We=We.prev;l&&We.type==")"&&We.prev.type=="stat"&&(We=We.prev);var or=We.type,Kt=Ee==or;return or=="vardef"?We.indented+(R.lastType=="operator"||R.lastType==","?We.info.length+1:0):or=="form"&&Ee=="{"?We.indented:or=="form"?We.indented+s:or=="stat"?We.indented+(yt(R,re)?l||s:0):We.info=="switch"&&!Kt&&i.doubleIndentSwitch!=!1?We.indented+(/^(?:case|default)\b/.test(re)?s:2*s):We.align?We.column+(Kt?0:1):We.indented+(Kt?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:u,jsonMode:f,expressionAllowed:Qn,skipExpression:function(R){B(R,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},9701:(o,r,e)=>{(function(t){t(e(4408))})(function(t){var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(s,l){var u=s.indentUnit,f={},d=l.htmlMode?n:i;for(var v in d)f[v]=d[v];for(var v in l)f[v]=l[v];var m,y;function b(V,_e){function ue(N){return _e.tokenize=N,N(V,_e)}var Ve=V.next();if(Ve=="<")return V.eat("!")?V.eat("[")?V.match("CDATA[")?ue(O("atom","]]>")):null:V.match("--")?ue(O("comment","-->")):V.match("DOCTYPE",!0,!0)?(V.eatWhile(/[\w\._\-]/),ue(M(1))):null:V.eat("?")?(V.eatWhile(/[\w\._\-]/),_e.tokenize=O("meta","?>"),"meta"):(m=V.eat("/")?"closeTag":"openTag",_e.tokenize=w,"tag bracket");if(Ve=="&"){var le;return V.eat("#")?V.eat("x")?le=V.eatWhile(/[a-fA-F\d]/)&&V.eat(";"):le=V.eatWhile(/[\d]/)&&V.eat(";"):le=V.eatWhile(/[\w\.\-:]/)&&V.eat(";"),le?"atom":"error"}else return V.eatWhile(/[^&<]/),null}b.isInText=!0;function w(V,_e){var ue=V.next();if(ue==">"||ue=="/"&&V.eat(">"))return _e.tokenize=b,m=ue==">"?"endTag":"selfcloseTag","tag bracket";if(ue=="=")return m="equals",null;if(ue=="<"){_e.tokenize=b,_e.state=te,_e.tagName=_e.tagStart=null;var Ve=_e.tokenize(V,_e);return Ve?Ve+" tag error":"tag error"}else return/[\'\"]/.test(ue)?(_e.tokenize=x(ue),_e.stringStartCol=V.column(),_e.tokenize(V,_e)):(V.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(V){var _e=function(ue,Ve){for(;!ue.eol();)if(ue.next()==V){Ve.tokenize=w;break}return"string"};return _e.isInAttribute=!0,_e}function O(V,_e){return function(ue,Ve){for(;!ue.eol();){if(ue.match(_e)){Ve.tokenize=b;break}ue.next()}return V}}function M(V){return function(_e,ue){for(var Ve;(Ve=_e.next())!=null;){if(Ve=="<")return ue.tokenize=M(V+1),ue.tokenize(_e,ue);if(Ve==">")if(V==1){ue.tokenize=b;break}else return ue.tokenize=M(V-1),ue.tokenize(_e,ue)}return"meta"}}function T(V){return V&&V.toLowerCase()}function E(V,_e,ue){this.prev=V.context,this.tagName=_e||"",this.indent=V.indented,this.startOfLine=ue,(f.doNotIndent.hasOwnProperty(_e)||V.context&&V.context.noIndent)&&(this.noIndent=!0)}function U(V){V.context&&(V.context=V.context.prev)}function Z(V,_e){for(var ue;;){if(!V.context||(ue=V.context.tagName,!f.contextGrabbers.hasOwnProperty(T(ue))||!f.contextGrabbers[T(ue)].hasOwnProperty(T(_e))))return;U(V)}}function te(V,_e,ue){return V=="openTag"?(ue.tagStart=_e.column(),ee):V=="closeTag"?G:te}function ee(V,_e,ue){return V=="word"?(ue.tagName=_e.current(),y="tag",$):f.allowMissingTagName&&V=="endTag"?(y="tag bracket",$(V,_e,ue)):(y="error",ee)}function G(V,_e,ue){if(V=="word"){var Ve=_e.current();return ue.context&&ue.context.tagName!=Ve&&f.implicitlyClosed.hasOwnProperty(T(ue.context.tagName))&&U(ue),ue.context&&ue.context.tagName==Ve||f.matchClosing===!1?(y="tag",q):(y="tag error",D)}else return f.allowMissingTagName&&V=="endTag"?(y="tag bracket",q(V,_e,ue)):(y="error",D)}function q(V,_e,ue){return V!="endTag"?(y="error",q):(U(ue),te)}function D(V,_e,ue){return y="error",q(V,_e,ue)}function $(V,_e,ue){if(V=="word")return y="attribute",B;if(V=="endTag"||V=="selfcloseTag"){var Ve=ue.tagName,le=ue.tagStart;return ue.tagName=ue.tagStart=null,V=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(T(Ve))?Z(ue,Ve):(Z(ue,Ve),ue.context=new E(ue,Ve,le==ue.indented)),te}return y="error",$}function B(V,_e,ue){return V=="equals"?W:(f.allowMissing||(y="error"),$(V,_e,ue))}function W(V,_e,ue){return V=="string"?X:V=="word"&&f.allowUnquoted?(y="string",$):(y="error",$(V,_e,ue))}function X(V,_e,ue){return V=="string"?X:$(V,_e,ue)}return{startState:function(V){var _e={tokenize:b,state:te,indented:V||0,tagName:null,tagStart:null,context:null};return V!=null&&(_e.baseIndent=V),_e},token:function(V,_e){if(!_e.tagName&&V.sol()&&(_e.indented=V.indentation()),V.eatSpace())return null;m=null;var ue=_e.tokenize(V,_e);return(ue||m)&&ue!="comment"&&(y=null,_e.state=_e.state(m||ue,V,_e),y&&(ue=y=="error"?ue+" error":y)),ue},indent:function(V,_e,ue){var Ve=V.context;if(V.tokenize.isInAttribute)return V.tagStart==V.indented?V.stringStartCol+1:V.indented+u;if(Ve&&Ve.noIndent)return t.Pass;if(V.tokenize!=w&&V.tokenize!=b)return ue?ue.match(/^(\s*)/)[0].length:0;if(V.tagName)return f.multilineTagIndentPastTag!==!1?V.tagStart+V.tagName.length+2:V.tagStart+u*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(_e))return 0;var le=_e&&/^<(\/)?([\w_:\.-]*)/.exec(_e);if(le&&le[1])for(;Ve;)if(Ve.tagName==le[2]){Ve=Ve.prev;break}else if(f.implicitlyClosed.hasOwnProperty(T(Ve.tagName)))Ve=Ve.prev;else break;else if(le)for(;Ve;){var N=f.contextGrabbers[T(Ve.tagName)];if(N&&N.hasOwnProperty(T(le[2])))Ve=Ve.prev;else break}for(;Ve&&Ve.prev&&!Ve.startOfLine;)Ve=Ve.prev;return Ve?Ve.indent+u:V.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(V){V.state==W&&(V.state=$)},xmlCurrentTag:function(V){return V.tagName?{name:V.tagName,close:V.type=="closeTag"}:null},xmlCurrentContext:function(V){for(var _e=[],ue=V.context;ue;ue=ue.prev)_e.push(ue.tagName);return _e.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})},3023:(o,r,e)=>{e.d(r,{A:()=>s});var t=e(1749),n=function(){var l=function(u,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},l(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),i=function(l){n(u,l);function u(f,d,v){var m=l.call(this,d,v)||this;return m._module=f,m}return Object.defineProperty(u.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),u}(t.Kx);const s=i},2820:(o,r,e)=>{e.d(r,{A:()=>l,F:()=>i});var t=e(3023),n=function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(v[y]=m[y])},u(f,d)};return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(f,d);function v(){this.constructor=f}f.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),i;(function(u){u.Select="select",u.Hover="hover",u.Spacing="spacing",u.Target="target",u.Resize="resize"})(i||(i={}));var s=function(u){n(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(f.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"component",{get:function(){var d,v=this.get("component");return v||((d=this.get("componentView"))===null||d===void 0?void 0:d.model)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"componentView",{get:function(){var d,v=this.get("componentView");return v||((d=this.get("component"))===null||d===void 0?void 0:d.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"el",{get:function(){var d;return(d=this.componentView)===null||d===void 0?void 0:d.el},enumerable:!1,configurable:!0}),f.prototype.getBoxRect=function(d){var v=this,m=v.el,y=v.em,b=y.Canvas.getCanvasView(),w=this.get("boxRect");return w||(m&&b?b.getElBoxRect(m,d):{x:0,y:0,width:0,height:0})},f.prototype.getStyle=function(d){d===void 0&&(d={});var v=d.boxRect||this.getBoxRect(d),m=v.width,y=v.height,b=v.x,w=v.y;return{width:"".concat(m,"px"),height:"".concat(y,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(b,"px ").concat(w,"px")}},f.prototype.isType=function(d){return this.type===d},f}(t.A);const l=s},8351:(o,r,e)=>{e.d(r,{A:()=>n});var t;(function(i){i.run="command:run",i._run="run",i.runCommand="command:run:",i._runCommand="run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i._abort="abort:",i.stop="command:stop",i._stop="stop",i.stopCommand="command:stop:",i._stopCommand="stop:",i.stopBeforeCommand="command:stop:before:"})(t||(t={}));const n=t},371:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n){n.Components.clear(),n.Css.clear()}}},6301:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(5706),n=e(5633),i=e(2097);const s={run:function(l){(0,t.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=l,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(l){this.toggleMove(),this.disableDragger()},onKeyUp:function(l){(0,i.Ch)(l)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(l){this.toggleDragger(1,l)},disableDragger:function(l){this.toggleDragger(0,l)},toggleDragger:function(l,u){var f=this,d=f.canvasModel,v=f.em,m=this.dragger,y=l?"add":"remove";this.getCanvas().classList[y]("".concat(this.ppfx,"is__grabbing")),m||(m=new n.A({getPosition:function(){return{x:d.get("x"),y:d.get("y")}},setPosition:function(b){var w=b.x,x=b.y;d.set({x:w,y:x})},onStart:function(b,w){v.trigger("canvas:move:start",w)},onDrag:function(b,w){v.trigger("canvas:move",w)},onEnd:function(b,w){v.trigger("canvas:move:end",w)}}),this.dragger=m),l?m.start(u):m.stop()},toggleMove:function(l){var u=this.ppfx,f=l?"add":"remove",d=l?"on":"off",v={on:i.on,off:i.AU},m=this.getCanvas(),y=["".concat(u,"is__grab")];!l&&y.push("".concat(u,"is__grabbing")),y.forEach(function(b){return m.classList[f](b)}),v[d](document,"keyup",this.onKeyUp),v[d](m,"mousedown",this.enableDragger),v[d](document,"mouseup",this.disableDragger)}}},5301:(o,r,e)=>{e.r(r),e.d(r,{default:()=>u,defineCommand:()=>s});var t=e(1749),n=e(8351),i=function(){var f=function(d,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])},f(d,v)};return function(d,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(d,v);function m(){this.constructor=d}d.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();function s(f){return f}var l=function(f){i(d,f);function d(v){var m=f.call(this,0)||this;m.config=v||{},m.em=m.config.em||{};var y=m.config.stylePrefix;return m.pfx=y,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(y,"hover"),m.badgeClass="".concat(y,"badge"),m.plhClass="".concat(y,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return d.prototype.onFrameScroll=function(v){},d.prototype.getCanvas=function(){return this.canvas.getElement()},d.prototype.getCanvasBody=function(){return this.canvas.getBody()},d.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},d.prototype.offset=function(v){var m=v.getBoundingClientRect();return{top:m.top+v.ownerDocument.body.scrollTop,left:m.left+v.ownerDocument.body.scrollLeft}},d.prototype.init=function(v){},d.prototype.callRun=function(v,m){m===void 0&&(m={});var y=this.id;if(v.trigger("".concat(n.A.runBeforeCommand).concat(y),{options:m}),v.trigger("".concat(n.A._runCommand).concat(y,":before"),m),m.abort){v.trigger("".concat(n.A.abort).concat(y),{options:m}),v.trigger("".concat(n.A._abort).concat(y),m);return}var b=m.sender||v,w=this.run(v,b,m),x={id:y,result:w,options:m};return v.trigger("".concat(n.A.runCommand).concat(y),x),v.trigger(n.A.run,x),v.trigger("".concat(n.A._runCommand).concat(y),w,m),v.trigger(n.A._run,y,w,m),w},d.prototype.callStop=function(v,m){m===void 0&&(m={});var y=this.id,b=m.sender||v;v.trigger("".concat(n.A.stopBeforeCommand).concat(y),{options:m}),v.trigger("".concat(n.A._stopCommand).concat(y,":before"),m);var w=this.stop(v,b,m),x={id:y,result:w,options:m};return v.trigger("".concat(n.A.stopCommand).concat(y),x),v.trigger(n.A.stop,x),v.trigger("".concat(n.A._stopCommand).concat(y),w,m),v.trigger(n.A._stop,y,w,m),w},d.prototype.stopCommand=function(v){this.em.Commands.stop(this.id,v)},d.prototype.run=function(v,m,y){},d.prototype.stop=function(v,m,y){},d}(t.Kx);const u=l},8542:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(5706),n=function(l,u,f){if(f||arguments.length===2)for(var d=0,v=u.length,m;d<v;d++)(m||!(d in u))&&(m||(m=Array.prototype.slice.call(u,0,d)),m[d]=u[d]);return l.concat(m||Array.prototype.slice.call(u))},i={run:function(l,u,f){var d=this;f===void 0&&(f={});var v=[],m=f.component||l.getSelectedAll();return m=(0,t.isArray)(m)?n([],m,!0):[m],m.filter(Boolean).forEach(function(y){var b,w;if(!y.get("removable"))return d.em.logWarning("The element is not removable",{component:y});v.push(y);var x=((w=(b=y.delegate)===null||b===void 0?void 0:b.remove)===null||w===void 0?void 0:w.call(b,y))||y;x.remove()}),l.selectRemove(v),v}};const s=i},1319:(o,r,e)=>{e.r(r),e.d(r,{default:()=>l});var t=e(5706),n=e(5633),i=function(){return i=Object.assign||function(u){for(var f,d=1,v=arguments.length;d<v;d++){f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},i.apply(this,arguments)},s="dmode";const l={run:function(u,f,d){var v=this;d===void 0&&(d={}),(0,t.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=d.target,y=d.event,b=d.mode,w=d.dragger,x=w===void 0?{}:w,O=m.getEl(),M=i({doc:O.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return v.guidesStatic},guidesTarget:function(){return v.guidesTarget}},x);this.setupGuides(),this.opts=d,this.editor=u,this.em=u.getModel(),this.target=m,this.isTran=b=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var T=this.dragger;return T?T.setOptions(M):(T=new n.A(M),this.dragger=T),y&&T.start(y),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),T},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(u){var f=u.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var u=this,f=this.guidesEl;if(!f){var d=this,v=d.editor,m=d.em,y=d.opts,b=v.getConfig().stylePrefix,w=document.createElement("div"),x=document.createElement("div"),O='<div class="'.concat(b,"guide-info__line ").concat(b,`danger-bg">
        <div class="`).concat(b,"guide-info__content ").concat(b,`danger-color"></div>
      </div>`);f=document.createElement("div"),f.className="".concat(b,"guides"),w.className="".concat(b,"guide-info ").concat(b,"guide-info__x"),x.className="".concat(b,"guide-info ").concat(b,"guide-info__y"),w.innerHTML=O,x.innerHTML=O,f.appendChild(w),f.appendChild(x),v.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=w,this.elGuideInfoY=x,this.elGuideInfoContentX=w.querySelector(".".concat(b,"guide-info__content")),this.elGuideInfoContentY=x.querySelector(".".concat(b,"guide-info__content")),m.on("canvas:update frame:scroll",(0,t.debounce)(function(){var M;u.updateGuides(),y.debug&&((M=u.guides)===null||M===void 0||M.forEach(function(T){return u.renderGuide(T)}))},200))}return f},getGuidesStatic:function(){var u=this,f=[],d=this.target.getEl(),v=d.parentNode,m=v===void 0?{}:v;return(0,t.each)(m.children,function(y){return f=f.concat(d!==y?u.getElementGuides(y):[])}),f.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var f=this,d,v;(u||this.guides).forEach(function(m){var y=m.origin,b=d===y?v:f.getElementPos(y);d=y,v=b,(0,t.each)(f.getGuidePosUpdate(m,b),function(w,x){return m[x]=w}),m.originRect=b})},getGuidePosUpdate:function(u,f){var d={},v=f.top,m=f.height,y=f.left,b=f.width;switch(u.type){case"t":d.y=v;break;case"b":d.y=v+m;break;case"l":d.x=y;break;case"r":d.x=y+b;break;case"x":d.x=y+b/2;break;case"y":d.y=v+m/2;break}return d},renderGuide:function(u){u===void 0&&(u={});var f=u.guide||document.createElement("div"),d="px",v=u.active?2:1,m=f.children[0];return f.style="position: absolute; background-color: ".concat(u.active?"green":"red",";"),f.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(m)),u.y?(f.style.width="100%",f.style.height="".concat(v).concat(d),f.style.top="".concat(u.y).concat(d),f.style.left=0):(f.style.width="".concat(v).concat(d),f.style.height="100%",f.style.left="".concat(u.x).concat(d),f.style.top="0".concat(d)),!u.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var f=this,d=this.opts,v=this.getElementPos(u),m=v.top,y=v.height,b=v.left,w=v.width,x=[{type:"t",y:m},{type:"b",y:m+y},{type:"l",x:b},{type:"r",x:b+w},{type:"x",x:b+w/2},{type:"y",y:m+y/2}].map(function(O){return i(i({},O),{origin:u,originRect:v,guide:d.debug&&f.renderGuide(O)})});return x.forEach(function(O){var M;return(M=f.guides)===null||M===void 0?void 0:M.push(O)}),x},getTranslate:function(u,f){f===void 0&&(f="x");var d=0;return(u||"").split(" ").forEach(function(v){var m=v.trim(),y="translate".concat(f.toUpperCase(),"(");m.indexOf(y)===0&&(d=parseFloat(m.replace(y,"")))}),d},setTranslate:function(u,f,d){var v="translate".concat(f.toUpperCase(),"("),m="".concat(v).concat(d,")"),y=(u||"").split(" ").map(function(b){var w=b.trim();return w.indexOf(v)===0&&(b=m),b}).join(" ");return y.indexOf(v)<0&&(y+=" ".concat(m)),y},getPosition:function(){var u=this,f=u.target,d=u.isTran,v=f.getStyle(),m=v.left,y=v.top,b=v.transform,w=0,x=0;return d?(w=this.getTranslate(b),x=this.getTranslate(b,"y")):(w=parseFloat(m||0),x=parseFloat(y||0)),{x:w,y:x}},setPosition:function(u){var f=u.x,d=u.y,v=u.end,m=u.position,y=u.width,b=u.height,w=this,x=w.target,O=w.isTran,M=w.em,T="px",E=!v,U="".concat(parseInt(f,10)).concat(T),Z="".concat(parseInt(d,10)).concat(T),te={};if(O){var ee=x.getStyle().transform||"";ee=this.setTranslate(ee,"x",U),ee=this.setTranslate(ee,"y",Z),te={transform:ee,__p:E},x.addStyle(te,{avoidStore:!v})}else{var G={position:m,width:y,height:b},q={left:U,top:Z,__p:E};(0,t.keys)(G).forEach(function(D){var $=G[D];$&&(q[D]=$)}),te=q,x.addStyle(te,{avoidStore:!v})}M==null||M.Styles.__emitCmpStyleUpdate(te,{components:M.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var f=this,d=f.target,v=f.editor,m=f.isTran,y=f.opts,b=y.center,w=y.onStart,x=v.Canvas,O=d.getStyle(),M="absolute",T=[M,"relative"];if(w&&w(this._getDragData()),!m&&O.position!==M){var E=x.offset(d.getEl()),U=E.left,Z=E.top,te=E.width,ee=E.height,G=d.parent(),q=void 0;do{var D=G.getStyle();q=T.indexOf(D.position)>=0?G:null,G=G.parent()}while(G&&!q);if(b){var $=x.getMouseRelativeCanvas(u),B=$.x,W=$.y;U=B,Z=W}else if(q){var X=x.offset(q.getEl());U=U-X.left,Z=Z-X.top}this.setPosition({x:U,y:Z,width:"".concat(te,"px"),height:"".concat(ee,"px"),position:M})}},onDrag:function(){var u=this,f=this,d=f.guidesTarget,v=f.opts,m=v.onDrag;this.updateGuides(d),v.debug&&d.forEach(function(y){return u.renderGuide(y)}),v.guidesInfo&&this.renderGuideInfo(d.filter(function(y){return y.active})),m&&m(this._getDragData())},onEnd:function(u,f,d){d===void 0&&(d={});var v=this,m=v.editor,y=v.opts,b=v.id,w=y.onEnd;w&&w(u,d,i(i({event:u},d),this._getDragData())),m.stopCommand(b),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(f){var d=u["elGuideInfo".concat(f)];d&&(d.style.display="none")})},renderGuideInfo:function(u){var f=this;u===void 0&&(u=[]);var d=this.guidesStatic;this.hideGuidesInfo(),u.forEach(function(v){var m=v.origin,y=v.x,b=f.getElementPos(m),w=(0,t.isUndefined)(y)?"y":"x",x=w==="y",O=b[x?"left":"top"],M=b.rect[x?"left":"top"],T=x?O+b.width:O+b.height,E=x?M+b.rect.width:M+b.rect.height,U=f["elGuideInfo".concat(w.toUpperCase())],Z=f["elGuideInfoContent".concat(w.toUpperCase())],te=U.style,ee=d==null?void 0:d.filter(function(Be){return Be.type===v.type}).map(function(Be){var ze=Be.originRect,Me=ze.left,Ne=ze.width,Je=ze.top,at=ze.height,ae=x?Me:Je,Se=x?Me+Ne:Je+at;return{gap:Se<O?O-Se:ae-T,guide:Be}}).filter(function(Be){return Be.gap>0}).sort(function(Be,ze){return Be.gap-ze.gap}).map(function(Be){return Be.guide})[0];if(ee){var G=ee.originRect,q=G.left,D=G.width,$=G.top,B=G.height,W=G.rect,X=x?q<b.left:$<b.top,V=x?q:$,_e=x?W.left:W.top,ue=x?q+D:$+B,Ve=x?W.left+W.width:W.top+W.height,le=x?v.y:v.x,N=X?ue:T,xe="".concat(le,"px"),Oe=X?O-ue:V-T,ge=X?M-Ve:_e-E;te.display="",te[x?"top":"left"]=xe,te[x?"left":"top"]="".concat(N,"px"),te[x?"width":"height"]="".concat(Oe,"px"),Z.innerHTML="".concat(Math.round(ge),"px"),f.em.trigger("".concat(s,":active"),i(i({},f.getEventOpts()),{guide:v,guidesStatic:d,matched:ee,posFirst:le,posSecond:N,size:Oe,sizeRaw:ge,elGuideInfo:U,elGuideInfoCnt:Z}))}})},toggleDrag:function(u){var f=this,d=f.ppfx,v=f.editor,m=u?"add":"remove",y=["".concat(d,"is__grabbing")],b=v.Canvas,w=b.getBody();y.forEach(function(x){return w.classList[m](x)}),b[u?"startAutoscroll":"stopAutoscroll"]()}}},1859:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var l=s.components(),u=l&&l.filter(function(f){return f.get("selectable")})[0];u&&i.push(u)}),i.length&&n.select(i)}}}},3709:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n,i,s){if(s===void 0&&(s={}),!(!n.Canvas.hasFocus()&&!s.force)){var l=[];n.getSelectedAll().forEach(function(u){for(var f=u.parent();f&&!f.get("selectable");)f=f.parent();f&&l.push(f)}),l.length&&n.select(l)}}}},2860:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var l=s.parent();if(l){var u=l.components().length,f=0,d=0,v;do f++,d=s.index()+f,v=d<=u?l.getChildAt(d):null;while(v&&!v.get("selectable"));i.push(v||s)}}),i.length&&n.select(i)}}}},4944:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var l=s.parent();if(l){var u=0,f=0,d;do u++,f=s.index()-u,d=f>=0?l.getChildAt(f):null;while(d&&!d.get("selectable"));i.push(d||s)}}),i.length&&n.select(i)}}}},767:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(5706);const n={run:function(i,s,l){l===void 0&&(l={});var u=l.target,f=[];if(!u.get("styles"))return f;var d=u.get("type"),v=i.Pages.getAllWrappers(),m=(0,t.flatten)(v.map(function(b){return b.findType(d)})).length;if(!m){var y=i.CssComposer.getAll();f=y.filter(function(b){return b.get("group")==="cmp:".concat(d)}),y.remove(f)}return f}}},2126:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=function(i,s,l){if(l||arguments.length===2)for(var u=0,f=s.length,d;u<f;u++)(d||!(u in s))&&(d||(d=Array.prototype.slice.call(s,0,u)),d[u]=s[u]);return i.concat(d||Array.prototype.slice.call(s))};const n={run:function(i){var s=i.getModel(),l=t([],i.getSelectedAll(),!0).map(function(u){var f,d;return((d=(f=u.delegate)===null||f===void 0?void 0:f.copy)===null||d===void 0?void 0:d.call(f,u))||u}).filter(Boolean);l.length&&s.set("clipboard",l)}}},4860:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(2097);const n={run:function(i,s,l){var u=this;l===void 0&&(l={}),s&&s.set&&s.set("active",0);var f=i.getConfig(),d=i.Modal,v=f.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),y=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=y.model;var b=(0,t.a_)("div",{class:"".concat(v,"export-dl")});b.appendChild(m.el),b.appendChild(y.el),this.editors=b}d.open({title:f.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(u.id))}),this.htmlEditor.setContent(i.getHtml(l.optsHtml)),this.cssEditor.setContent(i.getCss(l.optsCss))},stop:function(i){var s=i.Modal;s&&s.close()},buildEditor:function(i,s,l){var u=this.em.CodeManager,f=u.createViewer({label:l,codeName:i,theme:s}),d=new u.EditorView({model:f,config:u.getConfig()}).render().el;return{model:f,el:d}}}},1085:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(5706);const n={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var s="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(s="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(s="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),s},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,s,l){l===void 0&&(l={}),this.sender=s;var u=l.target,f=(0,t.isElement)(u)?u:document.querySelector(u),d=this.enable(f||i.getContainer());this.fsChanged=this.fsChanged.bind(this,d),document.addEventListener(d+"fullscreenchange",this.fsChanged)},stop:function(i,s){s&&s.set&&s.set("active",!1),this.disable()}}},9622:(o,r,e)=>{e.r(r),e.d(r,{default:()=>u});var t=e(5706),n=e(6411),i=e(2097),s=e(4596),l=e(2983);const u=(0,t.extend)({},l.default,s.default,{init:function(f){s.default.init.apply(this,arguments),(0,t.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];s.default.enable.apply(this,f),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","move"),v.on("mousedown",this.initSorter),v.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var d=(0,n.default)(f.target).data("model"),v=d.get("draggable");v&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=v,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var d=f.get("draggable");if(d){this.cacheEl=null;var v=f.view.el;this.startSelectPosition(v,this.frameEl.contentDocument),this.sorter.draggable=d,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var d=f[f.length-1],v=this.em.getCurrentFrame(),m=d.getEl(v==null?void 0:v.model),y=m.ownerDocument,b=f.map(function(w){var x;return(x=w==null?void 0:w.view)===null||x===void 0?void 0:x.el});this.startSelectPosition(b,y,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,d){},rollback:function(f,d){var v=f.which||f.keyCode;(v==27||d)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,n.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,n.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];s.default.stop.apply(this,f),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var v=this.$wrapper;v.css("cursor","").unbind().removeClass(this.noSelClass)}})},8481:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(5706),n=e(2097);const i={open:function(s){var l=this,u=this,f=u.editor,d=u.title,v=u.config,m=u.am,y=v.custom;if((0,t.isFunction)(y.open))return y.open(m.__customData());var b=f.Modal;b.open({title:d,content:s}).onceClose(function(){return f.stopCommand(l.id)})},close:function(){var s=this.config.custom;if((0,t.isFunction)(s.close))return s.close(this.am.__customData());var l=this.editor.Modal;l&&l.close()},run:function(s,l,u){u===void 0&&(u={});var f=s.AssetManager,d=f.getConfig(),v=u.types,m=v===void 0?[]:v,y=u.accept,b=u.select;if(this.title=u.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=d,this.am=f,f.setTarget(u.target),f.onClick(u.onClick),f.onDblClick(u.onDblClick),f.onSelect(u.onSelect),f.__behaviour({select:b,types:m,options:u}),d.custom)this.rendered=this.rendered||(0,n.a_)("div"),this.rendered.className="".concat(d.stylePrefix,"custom-wrp"),f.__behaviour({container:this.rendered}),f.__trgCustom();else{if(!this.rendered||m){var w=f.getAll().filter(function(O){return O});m&&m.length&&(w=w.filter(function(O){return m.indexOf(O.get("type"))!==-1})),f.render(w),this.rendered=f.getContainer()}if(y){var x=this.rendered.querySelector("input#".concat(d.stylePrefix,"uploadFile"));x&&x.setAttribute("accept",y)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},3666:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(5706),n=e(2097);const i={open:function(){var s=this,l=s.container,u=s.editor,f=s.bm,d=s.config,v=d.custom,m=d.appendTo;if((0,t.isFunction)(v.open))return v.open(f.__customData());if(this.firstRender&&!m){var y="views-container",b=u.Panels,w=b.getPanel(y)||b.addPanel({id:y});w.set("appendContent",l).trigger("change:appendContent"),v||l.appendChild(f.render())}l&&(l.style.display="block")},close:function(){var s=this,l=s.container,u=s.config,f=u.custom;if((0,t.isFunction)(f.close))return f.close(this.bm.__customData());l&&(l.style.display="none")},run:function(s){var l=s.Blocks;this.config=l.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,n.a_)("div"),this.editor=s,this.bm=l;var u=this.container;l.__behaviour({container:u}),this.config.custom&&l.__trgCustom(),this.open()},stop:function(){this.close()}}},5838:(o,r,e)=>{e.r(r),e.d(r,{default:()=>t});const t={run:function(n){var i=n.LayerManager,s=n.Panels,l=i.getConfig();if(!l.appendTo){if(!this.layers){var u="views-container",f=document.createElement("div"),d=s.getPanel(u)||s.addPanel({id:u});l.custom?i.__trgCustom({container:f}):f.appendChild(i.render()),d.set("appendContent",f).trigger("change:appendContent"),this.layers=f}this.layers.style.display="block"}},stop:function(){var n=this.layers;n&&(n.style.display="none")}}},8692:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(6411);const n={run:function(i,s){if(this.sender=s,!this.$cnt){var l=i.getConfig(),u=i.Panels,f=i.DeviceManager,d=i.SelectorManager,v=i.StyleManager,m="change:appendContent",y=(0,t.default)("<div></div>"),b=(0,t.default)("<div></div>"),w=(0,t.default)("<div></div>"),x=(0,t.default)("<div></div>");if(this.$cnt=y,this.$cntInner=b,b.append(w),b.append(x),y.append(b),f&&l.showDevices){var O=u.addPanel({id:"devices-c"}),M=f.render();O.set("appendContent",M).trigger(m)}var T=d.getConfig();T.custom?d.__trgCustom({container:w.get(0)}):T.appendTo||w.append(d.render([])),this.sm=v;var E=v.getConfig(),U=E.stylePrefix;this.$header=(0,t.default)('<div class="'.concat(U,'header">').concat(i.t("styleManager.empty"),"</div>")),y.append(this.$header),E.custom?v.__trgCustom({container:x.get(0)}):E.appendTo||x.append(v.render());var Z="views-container",te=u.getPanel(Z)||u.addPanel({id:Z});te.set("appendContent",y).trigger(m);var ee=i.getModel();this.listenTo(ee,v.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,s=i.sender,l=i.sm,u=i.$cntInner,f=i.$header;s&&s.get&&!s.get("active")||!l||(l.getSelected()?(u==null||u.show(),f==null||f.hide()):(u==null||u.hide(),f==null||f.show()))},stop:function(){var i,s;(i=this.$cntInner)===null||i===void 0||i.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},9163:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(6411);const n={run:function(i,s){this.sender=s;var l=i.getModel(),u=i.Config,f=u.stylePrefix,d=i.TraitManager,v=d.getConfig(),m;if(!v.appendTo){if(!this.$cn){this.$cn=(0,t.default)("<div></div>"),this.$cn2=(0,t.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,t.default)("<div>").append('<div class="'.concat(v.stylePrefix,'header">').concat(l.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),v.custom?d.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(f,'traits-label">').concat(l.t("traitManager.label"),"</div>")),this.$cn2.append(d.render()));var y=i.Panels;y.getPanel("views-container")?m=y.getPanel("views-container"):m=y.addPanel({id:"views-container"}),m==null||m.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},9298:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=e(5706);const n={run:function(s,l,u){u===void 0&&(u={});var f=s.getModel(),d=f.get("clipboard"),v=s.getSelected();d!=null&&d.length&&v&&(s.getSelectedAll().forEach(function(m){var y,b,w,x=((b=(y=m.delegate)===null||y===void 0?void 0:y.copy)===null||b===void 0?void 0:b.call(y,m))||m,O=x.collection,M;if(O){var T=x.index()+1,E={at:T,action:u.action||"paste-component"};(0,t.contains)(d,x)&&x.get("copyable")?M=O.add(x.clone(),E):M=i(s,d,x.parent(),E)}else{var U=(w=f.Pages.getSelected())===null||w===void 0?void 0:w.getMainComponent(),E={at:(U==null?void 0:U.components().length)||0,action:u.action||"paste-component"};M=i(s,d,U,E)}M=(0,t.isArray)(M)?M:[M],M.forEach(function(Z){return s.trigger("component:paste",Z)})}),v.emitUpdate())}};function i(s,l,u,f){var d=l.filter(function(m){return m.get("copyable")}),v=d.filter(function(m){return s.Components.canMove(u,m).result});return u.components().add(v.map(function(m){return m.clone()}),f)}},8594:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(5706),n=function(l,u,f){if(f||arguments.length===2)for(var d=0,v=u.length,m;d<v;d++)(m||!(d in u))&&(m||(m=Array.prototype.slice.call(u,0,d)),m[d]=u[d]);return l.concat(m||Array.prototype.slice.call(u))},i="core:component-outline";const s={getPanels:function(l){return this.panels||(this.panels=l.Panels.getPanels()),this.panels},preventDrag:function(l){l.abort=1},tglEffects:function(l){var u=this.em,f=l?"on":"off";if(u){var d=u.Canvas,v=d.getBody(),m=d.getToolbarEl();m&&(m.style.display=l?"none":"");var y=v.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,t.each)(y,function(b){return b.style.pointerEvents=l?"all":""}),u[f]("run:tlb-move:before",this.preventDrag)}},run:function(l,u){var f=this;this.sender=u,this.selected=n([],l.getSelectedAll(),!0),l.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=l.Commands.isActive(i)),this.shouldRunSwVisibility&&l.stopCommand(i),l.getModel().stopDefault();var d=this.getPanels(l),v=l.Canvas.getElement(),m=l.getEl(),y=l.Config.stylePrefix;if(!this.helper){var b=document.createElement("span");b.className="".concat(y,"off-prv fa fa-eye-slash"),m.appendChild(b),b.onclick=function(){return f.stopCommand()},this.helper=b}this.helper.style.display="inline-block",d.forEach(function(x){return x.set("visible",!1)});var w=v.style;w.width="100%",w.height="100%",w.top="0",w.left="0",w.padding="0",w.margin="0",l.refresh(),this.tglEffects(1)},stop:function(l){var u=this,f=u.sender,d=f===void 0?{}:f,v=u.selected;d.set&&d.set("active",0);var m=this.getPanels(l);this.shouldRunSwVisibility&&(l.runCommand(i),this.shouldRunSwVisibility=!1),l.getModel().runDefault(),m.forEach(function(b){return b.set("visible",!0)});var y=l.Canvas.getElement();y.setAttribute("style",""),v&&l.select(v),delete this.selected,this.helper&&(this.helper.style.display="none"),l.refresh(),this.tglEffects()}}},7604:(o,r,e)=>{e.r(r),e.d(r,{default:()=>n});var t=function(){return t=Object.assign||function(i){for(var s,l=1,u=arguments.length;l<u;l++){s=arguments[l];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(i[f]=s[f])}return i},t.apply(this,arguments)};const n={run:function(i,s,l){var u=l||{},f=i.Canvas,d=f.getCanvasView(),v=t({appendTo:f.getResizerEl(),prefix:i.getConfig().stylePrefix,posFetcher:d.getElementPos.bind(d),mousePosFetcher:f.getMouseRelativePos.bind(f)},u.options||{}),m=this.canvasResizer;return(!m||u.forceNew)&&(this.canvasResizer=new i.Utils.Resizer(v),m=this.canvasResizer),m.setOptions(v,!0),m.blur(),m.focus(u.el),m},stop:function(){var i;(i=this.canvasResizer)===null||i===void 0||i.blur()}}},4596:(o,r,e)=>{e.r(r),e.d(r,{default:()=>q});var t=e(5706),n=e(1749),i=function(){var D=function($,B){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,X){W.__proto__=X}||function(W,X){for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(W[V]=X[V])},D($,B)};return function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");D($,B);function W(){this.constructor=$}$.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}}(),s=function(D){i($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $.prototype.defaults=function(){return{command:"",attributes:{}}},$}(n.Kx);const l=s;var u=function(){var D=function($,B){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,X){W.__proto__=X}||function(W,X){for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(W[V]=X[V])},D($,B)};return function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");D($,B);function W(){this.constructor=$}$.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}}(),f=function(D){u($,D);function $(){return D!==null&&D.apply(this,arguments)||this}return $}(n.pM);const d=f;f.prototype.model=l;var v=e(91),m=function(){var D=function($,B){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,X){W.__proto__=X}||function(W,X){for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(W[V]=X[V])},D($,B)};return function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");D($,B);function W(){this.constructor=$}$.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}}(),y=function(){return y=Object.assign||function(D){for(var $,B=1,W=arguments.length;B<W;B++){$=arguments[B];for(var X in $)Object.prototype.hasOwnProperty.call($,X)&&(D[X]=$[X])}return D},y.apply(this,arguments)},b=function(D){m($,D);function $(B){var W=D.call(this,B)||this;return W.em=B.config.em,W}return $.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},$.prototype.attributes=function(){return this.model.get("attributes")},$.prototype.handleClick=function(B){B.preventDefault(),B.stopPropagation();var W=this.em,X=W.Canvas.getFrameEl().getBoundingClientRect(),V=X.left,_e=X.top,ue=y(y({},B),{clientX:B.clientX-V,clientY:B.clientY-_e});W.trigger("toolbar:run:before",{event:ue}),this.execCommand(ue)},$.prototype.execCommand=function(B){var W=this,X=W.em,V=W.model,_e={event:B},ue=V.get("command"),Ve=X.Editor;(0,t.isFunction)(ue)&&ue(Ve,null,_e),(0,t.isString)(ue)&&Ve.runCommand(ue,_e)},$.prototype.render=function(){var B=this,W=B.em,X=B.$el,V=B.model,_e=V.get("id"),ue=V.get("label"),Ve=W.getConfig().stylePrefix;return X.addClass("".concat(Ve,"toolbar-item")),_e&&X.addClass("".concat(Ve,"toolbar-item__").concat(_e)),ue&&X.append(ue),this},$}(n.Ss);const w=b;var x=function(){var D=function($,B){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,X){W.__proto__=X}||function(W,X){for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(W[V]=X[V])},D($,B)};return function($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");D($,B);function W(){this.constructor=$}$.prototype=B===null?Object.create(B):(W.prototype=B.prototype,new W)}}(),O=function(D){x($,D);function $(B){var W=D.call(this,B)||this,X=B.em;return W.em=X,W.config={em:X},W.listenTo(W.collection,"reset",W.render),W}return $.prototype.onRender=function(){var B=this.em.config.stylePrefix;this.el.className="".concat(B,"toolbar-items")},$}(v.A);const M=O;O.prototype.itemView=w;var T=e(2097),E=e(9195),U=e(2820),Z=e(3172),te=function(){return te=Object.assign||function(D){for(var $,B=1,W=arguments.length;B<W;B++){$=arguments[B];for(var X in $)Object.prototype.hasOwnProperty.call($,X)&&(D[X]=$[X])}return D},te.apply(this,arguments)},ee=function(D,$){var B={};for(var W in D)Object.prototype.hasOwnProperty.call(D,W)&&$.indexOf(W)<0&&(B[W]=D[W]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,W=Object.getOwnPropertySymbols(D);X<W.length;X++)$.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call(D,W[X])&&(B[W[X]]=D[W[X]]);return B},G;const q={activeResizer:!1,init:function(){this.onSelect=(0,t.debounce)(this.onSelect,0),(0,t.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),G=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(D){var $=this,B=this.em,W=B.getConfig().listenToEl,X=B.getContainer().parentNode,V=D?"on":"off",_e={on:T.on,off:T.AU},ue=Z.I.update;!W.length&&X&&W.push(X);var Ve=function(le,N){_e[V](N,"mouseover",$.onHover),_e[V](N,"mouseleave",$.onOut),_e[V](N,"click",$.onClick),_e[V](le,"scroll",$.onFrameScroll,!0),_e[V](le,"resize",$.onFrameResize)};_e[V](window,"resize",this.onFrameUpdated),_e[V](W,"scroll",this.onContainerChange),B[V]("component:toggled ".concat(ue," undo redo"),this.onSelect,this),B[V]("change:componentHovered",this.onHovered,this),B[V]("component:resize styleable:change component:input",this.updateGlobalPos,this),B[V]("".concat(ue,":toolbar"),this._upToolbar,this),B[V]("frame:updated",this.onFrameUpdated,this),B[V]("canvas:updateTools",this.onFrameUpdated,this),B[V](B.Canvas.events.refresh,this.updateAttached,this),B.Canvas.getFrames().forEach(function(le){var N=le.view,xe=N==null?void 0:N.getWindow();xe&&Ve(xe,N==null?void 0:N.getBody())})},onHover:function(D){D.stopPropagation();var $=this.em,B=D.target,W=(0,E.getComponentView)(B),X=W==null?void 0:W.frameView,V=W==null?void 0:W.model;if(!V)for(var _e=B.parentNode;!V&&_e&&!(0,T.ZQ)(_e);)V=(0,E.getComponentModel)(_e),_e=_e.parentNode;this.currentDoc=B.ownerDocument,$.setHovered(V,{useValid:!0}),X&&$.setCurrentFrame(X)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(D,$){var B=this,W,X={};$?(W=$.views)===null||W===void 0||W.forEach(function(V){var _e=V.el,ue=B.getElementPos(_e);X={el:_e,pos:ue,component:$,view:(0,E.getViewEl)(_e)},_e.ownerDocument===B.currentDoc&&(B.elHovered=X),B.updateToolsLocal(X)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(V){var _e=V.view,ue=_e&&_e.getToolsEl();ue&&B.toggleToolsEl(0,0,{el:ue})}))},onSelect:function(){var D=this.em,$=D.getSelected(),B=D.getCurrentFrame(),W=$&&$.getView(B==null?void 0:B.model),X=W&&W.el,V={};if(X&&(0,T.zN)(X)){var _e=this.getElementPos(X);V={el:X,pos:_e,component:$,view:(0,E.getViewEl)(X)}}this.elSelected=V,this.updateToolsGlobal(),this.updateLocalPos(V),this.initResize($)},updateGlobalPos:function(){var D=this.getElSelected();D.el&&(D.pos=this.getElementPos(D.el),this.updateToolsGlobal())},updateLocalPos:function(D){var $=this.getElHovered();$.el&&($.pos=this.getElementPos($.el),this.updateToolsLocal(D))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(D,$,B){B===void 0&&(B={});var W=B.el||this.canvas.getToolsEl($);return W&&(W.style.display=D?"":"none"),W||{}},showElementOffset:function(D,$,B){B===void 0&&(B={}),G&&this.editor.runCommand("show-offset",{el:D,elPos:$,view:B.view,force:1,top:0,left:0})},hideElementOffset:function(D){this.editor.stopCommand("show-offset",{view:D})},showFixedElementOffset:function(D,$){this.editor.runCommand("show-offset",{el:D,elPos:$,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(D){this.canvas.getHighlighter(D).style.opacity=0},onClick:function(D){D.stopPropagation(),D.preventDefault();var $=this.em;if($.get("_cmpDrag"))return $.set("_cmpDrag");var B=D.target,W=(0,E.getComponentModel)(B);if(!W)for(var X=B.parentNode;!W&&X&&!(0,T.ZQ)(X);)W=(0,E.getComponentModel)(X),X=X.parentNode;if(W){if($.isEditing()&&(!W.get("textable")&&W.isChildOf("text")||$.getEditing()!==W))return;this.select(W,D)}},select:function(D,$){if($===void 0&&($={}),!!D){var B=this.em;B.setSelected(D,{event:$,useValid:!0}),this.initResize(B.getSelected())}},updateBadge:function(D,$,B){B===void 0&&(B={});var W=this.canvas,X=(0,E.getComponentModel)(D),V=this.getBadge(B),_e=V.style;if(!X||!X.get("badgable")){_e.display="none";return}if(!B.posOnly){var ue=this.canvas.getConfig(),Ve=X.getIcon(),le=ue.pStylePrefix||"",N="".concat(le,"badge"),xe=ue.customBadgeLabel,Oe="".concat(Ve?'<div class="'.concat(N,'__icon">').concat(Ve,"</div>"):"",`
        <div class="`).concat(N,'__name">').concat(X.getName(),"</div>");V.innerHTML=xe?xe(X):Oe}var ge="px";_e.display="block";var Be=W.getTargetToElementFixed(D,V,{pos:$}),ze=Be.top,Me=B.leftOff<0?-B.leftOff:0;_e.top=ze+ge,_e.left=Me+ge},showHighlighter:function(D){this.canvas.getHighlighter(D).style.opacity=""},initResize:function(D){var $=this,B=$.em,W=$.canvas,X=B.Editor,V=!(0,t.isElement)(D)&&(0,T.GW)(D)?D:B.getSelected(),_e=V==null?void 0:V.get("resizable"),ue=U.F.Resize,Ve=W.hasCustomSpot(ue);if(W.removeSpots({type:ue}),V&&_e){W.addSpot({type:ue,component:V});var le=(0,t.isElement)(D)?D:V.getEl(),N=(0,E.isObject)(_e)?_e:{},xe=N.onStart,Oe=xe===void 0?function(){}:xe,ge=N.onMove,Be=ge===void 0?function(){}:ge,ze=N.onEnd,Me=ze===void 0?function(){}:ze,Ne=N.updateTarget,Je=Ne===void 0?function(){}:Ne,at=ee(N,["onStart","onMove","onEnd","updateTarget"]);if(Ve||!le||this.activeResizer)return;var ae,Se=B.config,Ze=Se.stylePrefix||"",Ie="".concat(Ze,"resizing"),ot=this,dt={component:V,el:le},st=function(z,Y,pe){var Ce=pe.docs;Ce&&Ce.forEach(function(J){var me=J.body,fe=me.className||"";me.className=(z=="add"?"".concat(fe," ").concat(Ie):fe.replace(Ie,"")).trim()})},A=te({onStart:function(z,Y){Oe(z,Y);var pe=Y.el,Ce=Y.config,J=Y.resizer,me=Ce.keyHeight,fe=Ce.keyWidth,ut=Ce.currentUnit,Ct=Ce.keepAutoHeight,bt=Ce.keepAutoWidth;st("add",z,Y),ae=B.Styles.getModelToStyle(V),W.toggleFramesEvents(!1);var K=getComputedStyle(pe),ce=ae.getStyle(),j=ce[fe];Ce.autoWidth=bt&&j==="auto",isNaN(parseFloat(j))&&(j=K[fe]);var Ae=ce[me];Ce.autoHeight=Ct&&Ae==="auto",isNaN(parseFloat(Ae))&&(Ae=K[me]),J.startDim.w=parseFloat(j),J.startDim.h=parseFloat(Ae),G=!1,ut&&(Ce.unitHeight=(0,E.getUnitFromValue)(Ae),Ce.unitWidth=(0,E.getUnitFromValue)(j)),ot.activeResizer=!0,X.trigger("component:resize",te(te({},dt),{type:"start"}))},onMove:function(z){Be(z),X.trigger("component:resize",te(te({},dt),{type:"move"}))},onEnd:function(z,Y){Me(z,Y),st("remove",z,Y),X.trigger("component:resize",te(te({},dt),{type:"end"})),W.toggleFramesEvents(!0),G=!0,ot.activeResizer=!1},updateTarget:function(z,Y,pe){if(Je(z,Y,pe),!!ae){var Ce=pe.store,J=pe.selectedHandler,me=pe.config,fe=me.keyHeight,ut=me.keyWidth,Ct=me.autoHeight,bt=me.autoWidth,K=me.unitWidth,ce=me.unitHeight,j=["tc","bc"].indexOf(J)>=0,Ae=["cl","cr"].indexOf(J)>=0,be={};if(!j){var Ue=W.getBody().offsetWidth,it=Y.w<Ue?Y.w:Ue;be[ut]=bt?"auto":"".concat(it).concat(K)}Ae||(be[fe]=Ct?"auto":"".concat(Y.h).concat(ce)),B.getDragMode(V)&&(be.top="".concat(Y.t).concat(ce),be.left="".concat(Y.l).concat(K));var nt=te(te({},be),{__p:!Ce});ae.addStyle(nt,{avoidStore:!Ce}),B.Styles.__emitCmpStyleUpdate(nt,{components:B.getSelected()})}}},at);this.resizer=X.runCommand("resize",{el:le,options:A,force:1})}else{if(Ve)return;X.stopCommand("resize"),this.resizer=null}},updateToolbar:function(D){var $=this.canvas,B=this.config.em,W=D===B?B.getSelected():D,X=$.getToolbarEl(),V=X.style,_e=W.get("toolbar"),ue=B.config.showToolbar,Ve=!$.hasCustomSpot(U.F.Select);if(W&&ue&&_e&&_e.length&&Ve){if(V.display="",!this.toolbar){X.innerHTML="",this.toolbar=new d(_e);var le=new M({collection:this.toolbar,em:B});X.appendChild(le.render().el)}this.toolbar.reset(_e),V.top="-100px",V.left="0"}else V.display="none"},updateToolbarPos:function(D){var $="px",B=this.canvas.getToolbarEl().style;B.top="".concat(D.top).concat($),B.left="".concat(D.left).concat($),B.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(D){return D===void 0&&(D={}),this.canvas.getBadgeEl(D.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(D){return D&&D.get("status")==="selected"},updateToolsLocal:function(D){var $=this.em.getConfig(),B=D||this.getElHovered(),W=B.el,X=B.pos,V=B.view,_e=B.component;if(!W){this.lastHovered=0;return}var ue=_e.get("hoverable"),Ve=this.lastHovered!==W,le=Ve?{}:{posOnly:1},N=this.canvas.hasCustomSpot(U.F.Hover);Ve&&ue&&(this.lastHovered=W,N?this.hideHighlighter(V):this.showHighlighter(V),this.showElementOffset(W,X,{view:V})),this.isCompSelected(_e)&&(this.hideHighlighter(V),!$.showOffsetsSelected&&this.hideElementOffset(V));var xe="px",Oe=this.toggleToolsEl(1,V),ge=Oe.style,Be=this.canvas.canvasRectOffset(W,X),ze=Be.top,Me=Be.left;!N&&this.updateBadge(W,X,te(te({},le),{view:V,topOff:ze,leftOff:Me})),ge.top=ze+xe,ge.left=Me+xe,ge.width=X.width+xe,ge.height=X.height+xe,this._trgToolUp("local",{component:_e,el:Oe,top:ze,left:Me,width:X.width,height:X.height})},_upToolbar:(0,t.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(D,$){$===void 0&&($={}),this.em.trigger("canvas:tools:update",te({type:D},$))},updateToolsGlobal:function(D){D===void 0&&(D={});var $=this.getElSelected(),B=$.el,W=$.pos,X=$.component;if(!B){this.toggleToolsEl(),this.lastSelected=0;return}var V=this.canvas,_e=this.lastSelected!==B;(_e||D.force)&&(this.lastSelected=B,this.updateToolbar(X));var ue="px",Ve=this.toggleToolsEl(1),le=Ve.style,N=V.getTargetToElementFixed(B,V.getToolbarEl(),{pos:W}),xe=N.canvasOffsetTop,Oe=N.canvasOffsetLeft;le.top=xe+ue,le.left=Oe+ue,le.width=W.width+ue,le.height=W.height+ue,this.updateToolbarPos({top:N.top,left:N.left}),this._trgToolUp("global",{component:X,el:Ve,top:xe,left:Oe,width:W.width,height:W.height})},updateAttached:(0,t.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,t.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(D){return this.canvas.getCanvasView().getElementPos(D,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(D){D&&D.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(D){(0,E.hasWin)()&&(this.editor=D&&D.get("Editor"),this.enable())},stop:function(D,$,B){if(B===void 0&&(B={}),!!(0,E.hasWin)()){var W=this,X=W.em,V=W.editor;this.onHovered(),this.stopSelectComponent(),!B.preserveSelected&&X.setSelected(),this.toggleToolsEl(),V&&V.stopCommand("resize")}}}},2983:(o,r,e)=>{e.r(r),e.d(r,{default:()=>s});var t=e(6411),n=e(6778),i=e(2128);const s={startSelectPosition:function(l,u,f){f===void 0&&(f={}),this.isPointed=!1;var d=this.em.Utils,v=l[0].ownerDocument.body;d&&(this.sorter=new d.ComponentSorter({em:this.em,treeClass:n.A,containerContext:{container:v,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:u,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:i.A.BothDirections,nested:!0}})),f.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=f.onStart),l&&l.length>0&&this.sorter.startSort(l.map(function(m){return{element:m}}))},getOffsetDim:function(){var l=this.offset(this.canvas.getFrameEl()),u=this.offset(this.canvas.getElement()),f=l.top-u.top,d=l.left-u.left;return{top:f,left:d}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,t.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,t.default)(this.cDim[this.posIndex][5]).parent():(0,t.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(l,u,f){var d=l||0,v=u||"before",m=f.length,y=m!==0&&v=="after"&&d==m;return m!==0&&(!y&&!f[d][4]||f[d-1]&&!f[d-1][4]||y&&!f[d-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},9490:(o,r,e)=>{e.r(r),e.d(r,{default:()=>l});var t=e(5706),n=e(2820),i=e(6411),s=function(){return s=Object.assign||function(u){for(var f,d=1,v=arguments.length;d<v;d++){f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},s.apply(this,arguments)};const l={getOffsetMethod:function(u){var f=u||"";return"get"+f+"OffsetViewerEl"},run:function(u,f,d){var v=this.canvas,m=d||{},y=m.state||"",b=u.getConfig(),w=this.em.getZoomDecimal(),x=m.el;if(!b.showOffsets||!(x instanceof HTMLElement)||!b.showOffsetsSelected&&y=="Fixed"){u.stopCommand("".concat(this.id),d);return}if(!v.hasCustomSpot(n.F.Spacing)){var O=s({},m.elPos||v.getElementPos(x));(0,t.isUndefined)(m.top)||(O.top=m.top),(0,t.isUndefined)(m.left)||(O.left=m.left);var M=window.getComputedStyle(x),T=this.ppfx,E=y+"State",U=this.getOffsetMethod(y),Z=v[U](d.view);Z.style.opacity="";var te=this["marginT"+y],ee=this["marginB"+y],G=this["marginL"+y],q=this["marginR"+y],D=this["padT"+y],$=this["padB"+y],B=this["padL"+y],W=this["padR"+y];if(Z.childNodes.length&&(this[E]="1",te=Z.querySelector("[data-offset-m-t]"),ee=Z.querySelector("[data-offset-m-b]"),G=Z.querySelector("[data-offset-m-l]"),q=Z.querySelector("[data-offset-m-r]"),D=Z.querySelector("[data-offset-p-t]"),$=Z.querySelector("[data-offset-p-b]"),B=Z.querySelector("[data-offset-p-l]"),W=Z.querySelector("[data-offset-p-r]")),!this[E]){var X=y.toLowerCase(),V=X+"margin-v",_e=X+"padding-v",ue=(0,i.default)('<div class="'.concat(T,'marginName">')).get(0),Ve=(0,i.default)('<div class="'.concat(T,'paddingName">')).get(0),le=T+V+"-el",N=T+_e+"-el",xe="".concat(le," ").concat(T+V),Oe="".concat(N," ").concat(T+_e);te=(0,i.default)('<div class="'.concat(xe,'-top"></div>')).get(0),ee=(0,i.default)('<div class="'.concat(xe,'-bottom"></div>')).get(0),G=(0,i.default)('<div class="'.concat(xe,'-left"></div>')).get(0),q=(0,i.default)('<div class="'.concat(xe,'-right"></div>')).get(0),D=(0,i.default)('<div class="'.concat(Oe,'-top"></div>')).get(0),$=(0,i.default)('<div class="'.concat(Oe,'-bottom"></div>')).get(0),B=(0,i.default)('<div class="'.concat(Oe,'-left"></div>')).get(0),W=(0,i.default)('<div class="'.concat(Oe,'-right"></div>')).get(0),this["marginT"+y]=te,this["marginB"+y]=ee,this["marginL"+y]=G,this["marginR"+y]=q,this["padT"+y]=D,this["padB"+y]=$,this["padL"+y]=B,this["padR"+y]=W,ue.appendChild(te),ue.appendChild(ee),ue.appendChild(G),ue.appendChild(q),Ve.appendChild(D),Ve.appendChild($),Ve.appendChild(B),Ve.appendChild(W),Z.appendChild(ue),Z.appendChild(Ve),this[E]="1"}var ge="px",Be=parseFloat(M.marginLeft.replace(ge,""))*w,ze=parseFloat(M.marginRight.replace(ge,""))*w,Me=parseFloat(M.marginTop.replace(ge,""))*w,Ne=parseFloat(M.marginBottom.replace(ge,""))*w,Je=te.style,at=ee.style,ae=G.style,Se=q.style,Ze=D.style,Ie=$.style,ot=B.style,dt=W.style,st=parseFloat(O.left),A=parseFloat(M.width)*w+ge;Je.height=Me+ge,Je.width=A,Je.top=O.top-Me+ge,Je.left=st+ge,at.height=Ne+ge,at.width=A,at.top=O.top+O.height+ge,at.left=st+ge;var z=O.height+Me+Ne+ge,Y=O.top-Me+ge;ae.height=z,ae.width=Be+ge,ae.top=Y,ae.left=st-Be+ge,Se.height=z,Se.width=ze+ge,Se.top=Y,Se.left=st+O.width+ge;var pe=parseFloat(M.paddingTop)*w;Ze.height=pe+ge;var Ce=parseFloat(M.paddingBottom)*w;Ie.height=Ce+ge;var J=O.height-Ce-pe+ge,me=O.top+pe+ge;ot.height=J,ot.width=parseFloat(M.paddingLeft)*w+ge,ot.top=me;var fe=parseFloat(M.paddingRight)*w;dt.height=J,dt.width=fe+ge,dt.top=me}},stop:function(u,f,d){d===void 0&&(d={});var v=d||{},m=v.state||"",y=this.getOffsetMethod(m),b=d.view,w=this.canvas,x=w[y](b);x.style.opacity=0}}},1396:(o,r,e)=>{e.r(r),e.d(r,{default:()=>i});var t=e(5706),n=e(9195);const i={init:function(){(0,t.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,l){if(l===void 0&&(l=!0),!s.Commands.isActive("preview")){var u=s.Canvas,f=l?"on":"off",d=u.getModel();d[f]("change:frames",this._onFramesChange),this.handleFrames(u.getFrames(),l)}},handleFrames:function(s,l){var u=this;s.forEach(function(f){var d;!((d=f.view)===null||d===void 0)&&d.loaded&&u._upFrame(f,l),f.__ol||(f.on("loaded",function(){return u._upFrame(f)}),f.__ol=!0)})},_onFramesChange:function(s,l){this.handleFrames(l)},_upFrame:function(s,l){var u,f=this,d=f.ppfx,v=f.em,m=f.id,y=(0,n.isDef)(l)?l:v.Commands.isActive(m),b=y?"add":"remove",w="".concat(d,"dashed");(u=s.view)===null||u===void 0||u.getBody().classList[b](w)}}},1749:(o,r,e)=>{e.d(r,{Kx:()=>u,Ss:()=>d,e2:()=>l,lK:()=>m,pM:()=>f,x2:()=>v});var t=e(4193),n=e.n(t),i=function(){var y=function(b,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,O){x.__proto__=O}||function(x,O){for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(x[M]=O[M])},y(b,w)};return function(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(b,w);function x(){this.constructor=b}b.prototype=w===null?Object.create(w):(x.prototype=w.prototype,new x)}}(),s=function(){return s=Object.assign||function(y){for(var b,w=1,x=arguments.length;w<x;w++){b=arguments[w];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(y[O]=b[O])}return y},s.apply(this,arguments)},l="add remove reset change",u=function(y){i(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b}(n().Model),f=function(y){i(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b}(n().Collection),d=function(y){i(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b}(n().View),v;(function(y){y.Screen="screen",y.World="world"})(v||(v={}));var m={x:0,y:0};s(s({},m),{width:0,height:0})},3172:(o,r,e)=>{e.d(r,{I:()=>n,t:()=>t});var t;(function(i){i.remove="component:remove",i.add="component:add",i.move="component:move"})(t||(t={}));var n;(function(i){i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.select="component:select",i.selectBefore="component:select:before",i.scriptMount="component:script:mount",i.scriptMountBefore="component:script:mount:before",i.scriptUnmount="component:script:unmount",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol"})(n||(n={}))},91:(o,r,e)=>{e.d(r,{A:()=>l});var t=e(5706),n=e(1749),i=function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(v[y]=m[y])},u(f,d)};return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");u(f,d);function v(){this.constructor=f}f.prototype=d===null?Object.create(d):(v.prototype=d.prototype,new v)}}(),s=function(u){i(f,u);function f(d,v,m){d===void 0&&(d={}),m===void 0&&(m=!1);var y=u.call(this,d)||this;return y.itemsView="",y.itemType="type",y.reuseView=!1,y.config=v||d.config||{},m&&y.listenTo(y.collection,"add",y.addTo),y.items=[],y}return f.prototype.addTo=function(d){this.add(d)},f.prototype.itemViewNotFound=function(d){var v=this,m=v.config,y=v.ns,b=m.em,w="".concat(y?"[".concat(y,"]: "):"","'").concat(d,"' type not found");b&&b.logWarning(w)},f.prototype.add=function(d,v){var m=this,y=m.config,b=m.reuseView,w=m.items,x=this.itemsView||{},O=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],M=v||null,T=this.itemView,E=d.get(this.itemType),U;x[E]?T=x[E]:E&&!x[E]&&!(0,t.includes)(O,E)&&this.itemViewNotFound(E),d.view&&b?U=d.view:U=new T({model:d,config:y},y),w&&w.push(U);var Z=U.render().el;M?M.appendChild(Z):this.$el.append(Z)},f.prototype.render=function(){var d=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(v){this.add(v,d)},this),this.$el.append(d),this.onRender(),this},f.prototype.onRender=function(){},f.prototype.onRemoveBefore=function(d,v){},f.prototype.onRemove=function(d,v){},f.prototype.remove=function(d){d===void 0&&(d={});var v=this.items;return this.onRemoveBefore(v,d),this.clearItems(),u.prototype.remove.call(this),this.onRemove(v,d),this},f.prototype.clearItems=function(){this.items},f}(n.Ss);const l=s;s.prototype.itemView=""},5633:(o,r,e)=>{e.d(r,{A:()=>f});var t=e(5706),n=e(2097),i=function(){return i=Object.assign||function(d){for(var v,m=1,y=arguments.length;m<y;m++){v=arguments[m];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(d[b]=v[b])}return d},i.apply(this,arguments)},s=function(){return{x:0,y:0}},l=["x","y"],u=function(){function d(v){return v===void 0&&(v={}),this.opts={snapOffset:5,scale:1},(0,t.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(v),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return d.prototype.setOptions=function(v){v===void 0&&(v={}),this.opts=i(i({},this.opts),v)},d.prototype.toggleDrag=function(v){var m=this.getDocumentEl(),y=this.getContainerEl(),b=this.getWindowEl(),w=v?"on":"off",x={on:n.on,off:n.AU};x[w](y,"mousemove dragover",this.drag),x[w](m,"mouseup dragend touchend",this.stop),x[w](m,"keydown",this.keyHandle),x[w](b,"scroll",this.handleScroll)},d.prototype.handleScroll=function(){var v=this,m=v.lastScroll,y=v.delta,b=this.getScrollInfo(),w={x:b.x-m.x,y:b.y-m.y};this.move(y.x+w.x,y.y+w.y),this.lastScrollDiff=w},d.prototype.start=function(v){var m=this.opts,y=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(v),this.guidesStatic=(0,t.result)(m,"guidesStatic")||[],this.guidesTarget=(0,t.result)(m,"guidesTarget")||[],(0,t.isFunction)(y)&&y(v,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(v)},d.prototype.drag=function(v){var m=this,y=this,b=y.opts,w=y.lastScrollDiff,x=y.globScrollDiff,O=b.onDrag,M=this.startPointer,T=this.getPointerPos(v),E={x:x.x+w.x,y:x.y+w.y};this.globScrollDiff=E;var U={x:T.x-M.x+E.x,y:T.y-M.y+E.y};this.lastScrollDiff=s();var Z=this.lockedAxis;v.shiftKey?Z=!Z&&this.detectAxisLock(U.x,U.y):Z=null,Z==="x"?U.x=M.x:Z==="y"&&(U.y=M.y);var te=function(B){l.forEach(function(W){return B[W]=B[W]*(0,t.result)(b,"scale")}),m.delta=B,m.move(B.x,B.y),(0,t.isFunction)(O)&&O(v,m)},ee=i({},U);if(this.currentPointer=T,this.lockedAxis=Z,this.lastScroll=this.getScrollInfo(),te(U),this.guidesTarget.length){var G=this.snapGuides(ee),q=G.newDelta,D=G.trgX,$=G.trgY;(D||$)&&te(q)}v.which===0&&this.stop(v)},d.prototype.snapGuides=function(v){var m=this,y=v,b=this,w=b.trgX,x=b.trgY;return this.guidesTarget.forEach(function(O){O.x&&m.trgX||O.y&&m.trgY||(O.active=!1,m.guidesStatic.forEach(function(M){if(!(O.y&&M.x||O.x&&M.y)){var T=O.y&&M.y,E=T?"y":"x",U=O[E],Z=M[E],te=v[E],ee=T?x:w;if(m.isPointIn(U,Z)&&(0,t.isUndefined)(ee)){var G=te-(U-Z);m.setGuideLock(O,G)}}}))}),w=this.trgX,x=this.trgY,l.forEach(function(O){var M=O.toUpperCase(),T=m["trg".concat(M)];T&&!m.isPointIn(v[O],T.lock)&&(m.setGuideLock(T,null),T=null),T&&!(0,t.isUndefined)(T.lock)&&(y[O]=T.lock)}),{newDelta:y,trgX:this.trgX,trgY:this.trgY}},d.prototype.isPointIn=function(v,m,y){var b=y===void 0?{}:y,w=b.offset,x=w||this.opts.snapOffset||0;return v>=m&&v<=m+x||v<=m&&v>=m-x},d.prototype.setGuideLock=function(v,m){var y=(0,t.isUndefined)(v.x)?"Y":"X",b="trg".concat(y);return m!==null?(v.active=!0,v.lock=m,this[b]=v):(delete v.active,delete v.lock,delete this[b]),v},d.prototype.stop=function(v,m){m===void 0&&(m={});var y=this.delta,b=!!m.cancel,w=b?0:y.x,x=b?0:y.y;this.toggleDrag(),this.lockedAxis=null,this.move(w,x,!0);var O=this.opts.onEnd;(0,t.isFunction)(O)&&O(v,this,{cancelled:b})},d.prototype.keyHandle=function(v){(0,n.v$)(v)&&this.stop(v,{cancel:!0})},d.prototype.move=function(v,m,y){var b=this,w=b.el,x=b.opts,O=this.startPosition;if(O){var M=x.setPosition,T=O.x+v,E=O.y+m;this.position={x:T,y:E,end:y},(0,t.isFunction)(M)&&M(this.position),w&&(w.style.left="".concat(T,"px"),w.style.top="".concat(E,"px"))}},d.prototype.getContainerEl=function(){var v=this.opts.container;return v?[v]:this.getDocumentEl()},d.prototype.getWindowEl=function(){var v=this.getContainerEl();return v.map(function(m){var y=m.ownerDocument||m;return y.defaultView||y.parentWindow})},d.prototype.getDocumentEl=function(v){var m=this.opts.doc;if(v=v||this.el,!this.docs.length){var y=[document];v&&y.push(v.ownerDocument),m&&y.push(m),this.docs=y}return this.docs},d.prototype.getPointerPos=function(v){var m=this.opts.getPointerPosition,y=(0,n.G2)(v);return m?m(v):{x:y.clientX,y:y.clientY}},d.prototype.getStartPosition=function(){var v=this,m=v.el,y=v.opts,b=y.getPosition,w=s();return(0,t.isFunction)(b)?w=b():m&&(w={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),w},d.prototype.getScrollInfo=function(){var v=this.opts.doc,m=v&&v.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},d.prototype.detectAxisLock=function(v,m){var y=v,b=m,w=Math.abs(y),x=Math.abs(b);if(b>=w||b<=-w)return"x";if(y>x||y<-x)return"y"},d}();const f=u},6411:(o,r,e)=>{e.r(r),e.d(r,{default:()=>Lr});var t=typeof document<"u"?document:null,n=typeof window<"u"?window:null,i=Array.prototype,s=i.filter,l=i.indexOf,u=i.map,f=i.push,d=i.reverse,v=i.slice,m=i.splice,y=/^#[\w-]*$/,b=/^\.[\w-]*$/,w=/<.+>/,x=/^\w+$/;function O(H,ie){return ie===void 0&&(ie=t),b.test(H)?ie.getElementsByClassName(H.slice(1)):x.test(H)?ie.getElementsByTagName(H):ie.querySelectorAll(H)}function M(H,ie){if(ie===void 0&&(ie=t),!!H){if(H.__cash)return H;var he=H;if(B(H)){if(ie.__cash&&(ie=ie[0]),he=y.test(H)?ie.getElementById(H.slice(1)):w.test(H)?At(H):O(H,ie),!he)return}else if($(H))return this.ready(H);(he.nodeType||he===n)&&(he=[he]),this.length=he.length;for(var De=0,Ye=this.length;De<Ye;De++)this[De]=he[De]}}function T(H,ie){return new M(H,ie)}var E=T.fn=T.prototype=M.prototype={constructor:T,__cash:!0,length:0,splice:m};E.get=function(H){return H===void 0?v.call(this):this[H<0?H+this.length:H]},E.eq=function(H){return T(this.get(H))},E.first=function(){return this.eq(0)},E.last=function(){return this.eq(-1)},E.map=function(H){return T(u.call(this,function(ie,he){return H.call(ie,he,ie)}))},E.slice=function(){return T(v.apply(this,arguments))};var U=/(?:^\w|[A-Z]|\b\w)/g,Z=/[\s-_]+/g;function te(H){return H.replace(U,function(ie,he){return ie[he?"toUpperCase":"toLowerCase"]()}).replace(Z,"")}T.camelCase=te;function ee(H,ie){for(var he=0,De=H.length;he<De&&ie.call(H[he],H[he],he,H)!==!1;he++);}T.each=ee,E.each=function(H){return ee(this,function(ie,he){return H.call(ie,he,ie)}),this},E.removeProp=function(H){return this.each(function(ie,he){delete he[H]})};function G(H){H===void 0&&(H=this);for(var ie=arguments,he=ie.length,De=he<2?0:1;De<he;De++)for(var Ye in ie[De])H[Ye]=ie[De][Ye];return H}T.extend=E.extend=G;var q=1;T.guid=q;function D(H,ie){var he=H&&(H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.msMatchesSelector||H.oMatchesSelector);return!!he&&he.call(H,ie)}T.matches=D;function $(H){return typeof H=="function"}T.isFunction=$;function B(H){return typeof H=="string"}T.isString=B;function W(H){return!isNaN(parseFloat(H))&&isFinite(H)}T.isNumeric=W;var X=Array.isArray;T.isArray=X,E.prop=function(H,ie){if(H){if(B(H))return arguments.length<2?this[0]&&this[0][H]:this.each(function(De,Ye){Ye[H]=ie});for(var he in H)this.prop(he,H[he]);return this}};function V(H){return B(H)?function(ie,he){return D(he,H)}:H.__cash?function(ie,he){return H.is(he)}:function(ie,he,De){return he===De}}E.filter=function(H){if(!H)return T();var ie=$(H)?H:V(H);return T(s.call(this,function(he,De){return ie.call(he,De,he,H)}))};var _e=/\S+/g;function ue(H){return B(H)?H.match(_e)||[]:[]}E.hasClass=function(H){var ie=ue(H),he=!1;return ie.length&&this.each(function(De,Ye){return he=Ye.classList.contains(ie[0]),!he}),he},E.removeAttr=function(H){var ie=ue(H);return ie.length?this.each(function(he,De){ee(ie,function(Ye){De.removeAttribute(Ye)})}):this},E.attr=function(H,ie){if(H){if(B(H)){if(arguments.length<2){if(!this[0])return;var he=this[0].getAttribute(H);return he===null?void 0:he}return ie===null?this.removeAttr(H):this.each(function(Ye,gt){gt.setAttribute(H,ie)})}for(var De in H)this.attr(De,H[De]);return this}},E.toggleClass=function(H,ie){var he=ue(H),De=ie!==void 0;return he.length?this.each(function(Ye,gt){ee(he,function(St){De?ie?gt.classList.add(St):gt.classList.remove(St):gt.classList.toggle(St)})}):this},E.addClass=function(H){return this.toggleClass(H,!0)},E.removeClass=function(H){return arguments.length?this.toggleClass(H,!1):this.attr("class","")};function Ve(H){return H.filter(function(ie,he,De){return De.indexOf(ie)===he})}T.unique=Ve,E.add=function(H,ie){return T(Ve(this.get().concat(T(H,ie).get())))};function le(H,ie,he){if(H.nodeType===1){var De=n.getComputedStyle(H,null);return ie?he?De.getPropertyValue(ie):De[ie]:De}}function N(H,ie){return parseInt(le(H,ie),10)||0}var xe=/^--/;function Oe(H){return xe.test(H)}var ge={},Be=t&&t.createElement("div"),ze=Be?Be.style:{},Me=["webkit","moz","ms","o"];function Ne(H,ie){if(ie===void 0&&(ie=Oe(H)),ie)return H;if(!ge[H]){var he=te(H),De=""+he.charAt(0).toUpperCase()+he.slice(1),Ye=(he+" "+Me.join(De+" ")+De).split(" ");ee(Ye,function(gt){if(gt in ze)return ge[H]=gt,!1})}return ge[H]}T.prefixedProp=Ne;var Je={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function at(H,ie,he){return he===void 0&&(he=Oe(H)),!he&&!Je[H]&&W(ie)?ie+"px":ie}E.css=function(H,ie){if(B(H)){var he=Oe(H);return H=Ne(H,he),arguments.length<2?this[0]&&le(this[0],H,he):H?(ie=at(H,ie,he),this.each(function(Ye,gt){gt.nodeType===1&&(he?gt.style.setProperty(H,ie):gt.style[H]=ie)})):this}for(var De in H)this.css(De,H[De]);return this};var ae="__cashData",Se=/^data-(.*)/;T.hasData=function(H){return ae in H};function Ze(H){return H[ae]=H[ae]||{}}function Ie(H,ie){var he=Ze(H);if(ie){if(!(ie in he)){var De=H.dataset?H.dataset[ie]||H.dataset[te(ie)]:T(H).attr("data-"+ie);if(De!==void 0){try{De=JSON.parse(De)}catch{}he[ie]=De}}return he[ie]}return he}function ot(H,ie){ie===void 0?delete H[ae]:delete Ze(H)[ie]}function dt(H,ie,he){Ze(H)[ie]=he}E.data=function(H,ie){var he=this;if(!H)return this[0]?(ee(this[0].attributes,function(Ye){var gt=Ye.name.match(Se);gt&&he.data(gt[1])}),Ie(this[0])):void 0;if(B(H))return ie===void 0?this[0]&&Ie(this[0],H):this.each(function(Ye,gt){return dt(gt,H,ie)});for(var De in H)this.data(De,H[De]);return this},E.removeData=function(H){return this.each(function(ie,he){return ot(he,H)})};function st(H,ie){return N(H,"border"+(ie?"Left":"Top")+"Width")+N(H,"padding"+(ie?"Left":"Top"))+N(H,"padding"+(ie?"Right":"Bottom"))+N(H,"border"+(ie?"Right":"Bottom")+"Width")}ee(["Width","Height"],function(H){E["inner"+H]=function(){if(this[0])return this[0]===n?n["inner"+H]:this[0]["client"+H]}}),ee(["width","height"],function(H,ie){E[H]=function(he){return this[0]?arguments.length?(he=parseInt(he,10),this.each(function(De,Ye){if(Ye.nodeType===1){var gt=le(Ye,"boxSizing");Ye.style[H]=at(H,he+(gt==="border-box"?st(Ye,!ie):0))}})):this[0]===n?this[0][te("outer-"+H)]:this[0].getBoundingClientRect()[H]-st(this[0],!ie):he===void 0?void 0:this}}),ee(["Width","Height"],function(H,ie){E["outer"+H]=function(he){if(this[0])return this[0]===n?n["outer"+H]:this[0]["offset"+H]+(he?N(this[0],"margin"+(ie?"Top":"Left"))+N(this[0],"margin"+(ie?"Bottom":"Right")):0)}});function A(H,ie){for(var he=0,De=ie.length;he<De;he++)if(H.indexOf(ie[he])<0)return!1;return!0}function z(H,ie,he){ee(H[he],function(De){De[0];var Ye=De[1];ie.removeEventListener(he,Ye)}),delete H[he]}var Y="__cashEvents",pe=".";function Ce(H){return H[Y]=H[Y]||{}}function J(H,ie,he,De){De.guid=De.guid||q++;var Ye=Ce(H);Ye[ie]=Ye[ie]||[],Ye[ie].push([he,De]),H.addEventListener(ie,De)}function me(H){var ie=H.split(pe);return[ie[0],ie.slice(1).sort()]}function fe(H,ie,he,De){var Ye=Ce(H);if(ie){var gt=Ye[ie];if(!gt)return;De&&(De.guid=De.guid||q++),Ye[ie]=gt.filter(function(St){var tr=St[0],Sr=St[1];if(De&&Sr.guid!==De.guid||!A(tr,he))return!0;H.removeEventListener(ie,Sr)})}else if(!he||!he.length)for(ie in Ye)z(Ye,H,ie);else for(ie in Ye)fe(H,ie,he,De)}E.off=function(H,ie){var he=this;return H===void 0?this.each(function(De,Ye){return fe(Ye)}):ee(ue(H),function(De){var Ye=me(De),gt=Ye[0],St=Ye[1];he.each(function(tr,Sr){return fe(Sr,gt,St,ie)})}),this},E.on=function(H,ie,he,De){var Ye=this;if(!B(H)){for(var gt in H)this.on(gt,ie,H[gt]);return this}return $(ie)&&(he=ie,ie=!1),ee(ue(H),function(St){var tr=me(St),Sr=tr[0],rr=tr[1];Ye.each(function(Yn,nr){var ln=function Dn(zt){if(!(zt.namespace&&!A(rr,zt.namespace.split(pe)))){var Or=nr;if(ie){for(var Nt=zt.target;!D(Nt,ie);)if(Nt===nr||(Nt=Nt.parentNode,!Nt))return;Or=Nt}zt.namespace=zt.namespace||"";var Qr=he.call(Or,zt,zt.data);De&&fe(nr,Sr,rr,Dn),Qr===!1&&(zt.preventDefault(),zt.stopPropagation())}};ln.guid=he.guid=he.guid||q++,J(nr,Sr,rr,ln)})}),this},E.one=function(H,ie,he){return this.on(H,ie,he,!0)},E.ready=function(H){var ie=function(){return H(T)};return t.readyState!=="loading"?setTimeout(ie):t.addEventListener("DOMContentLoaded",ie),this},E.trigger=function(H,ie){var he=H;if(B(H)){var De=me(H),Ye=De[0],gt=De[1];he=t.createEvent("HTMLEvents"),he.initEvent(Ye,!0,!0),he.namespace=gt.join(pe)}return he.data=ie,this.each(function(St,tr){tr.dispatchEvent(he)})};function ut(H){var ie=[];return ee(H.options,function(he){he.selected&&!he.disabled&&!he.parentNode.disabled&&ie.push(he.value)}),ie}function Ct(H){return H.selectedIndex<0?null:H.options[H.selectedIndex].value}var bt=/select-one/i,K=/select-multiple/i;function ce(H){var ie=H.type;return bt.test(ie)?Ct(H):K.test(ie)?ut(H):H.value}var j=/%20/g;function Ae(H,ie){return"&"+encodeURIComponent(H)+"="+encodeURIComponent(ie).replace(j,"+")}var be=/file|reset|submit|button|image/i,Ue=/radio|checkbox/i;E.serialize=function(){var H="";return this.each(function(ie,he){ee(he.elements||[he],function(De){if(!(De.disabled||!De.name||De.tagName==="FIELDSET")&&!be.test(De.type)&&!(Ue.test(De.type)&&!De.checked)){var Ye=ce(De);if(Ye!==void 0){var gt=X(Ye)?Ye:[Ye];ee(gt,function(St){H+=Ae(De.name,St)})}}})}),H.substr(1)},E.val=function(H){return H===void 0?this[0]&&ce(this[0]):this.each(function(ie,he){var De=K.test(he.type),Ye=H===null?De?[]:"":H;De&&X(Ye)?ee(he.options,function(gt){gt.selected=Ye.indexOf(gt.value)>=0}):he.value=Ye})},E.clone=function(){return this.map(function(H,ie){return ie.cloneNode(!0)})},E.detach=function(){return this.each(function(H,ie){ie.parentNode&&ie.parentNode.removeChild(ie)})};var it=/^\s*<(\w+)[^>]*>/,nt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Qe;function pt(){if(!Qe){var H=t.createElement("table"),ie=t.createElement("tr");Qe={"*":t.createElement("div"),tr:t.createElement("tbody"),td:ie,th:ie,thead:H,tbody:H,tfoot:H}}}function At(H){if(pt(),!B(H))return[];if(nt.test(H))return[t.createElement(RegExp.$1)];var ie=it.test(H)&&RegExp.$1,he=Qe[ie]||Qe["*"];return he.innerHTML=H,T(he.childNodes).detach().get()}T.parseHTML=At,E.empty=function(){var H=this[0];if(H)for(;H.firstChild;)H.removeChild(H.firstChild);return this};function Rt(H,ie,he){he?H.insertBefore(ie,H.childNodes[0]):H.appendChild(ie)}function $t(H,ie,he){if(ie!==void 0){var De=B(ie);!De&&ie.length?ee(ie,function(Ye){return $t(H,Ye,he)}):ee(H,De?function(Ye){Ye.insertAdjacentHTML(he?"afterbegin":"beforeend",ie)}:function(Ye,gt){return Rt(Ye,gt?ie.cloneNode(!0):ie,he)})}}E.append=function(){var H=this;return ee(arguments,function(ie){$t(H,ie)}),this},E.appendTo=function(H){return $t(T(H),this),this},E.html=function(H){if(H===void 0)return this[0]&&this[0].innerHTML;var ie=H.nodeType?H[0].outerHTML:H;return this.each(function(he,De){De.innerHTML=ie})},E.insertAfter=function(H){var ie=this;return T(H).each(function(he,De){var Ye=De.parentNode;ie.each(function(gt,St){Ye.insertBefore(he?St.cloneNode(!0):St,De.nextSibling)})}),this},E.after=function(){var H=this;return ee(d.apply(arguments),function(ie){d.apply(T(ie).slice()).insertAfter(H)}),this},E.insertBefore=function(H){var ie=this;return T(H).each(function(he,De){var Ye=De.parentNode;ie.each(function(gt,St){Ye.insertBefore(he?St.cloneNode(!0):St,De)})}),this},E.before=function(){var H=this;return ee(arguments,function(ie){T(ie).insertBefore(H)}),this},E.prepend=function(){var H=this;return ee(arguments,function(ie){$t(H,ie,!0)}),this},E.prependTo=function(H){return $t(T(H),d.apply(this.slice()),!0),this},E.remove=function(){return this.detach().off()},E.replaceWith=function(H){var ie=this;return this.each(function(he,De){var Ye=De.parentNode;if(Ye){var gt=he?T(H).clone():T(H);if(!gt[0])return ie.remove(),!1;Ye.replaceChild(gt[0],De),T(gt[0]).after(gt.slice(1))}})},E.replaceAll=function(H){return T(H).replaceWith(this),this},E.text=function(H){return H===void 0?this[0]?this[0].textContent:"":this.each(function(ie,he){he.textContent=H})};var hr=t&&t.documentElement;E.offset=function(){var H=this[0];if(H){var ie=H.getBoundingClientRect();return{top:ie.top+n.pageYOffset-hr.clientTop,left:ie.left+n.pageXOffset-hr.clientLeft}}},E.offsetParent=function(){return T(this[0]&&this[0].offsetParent)},E.position=function(){var H=this[0];if(H)return{left:H.offsetLeft,top:H.offsetTop}},E.children=function(H){var ie=[];return this.each(function(he,De){f.apply(ie,De.children)}),ie=T(Ve(ie)),H?ie.filter(function(he,De){return D(De,H)}):ie},E.contents=function(){var H=[];return this.each(function(ie,he){f.apply(H,he.tagName==="IFRAME"?[he.contentDocument]:he.childNodes)}),T(H.length&&Ve(H))},E.find=function(H){for(var ie=[],he=0,De=this.length;he<De;he++){var Ye=O(H,this[he]);Ye.length&&f.apply(ie,Ye)}return T(ie.length&&Ve(ie))},E.has=function(H){var ie=B(H)?function(he,De){return!!O(H,De).length}:function(he,De){return De.contains(H)};return this.filter(ie)},E.is=function(H){if(!H||!this[0])return!1;var ie=V(H),he=!1;return this.each(function(De,Ye){return he=ie(De,Ye,H),!he}),he},E.next=function(){return T(this[0]&&this[0].nextElementSibling)},E.not=function(H){if(!H||!this[0])return this;var ie=V(H);return this.filter(function(he,De){return!ie(he,De,H)})},E.parent=function(){var H=[];return this.each(function(ie,he){he&&he.parentNode&&H.push(he.parentNode)}),T(Ve(H))},E.index=function(H){var ie=H?T(H)[0]:this[0],he=H?this:T(ie).parent().children();return l.call(he,ie)},E.closest=function(H){return!H||!this[0]?T():this.is(H)?this.filter(H):this.parent().closest(H)},E.parents=function(H){var ie=[],he;return this.each(function(De,Ye){for(he=Ye;he&&he.parentNode&&he!==t.body.parentNode;)he=he.parentNode,(!H||H&&D(he,H))&&ie.push(he)}),T(Ve(ie))},E.prev=function(){return T(this[0]&&this[0].previousElementSibling)},E.siblings=function(){var H=this[0];return this.parent().children().filter(function(ie,he){return he!==H})};const Lr=T},2097:(o,r,e)=>{e.d(r,{AU:()=>le,BC:()=>x,C8:()=>ee,Ch:()=>D,Ci:()=>W,D8:()=>l,G2:()=>$,GW:()=>te,GZ:()=>M,I6:()=>v,LJ:()=>_e,Sc:()=>w,X6:()=>m,Xy:()=>G,YZ:()=>f,ZQ:()=>u,a_:()=>O,af:()=>E,bG:()=>b,cx:()=>d,ir:()=>U,kk:()=>ue,on:()=>Ve,rp:()=>V,v$:()=>B,yL:()=>T,zN:()=>y});var t=e(5706),n=function(N,xe,Oe){if(Oe||arguments.length===2)for(var ge=0,Be=xe.length,ze;ge<Be;ge++)(ze||!(ge in xe))&&(ze||(ze=Array.prototype.slice.call(xe,0,ge)),ze[ge]=xe[ge]);return N.concat(ze||Array.prototype.slice.call(xe))},i="tag",s="attributes",l="transitionend oTransitionEnd transitionend webkitTransitionEnd",u=function(N){return(N==null?void 0:N.nodeType)===Node.DOCUMENT_NODE},f=function(N){var xe=N&&N.parentNode;xe&&xe.removeChild(N)};function d(){for(var N=[],xe=0;xe<arguments.length;xe++)N[xe]=arguments[xe];var Oe=Array.isArray(N[0])?N[0]:n([],N,!0);return Oe.filter(Boolean).join(" ")}var v=function(N,xe){return N.querySelectorAll(xe)},m=function(N,xe){return xe===void 0&&(xe={}),N&&N.setAttribute&&(0,t.each)(xe,function(Oe,ge){return N.setAttribute(ge,Oe)})},y=function(N){var xe;return N&&!!(N.offsetWidth||N.offsetHeight||!((xe=N.getClientRects)===null||xe===void 0)&&xe.call(N).length)},b=function(N,xe){var Oe;(Oe=N.parentNode)===null||Oe===void 0||Oe.replaceChild(xe,N)},w=function(N,xe,Oe){var ge=N.childNodes,Be=ge.length,ze=(0,t.isUndefined)(Oe)?Be:Oe;(0,t.isString)(xe)&&(N.insertAdjacentHTML("beforeEnd",xe),xe=N.lastChild,N.removeChild(xe)),ze>=Be?N.appendChild(xe):N.insertBefore(xe,ge[ze])},x=function(N,xe){return w(N,xe)},O=function(N,xe,Oe){xe===void 0&&(xe={});var ge=document.createElement(N);return xe&&(0,t.each)(xe,function(Be,ze){return ge.setAttribute(ze,Be)}),Oe&&((0,t.isString)(Oe)?ge.innerHTML=Oe:ge.appendChild(Oe)),ge},M=function(N){return document.createTextNode(N)},T=function(N,xe){var Oe,ge=N.type;try{Oe=new window[xe](ge,N)}catch{Oe=document.createEvent(xe),Oe.initEvent(ge,!0,!0)}return Oe._parentEvent=N,ge.indexOf("key")===0&&(Oe.keyCodeVal=N.keyCode,["keyCode","which"].forEach(function(Be){Object.defineProperty(Oe,Be,{get:function(){return this.keyCodeVal}})})),Oe},E=function(N,xe){xe===void 0&&(xe=[]);var Oe=Array.isArray(xe)?xe:[xe];Oe.forEach(function(ge){var Be=ge[i]||"div",ze=ge[s]||{},Me=document.createElement(Be);(0,t.each)(ze,function(Ne,Je){Me.setAttribute(Je,Ne)}),N.appendChild(Me)})},U=function(N){return(N==null?void 0:N.nodeType)===Node.TEXT_NODE},Z=function(N){return(N==null?void 0:N.nodeType)===Node.COMMENT_NODE},te=function(N){return N&&!U(N)&&!Z(N)},ee=function(N){var xe={top:0,left:0,width:0,height:0};if(!N)return xe;var Oe;if(U(N)){var ge=document.createRange();ge.selectNode(N),Oe=ge.getBoundingClientRect(),ge.detach()}return Oe||(N.getBoundingClientRect?N.getBoundingClientRect():xe)},G=function(N){var xe=(N==null?void 0:N.ownerDocument)||document,Oe=xe.documentElement,ge=xe.defaultView||window;return{x:(ge.pageXOffset||Oe.scrollLeft||0)-(Oe.clientLeft||0),y:(ge.pageYOffset||Oe.scrollTop||0)-(Oe.clientTop||0)}},q=function(N){return N.which||N.keyCode},D=function(N){return String.fromCharCode(q(N))},$=function(N){return N.touches&&N.touches[0]?N.touches[0]:N},B=function(N){return q(N)===27},W=function(N){return q(N)===13},X=function(N){return N.ctrlKey},V=function(N){return X(N)||N.metaKey},_e=function(N){if(!N)return"";var xe=N.name,Oe=N.publicId,ge=N.systemId,Be=Oe?' PUBLIC "'.concat(Oe,'"'):"",ze=!Oe&&ge?' SYSTEM "'.concat(ge,'"'):"";return"<!DOCTYPE ".concat(xe).concat(Be).concat(ze,">")},ue=function(N){N===void 0&&(N={});var xe=[];return(0,t.each)(N,function(Oe,ge){return xe.push("".concat(ge,'="').concat(Oe,'"'))}),xe.join(" ")},Ve=function(N,xe,Oe,ge){var Be=xe.split(/\s+/),ze=(0,t.isArray)(N)?N:[N];Be.forEach(function(Me){ze.forEach(function(Ne){return Ne==null?void 0:Ne.addEventListener(Me,Oe,ge)})})},le=function(N,xe,Oe,ge){var Be=xe.split(/\s+/),ze=(0,t.isArray)(N)?N:[N];Be.forEach(function(Me){ze.forEach(function(Ne){return Ne==null?void 0:Ne.removeEventListener(Me,Oe,ge)})})}},9195:(o,r,e)=>{e.r(r),e.d(r,{appendStyles:()=>te,buildBase64UrlFromSvg:()=>at,camelCase:()=>D,capitalize:()=>xe,createId:()=>Je,deepMerge:()=>ue,escape:()=>V,escapeNodeContent:()=>_e,find:()=>X,get:()=>m,getComponentModel:()=>Me,getComponentView:()=>ze,getElement:()=>W,getGlobal:()=>M,getModel:()=>Ve,getUiClass:()=>Z,getUnitFromValue:()=>G,getViewEl:()=>ge,hasDnd:()=>B,hasWin:()=>O,isBultInMethod:()=>y,isComponent:()=>Be,isDef:()=>x,isEmptyObj:()=>N,isObject:()=>le,isRule:()=>Oe,matches:()=>U,normalizeFloat:()=>$,normalizeKey:()=>b,setViewEl:()=>Ne,shallowDiff:()=>ee,stringToPath:()=>d,toLowerCase:()=>T,upFirst:()=>q,wait:()=>w});var t=e(5706),n=e(2097),i=function(){return i=Object.assign||function(ae){for(var Se,Ze=1,Ie=arguments.length;Ze<Ie;Ze++){Se=arguments[Ze];for(var ot in Se)Object.prototype.hasOwnProperty.call(Se,ot)&&(ae[ot]=Se[ot])}return ae},i.apply(this,arguments)},s=function(ae,Se,Ze){if(Ze||arguments.length===2)for(var Ie=0,ot=Se.length,dt;Ie<ot;Ie++)(dt||!(Ie in Se))&&(dt||(dt=Array.prototype.slice.call(Se,0,Ie)),dt[Ie]=Se[Ie]);return ae.concat(dt||Array.prototype.slice.call(Se))},l={},u=/\\(\\)?/g,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=function(ae){var Se=[];return ae.charCodeAt(0)===46&&Se.push(""),ae.replace(f,function(Ze,Ie,ot,dt){return Se.push(ot?dt.replace(u,"$1"):Ie||Ze),""}),Se};function v(ae,Se){return(0,t.isArray)(ae)?ae:Se.hasOwnProperty(ae)?[ae]:d(ae)}var m=function(ae,Se,Ze){for(var Ie,ot=v(Se,ae),dt=ot.length,st=0;ae!=null&&st<dt;)ae=ae["".concat(ot[st++])];return(Ie=st&&st==dt?ae:void 0)!==null&&Ie!==void 0?Ie:Ze},y=function(ae){return(0,t.isFunction)(l[ae])},b=function(ae){return y(ae)?"_".concat(ae):ae},w=function(ae){return ae===void 0&&(ae=0),new Promise(function(Se){return setTimeout(Se,ae)})},x=function(ae){return typeof ae<"u"},O=function(){return typeof window<"u"},M=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},T=function(ae){return(ae||"").toLowerCase()},E=O()?window.Element.prototype:{},U=E.matches||E.webkitMatchesSelector||E.mozMatchesSelector||E.msMatchesSelector,Z=function(ae,Se){var Ze=ae.getConfig(),Ie=Ze.stylePrefix,ot=Ze.customUI;return[ot&&"".concat(Ie,"cui"),Se].filter(function(dt){return dt}).join(" ")},te=function(ae,Se){Se===void 0&&(Se={});var Ze=(0,t.isArray)(ae)?s([],ae,!0):[ae];if(Ze.length){var Ie=Ze.shift();if(Ie&&(!Se.unique||!document.querySelector('link[href="'.concat(Ie,'"]')))){var ot=document.head,dt=document.createElement("link");dt.href=Ie,dt.rel="stylesheet",Se.prepand?ot.insertBefore(dt,ot.firstChild):ot.appendChild(dt)}te(Ze)}},ee=function(ae,Se){var Ze={},Ie=(0,t.keys)(Se);for(var ot in ae)if(ae.hasOwnProperty(ot)){var dt=ae[ot],st=Se[ot];Ie.indexOf(ot)>=0?dt!==st&&(Ze[ot]=st):Ze[ot]=null}for(var ot in Se)Se.hasOwnProperty(ot)&&(0,t.isUndefined)(ae[ot])&&(Ze[ot]=Se[ot]);return Ze},G=function(ae){return ae.replace(parseFloat(ae),"")},q=function(ae){return ae[0].toUpperCase()+ae.toLowerCase().slice(1)},D=function(ae){return ae.replace(/-./g,function(Se){return Se[1].toUpperCase()})},$=function(ae,Se,Ze){Se===void 0&&(Se=1),Ze===void 0&&(Ze=0);var Ie=0;if(isNaN(ae))return Ze;if(ae=parseFloat(ae),Math.floor(ae)!==ae){var ot=Se.toString().split(".")[1];Ie=ot?ot.length:0}return Ie?parseFloat(ae.toFixed(Ie)):ae},B=function(ae){return"draggable"in document.createElement("i")&&(ae?ae.config.nativeDnD:!0)},W=function(ae){if((0,t.isElement)(ae)||(0,n.ir)(ae))return ae;if(ae&&ae.getEl)return ae.getEl()},X=function(ae,Se){var Ze=null;return ae.some(function(Ie,ot){return Se(Ie,ot,ae)?(Ze=Ie,1):0}),Ze},V=function(ae){return ae===void 0&&(ae=""),"".concat(ae).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},_e=function(ae){return ae===void 0&&(ae=""),"".concat(ae).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},ue=function(){for(var ae=[],Se=0;Se<arguments.length;Se++)ae[Se]=arguments[Se];for(var Ze=i({},ae[0]),Ie=1;Ie<ae.length;Ie++){var ot=i({},ae[Ie]);for(var dt in ot){var st=Ze[dt],A=ot[dt];le(st)&&le(A)?Ze[dt]=ue(st,A):Ze[dt]=A}}return Ze},Ve=function(ae,Se){var Ze;return!Se&&ae&&ae.__cashData?Ze=ae.__cashData.model:Se&&(0,t.isElement)(ae)&&(Ze=Se(ae).data("model")),Ze},le=function(ae){return ae&&!Array.isArray(ae)&&typeof ae=="object"},N=function(ae){return Object.keys(ae).length<=0},xe=function(ae){return ae===void 0&&(ae=""),ae&&ae.charAt(0).toUpperCase()+ae.substring(1)},Oe=function(ae){return ae&&ae.toCSS},ge=function(ae){return ae==null?void 0:ae.__gjsv},Be=function(ae){return!!(ae!=null&&ae.toHTML)},ze=function(ae){return ge(ae)},Me=function(ae){var Se;return(Se=ze(ae))===null||Se===void 0?void 0:Se.model},Ne=function(ae,Se){ae.__gjsv=Se},Je=function(ae){ae===void 0&&(ae=16);for(var Se="",Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ie=Ze.length,ot=0;ot<ae;ot++)Se+=Ze.charAt(Math.floor(Math.random()*Ie));return Se},at=function(ae){if(ae&&ae.substr(0,4)==="<svg"){var Se="";return O()?Se=window.btoa(ae):typeof Buffer<"u"&&(Se=Buffer.from(ae,"utf8").toString("base64")),Se?"data:image/svg+xml;base64,".concat(Se):ae}return ae}},3253:(o,r,e)=>{e.d(r,{h:()=>i});var t=e(3161),n=function(){var l=function(u,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},l(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),i=function(l){n(u,l);function u(){var f=l!==null&&l.apply(this,arguments)||this;return f.displayCache=new Map,f}return u.prototype.getChildren=function(){return this.getDisplayedChildren()},u.prototype.getDisplayedChildren=function(){var f=this,d=this.model.components(),v=d.filter(function(m){return f.isChildDisplayed(m)});return v.map(function(m){return new f.constructor(m)})},u.prototype.isChildDisplayed=function(f){if(this.displayCache.has(f))return this.displayCache.get(f);var d=f.getEl(),v=s(d);return this.displayCache.set(f,v),v},u.prototype.getParent=function(){var f=this.model.parent();return f?new this.constructor(f):null},u.prototype.addChildAt=function(f,d,v){var m,y,b,w,x,O,M,T;v===void 0&&(v={action:"add-component"});var E=((y=(m=this.model)===null||m===void 0?void 0:m.isInstanceOf)===null||y===void 0?void 0:y.call(m,"text"))&&((w=(b=f==null?void 0:f.model)===null||b===void 0?void 0:b.get)===null||w===void 0?void 0:w.call(b,"textable"));if(E)return(T=(M=(O=(x=this.model)===null||x===void 0?void 0:x.getView)===null||O===void 0?void 0:O.call(x))===null||M===void 0?void 0:M.insertComponent)===null||T===void 0?void 0:T.call(M,f==null?void 0:f.model,{action:v.action});var U=this.model.components().add(f.model,{at:this.getRealIndex(d),action:v.action});return new this.constructor(U)},u.prototype.removeChildAt=function(f,d){d===void 0&&(d={temporary:!1});var v=this.model.components().at(this.getRealIndex(f));v&&this.model.components().remove(v,d)},u.prototype.indexOfChild=function(f){return this.getDisplayIndex(f)},u.prototype.getDisplayIndex=function(f){var d=this.getDisplayedChildren();return d?d.findIndex(function(v){return v.model===f.model}):-1},u.prototype.getRealIndex=function(f){if(f===-1)return-1;for(var d=0,v=this.model.components(),m=0;m<v.length;m++){var y=v.at(m),b=this.isChildDisplayed(y);if(b&&d++,d===f+1)return m}return-1},u.prototype.canMove=function(f,d){return this.model.em.Components.canMove(this.model,f.model,this.getRealIndex(d)).result},u.prototype.restNodeState=function(){this.clearState();var f=this.model;this.setContentEditable(!1),f.em.getEditing()===f&&this.disableEditing()},u.prototype.setContentEditable=function(f){this.element&&this.isTextNode()&&(this.element.contentEditable=f?"true":"false")},u.prototype.disableEditing=function(){var f,d;(d=(f=this.view)===null||f===void 0?void 0:f.disableEditing)===null||d===void 0||d.call(f)},u.prototype.clearState=function(){var f,d;(d=(f=this.model).set)===null||d===void 0||d.call(f,"status","")},u.prototype.setSelectedParentState=function(){var f,d;(d=(f=this.model).set)===null||d===void 0||d.call(f,"status","selected-parent")},u.prototype.isTextNode=function(){var f,d;return(d=(f=this.model).isInstanceOf)===null||d===void 0?void 0:d.call(f,"text")},u.prototype.isTextable=function(){var f,d;return(d=(f=this.model).get)===null||d===void 0?void 0:d.call(f,"textable")},u}(t.$);function s(l){return l?typeof l=="object"&&l.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(l).display!=="none"&&l.offsetWidth>0&&l.offsetHeight>0:!1}},6778:(o,r,e)=>{e.d(r,{A:()=>s});var t=e(3253),n=function(){var l=function(u,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},l(u,f)};return function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");l(u,f);function d(){this.constructor=u}u.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),i=function(l){n(u,l);function u(){var f=l!==null&&l.apply(this,arguments)||this;return f._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},f}return Object.defineProperty(u.prototype,"view",{get:function(){var f,d;return(d=(f=this.model).getView)===null||d===void 0?void 0:d.call(f)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"element",{get:function(){var f,d;return(d=(f=this.model).getEl)===null||d===void 0?void 0:d.call(f)},enumerable:!1,configurable:!0}),u}(t.h);const s=i},3161:(o,r,e)=>{e.d(r,{$:()=>t});var t=function(){function n(i,s){s===void 0&&(s={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=i,this._dragSource=s}return Object.defineProperty(n.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropArea",{get:function(){var i,s;return this.getParent()?(s=this.nodeDimensions)===null||s===void 0?void 0:s.getDropArea(this._dropAreaConfig):(i=this.nodeDimensions)===null||i===void 0?void 0:i.clone()},enumerable:!1,configurable:!0}),n.prototype.isWithinDropBounds=function(i,s){return!!this.dropArea&&this.dropArea.isWithinBounds(i,s)},n.prototype.equals=function(i){return!!(i!=null&&i._model)&&this._model===i._model},n.prototype.adjustDimensions=function(i){var s,l;i.topDifference===0&&i.leftDifference===0||((s=this.nodeDimensions)===null||s===void 0||s.adjustDimensions(i),(l=this.childrenDimensions)===null||l===void 0||l.forEach(function(u){return u.adjustDimensions(i)}))},n}()},2128:(o,r,e)=>{e.d(r,{A:()=>t});var t;(function(n){n.Vertical="Vertical",n.Horizontal="Horizontal",n.BothDirections="BothDirections"})(t||(t={}))},585:(o,r,e)=>{var t={"./CanvasClear":371,"./CanvasClear.ts":371,"./CanvasMove":6301,"./CanvasMove.ts":6301,"./CommandAbstract":5301,"./CommandAbstract.ts":5301,"./ComponentDelete":8542,"./ComponentDelete.ts":8542,"./ComponentDrag":1319,"./ComponentDrag.ts":1319,"./ComponentEnter":1859,"./ComponentEnter.ts":1859,"./ComponentExit":3709,"./ComponentExit.ts":3709,"./ComponentNext":2860,"./ComponentNext.ts":2860,"./ComponentPrev":4944,"./ComponentPrev.ts":4944,"./ComponentStyleClear":767,"./ComponentStyleClear.ts":767,"./CopyComponent":2126,"./CopyComponent.ts":2126,"./ExportTemplate":4860,"./ExportTemplate.ts":4860,"./Fullscreen":1085,"./Fullscreen.ts":1085,"./MoveComponent":9622,"./MoveComponent.ts":9622,"./OpenAssets":8481,"./OpenAssets.ts":8481,"./OpenBlocks":3666,"./OpenBlocks.ts":3666,"./OpenLayers":5838,"./OpenLayers.ts":5838,"./OpenStyleManager":8692,"./OpenStyleManager.ts":8692,"./OpenTraitManager":9163,"./OpenTraitManager.ts":9163,"./PasteComponent":9298,"./PasteComponent.ts":9298,"./Preview":8594,"./Preview.ts":8594,"./Resize":7604,"./Resize.ts":7604,"./SelectComponent":4596,"./SelectComponent.ts":4596,"./SelectPosition":2983,"./SelectPosition.ts":2983,"./ShowOffset":9490,"./ShowOffset.ts":9490,"./SwitchVisibility":1396,"./SwitchVisibility.ts":1396};function n(s){var l=i(s);return e(l)}function i(s){if(!e.o(t,s)){var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}return t[s]}n.keys=function(){return Object.keys(t)},n.resolve=i,o.exports=n,n.id=585},5706:(o,r,e)=>{e.r(r),e.d(r,{VERSION:()=>n,after:()=>ro,all:()=>pi,allKeys:()=>Qe,any:()=>Fi,assign:()=>ln,before:()=>no,bind:()=>Ri,bindAll:()=>Ea,chain:()=>ji,chunk:()=>_o,clone:()=>Qr,collect:()=>fn,compact:()=>Eu,compose:()=>ui,constant:()=>st,contains:()=>zr,countBy:()=>Ou,create:()=>Nt,debounce:()=>vs,default:()=>vi,defaults:()=>Dn,defer:()=>un,delay:()=>Ao,detect:()=>xt,difference:()=>Hl,drop:()=>zo,each:()=>Vr,escape:()=>We,every:()=>pi,extend:()=>nr,extendOwn:()=>ln,filter:()=>Nn,find:()=>xt,findIndex:()=>go,findKey:()=>Ni,findLastIndex:()=>di,findWhere:()=>lr,first:()=>Hi,flatten:()=>Bl,foldl:()=>_n,foldr:()=>bn,forEach:()=>Vr,functions:()=>rr,get:()=>Ar,groupBy:()=>Su,has:()=>cn,head:()=>Hi,identity:()=>Wt,include:()=>zr,includes:()=>zr,indexBy:()=>Rl,indexOf:()=>ht,initial:()=>_r,inject:()=>_n,intersection:()=>ku,invert:()=>Sr,invoke:()=>bu,isArguments:()=>Ie,isArray:()=>ae,isArrayBuffer:()=>N,isBoolean:()=>$,isDataView:()=>at,isDate:()=>_e,isElement:()=>B,isEmpty:()=>K,isEqual:()=>nt,isError:()=>Ve,isFinite:()=>ot,isFunction:()=>ge,isMap:()=>he,isMatch:()=>ce,isNaN:()=>dt,isNull:()=>q,isNumber:()=>V,isObject:()=>G,isRegExp:()=>ue,isSet:()=>Ye,isString:()=>X,isSymbol:()=>le,isTypedArray:()=>me,isUndefined:()=>D,isWeakMap:()=>De,isWeakSet:()=>gt,iteratee:()=>jt,keys:()=>bt,last:()=>Ui,lastIndexOf:()=>Ht,map:()=>fn,mapObject:()=>jn,matcher:()=>ct,matches:()=>ct,max:()=>Ll,memoize:()=>eo,methods:()=>rr,min:()=>jl,mixin:()=>ka,negate:()=>to,noop:()=>Jn,now:()=>R,object:()=>Au,omit:()=>Bi,once:()=>Pa,pairs:()=>tr,partial:()=>ko,partition:()=>Nl,pick:()=>Fl,pluck:()=>gs,property:()=>Hr,propertyOf:()=>He,random:()=>Qn,range:()=>qi,reduce:()=>_n,reduceRight:()=>bn,reject:()=>yo,rest:()=>zo,restArguments:()=>ee,result:()=>li,sample:()=>ms,select:()=>Nn,shuffle:()=>xu,size:()=>Tu,some:()=>Fi,sortBy:()=>Cu,sortedIndex:()=>Vo,tail:()=>zo,take:()=>Hi,tap:()=>wt,template:()=>si,templateSettings:()=>Dt,throttle:()=>Rr,times:()=>yt,toArray:()=>hi,toPath:()=>Ln,transpose:()=>Wi,unescape:()=>Pt,union:()=>Pu,uniq:()=>zi,unique:()=>zi,uniqueId:()=>Li,unzip:()=>Wi,values:()=>St,where:()=>wu,without:()=>bs,wrap:()=>Mo,zip:()=>Ul});var t={};e.r(t),e.d(t,{VERSION:()=>n,after:()=>ro,all:()=>pi,allKeys:()=>Qe,any:()=>Fi,assign:()=>ln,before:()=>no,bind:()=>Ri,bindAll:()=>Ea,chain:()=>ji,chunk:()=>_o,clone:()=>Qr,collect:()=>fn,compact:()=>Eu,compose:()=>ui,constant:()=>st,contains:()=>zr,countBy:()=>Ou,create:()=>Nt,debounce:()=>vs,default:()=>Mu,defaults:()=>Dn,defer:()=>un,delay:()=>Ao,detect:()=>xt,difference:()=>Hl,drop:()=>zo,each:()=>Vr,escape:()=>We,every:()=>pi,extend:()=>nr,extendOwn:()=>ln,filter:()=>Nn,find:()=>xt,findIndex:()=>go,findKey:()=>Ni,findLastIndex:()=>di,findWhere:()=>lr,first:()=>Hi,flatten:()=>Bl,foldl:()=>_n,foldr:()=>bn,forEach:()=>Vr,functions:()=>rr,get:()=>Ar,groupBy:()=>Su,has:()=>cn,head:()=>Hi,identity:()=>Wt,include:()=>zr,includes:()=>zr,indexBy:()=>Rl,indexOf:()=>ht,initial:()=>_r,inject:()=>_n,intersection:()=>ku,invert:()=>Sr,invoke:()=>bu,isArguments:()=>Ie,isArray:()=>ae,isArrayBuffer:()=>N,isBoolean:()=>$,isDataView:()=>at,isDate:()=>_e,isElement:()=>B,isEmpty:()=>K,isEqual:()=>nt,isError:()=>Ve,isFinite:()=>ot,isFunction:()=>ge,isMap:()=>he,isMatch:()=>ce,isNaN:()=>dt,isNull:()=>q,isNumber:()=>V,isObject:()=>G,isRegExp:()=>ue,isSet:()=>Ye,isString:()=>X,isSymbol:()=>le,isTypedArray:()=>me,isUndefined:()=>D,isWeakMap:()=>De,isWeakSet:()=>gt,iteratee:()=>jt,keys:()=>bt,last:()=>Ui,lastIndexOf:()=>Ht,map:()=>fn,mapObject:()=>jn,matcher:()=>ct,matches:()=>ct,max:()=>Ll,memoize:()=>eo,methods:()=>rr,min:()=>jl,mixin:()=>ka,negate:()=>to,noop:()=>Jn,now:()=>R,object:()=>Au,omit:()=>Bi,once:()=>Pa,pairs:()=>tr,partial:()=>ko,partition:()=>Nl,pick:()=>Fl,pluck:()=>gs,property:()=>Hr,propertyOf:()=>He,random:()=>Qn,range:()=>qi,reduce:()=>_n,reduceRight:()=>bn,reject:()=>yo,rest:()=>zo,restArguments:()=>ee,result:()=>li,sample:()=>ms,select:()=>Nn,shuffle:()=>xu,size:()=>Tu,some:()=>Fi,sortBy:()=>Cu,sortedIndex:()=>Vo,tail:()=>zo,take:()=>Hi,tap:()=>wt,template:()=>si,templateSettings:()=>Dt,throttle:()=>Rr,times:()=>yt,toArray:()=>hi,toPath:()=>Ln,transpose:()=>Wi,unescape:()=>Pt,union:()=>Pu,uniq:()=>zi,unique:()=>zi,uniqueId:()=>Li,unzip:()=>Wi,values:()=>St,where:()=>wu,without:()=>bs,wrap:()=>Mo,zip:()=>Ul});var n="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,l=Object.prototype,u=typeof Symbol<"u"?Symbol.prototype:null,f=s.push,d=s.slice,v=l.toString,m=l.hasOwnProperty,y=typeof ArrayBuffer<"u",b=typeof DataView<"u",w=Array.isArray,x=Object.keys,O=Object.create,M=y&&ArrayBuffer.isView,T=isNaN,E=isFinite,U=!{toString:null}.propertyIsEnumerable("toString"),Z=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],te=Math.pow(2,53)-1;function ee(k,F){return F=F==null?k.length-1:+F,function(){for(var ne=Math.max(arguments.length-F,0),se=Array(ne),we=0;we<ne;we++)se[we]=arguments[we+F];switch(F){case 0:return k.call(this,se);case 1:return k.call(this,arguments[0],se);case 2:return k.call(this,arguments[0],arguments[1],se)}var ve=Array(F+1);for(we=0;we<F;we++)ve[we]=arguments[we];return ve[F]=se,k.apply(this,ve)}}function G(k){var F=typeof k;return F==="function"||F==="object"&&!!k}function q(k){return k===null}function D(k){return k===void 0}function $(k){return k===!0||k===!1||v.call(k)==="[object Boolean]"}function B(k){return!!(k&&k.nodeType===1)}function W(k){var F="[object "+k+"]";return function(ne){return v.call(ne)===F}}const X=W("String"),V=W("Number"),_e=W("Date"),ue=W("RegExp"),Ve=W("Error"),le=W("Symbol"),N=W("ArrayBuffer");var xe=W("Function"),Oe=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof Oe!="function"&&(xe=function(k){return typeof k=="function"||!1});const ge=xe,Be=W("Object");var ze=b&&Be(new DataView(new ArrayBuffer(8))),Me=typeof Map<"u"&&Be(new Map),Ne=W("DataView");function Je(k){return k!=null&&ge(k.getInt8)&&N(k.buffer)}const at=ze?Je:Ne,ae=w||W("Array");function Se(k,F){return k!=null&&m.call(k,F)}var Ze=W("Arguments");(function(){Ze(arguments)||(Ze=function(k){return Se(k,"callee")})})();const Ie=Ze;function ot(k){return!le(k)&&E(k)&&!isNaN(parseFloat(k))}function dt(k){return V(k)&&T(k)}function st(k){return function(){return k}}function A(k){return function(F){var ne=k(F);return typeof ne=="number"&&ne>=0&&ne<=te}}function z(k){return function(F){return F==null?void 0:F[k]}}const Y=z("byteLength"),pe=A(Y);var Ce=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function J(k){return M?M(k)&&!at(k):pe(k)&&Ce.test(v.call(k))}const me=y?J:st(!1),fe=z("length");function ut(k){for(var F={},ne=k.length,se=0;se<ne;++se)F[k[se]]=!0;return{contains:function(we){return F[we]},push:function(we){return F[we]=!0,k.push(we)}}}function Ct(k,F){F=ut(F);var ne=Z.length,se=k.constructor,we=ge(se)&&se.prototype||l,ve="constructor";for(Se(k,ve)&&!F.contains(ve)&&F.push(ve);ne--;)ve=Z[ne],ve in k&&k[ve]!==we[ve]&&!F.contains(ve)&&F.push(ve)}function bt(k){if(!G(k))return[];if(x)return x(k);var F=[];for(var ne in k)Se(k,ne)&&F.push(ne);return U&&Ct(k,F),F}function K(k){if(k==null)return!0;var F=fe(k);return typeof F=="number"&&(ae(k)||X(k)||Ie(k))?F===0:fe(bt(k))===0}function ce(k,F){var ne=bt(F),se=ne.length;if(k==null)return!se;for(var we=Object(k),ve=0;ve<se;ve++){var $e=ne[ve];if(F[$e]!==we[$e]||!($e in we))return!1}return!0}function j(k){if(k instanceof j)return k;if(!(this instanceof j))return new j(k);this._wrapped=k}j.VERSION=n,j.prototype.value=function(){return this._wrapped},j.prototype.valueOf=j.prototype.toJSON=j.prototype.value,j.prototype.toString=function(){return String(this._wrapped)};function Ae(k){return new Uint8Array(k.buffer||k,k.byteOffset||0,Y(k))}var be="[object DataView]";function Ue(k,F,ne,se){if(k===F)return k!==0||1/k===1/F;if(k==null||F==null)return!1;if(k!==k)return F!==F;var we=typeof k;return we!=="function"&&we!=="object"&&typeof F!="object"?!1:it(k,F,ne,se)}function it(k,F,ne,se){k instanceof j&&(k=k._wrapped),F instanceof j&&(F=F._wrapped);var we=v.call(k);if(we!==v.call(F))return!1;if(ze&&we=="[object Object]"&&at(k)){if(!at(F))return!1;we=be}switch(we){case"[object RegExp]":case"[object String]":return""+k==""+F;case"[object Number]":return+k!=+k?+F!=+F:+k==0?1/+k===1/F:+k==+F;case"[object Date]":case"[object Boolean]":return+k==+F;case"[object Symbol]":return u.valueOf.call(k)===u.valueOf.call(F);case"[object ArrayBuffer]":case be:return it(Ae(k),Ae(F),ne,se)}var ve=we==="[object Array]";if(!ve&&me(k)){var $e=Y(k);if($e!==Y(F))return!1;if(k.buffer===F.buffer&&k.byteOffset===F.byteOffset)return!0;ve=!0}if(!ve){if(typeof k!="object"||typeof F!="object")return!1;var Xe=k.constructor,Et=F.constructor;if(Xe!==Et&&!(ge(Xe)&&Xe instanceof Xe&&ge(Et)&&Et instanceof Et)&&"constructor"in k&&"constructor"in F)return!1}ne=ne||[],se=se||[];for(var Ot=ne.length;Ot--;)if(ne[Ot]===k)return se[Ot]===F;if(ne.push(k),se.push(F),ve){if(Ot=k.length,Ot!==F.length)return!1;for(;Ot--;)if(!Ue(k[Ot],F[Ot],ne,se))return!1}else{var Nr=bt(k),en;if(Ot=Nr.length,bt(F).length!==Ot)return!1;for(;Ot--;)if(en=Nr[Ot],!(Se(F,en)&&Ue(k[en],F[en],ne,se)))return!1}return ne.pop(),se.pop(),!0}function nt(k,F){return Ue(k,F)}function Qe(k){if(!G(k))return[];var F=[];for(var ne in k)F.push(ne);return U&&Ct(k,F),F}function pt(k){var F=fe(k);return function(ne){if(ne==null)return!1;var se=Qe(ne);if(fe(se))return!1;for(var we=0;we<F;we++)if(!ge(ne[k[we]]))return!1;return k!==H||!ge(ne[At])}}var At="forEach",Rt="has",$t=["clear","delete"],hr=["get",Rt,"set"],Lr=$t.concat(At,hr),H=$t.concat(hr),ie=["add"].concat($t,At,Rt);const he=Me?pt(Lr):W("Map"),De=Me?pt(H):W("WeakMap"),Ye=Me?pt(ie):W("Set"),gt=W("WeakSet");function St(k){for(var F=bt(k),ne=F.length,se=Array(ne),we=0;we<ne;we++)se[we]=k[F[we]];return se}function tr(k){for(var F=bt(k),ne=F.length,se=Array(ne),we=0;we<ne;we++)se[we]=[F[we],k[F[we]]];return se}function Sr(k){for(var F={},ne=bt(k),se=0,we=ne.length;se<we;se++)F[k[ne[se]]]=ne[se];return F}function rr(k){var F=[];for(var ne in k)ge(k[ne])&&F.push(ne);return F.sort()}function Yn(k,F){return function(ne){var se=arguments.length;if(F&&(ne=Object(ne)),se<2||ne==null)return ne;for(var we=1;we<se;we++)for(var ve=arguments[we],$e=k(ve),Xe=$e.length,Et=0;Et<Xe;Et++){var Ot=$e[Et];(!F||ne[Ot]===void 0)&&(ne[Ot]=ve[Ot])}return ne}}const nr=Yn(Qe),ln=Yn(bt),Dn=Yn(Qe,!0);function zt(){return function(){}}function Or(k){if(!G(k))return{};if(O)return O(k);var F=zt();F.prototype=k;var ne=new F;return F.prototype=null,ne}function Nt(k,F){var ne=Or(k);return F&&ln(ne,F),ne}function Qr(k){return G(k)?ae(k)?k.slice():nr({},k):k}function wt(k,F){return F(k),k}function Ln(k){return ae(k)?k:[k]}j.toPath=Ln;function yn(k){return j.toPath(k)}function kr(k,F){for(var ne=F.length,se=0;se<ne;se++){if(k==null)return;k=k[F[se]]}return ne?k:void 0}function Ar(k,F,ne){var se=kr(k,yn(F));return D(se)?ne:se}function cn(k,F){F=yn(F);for(var ne=F.length,se=0;se<ne;se++){var we=F[se];if(!Se(k,we))return!1;k=k[we]}return!!ne}function Wt(k){return k}function ct(k){return k=ln({},k),function(F){return ce(F,k)}}function Hr(k){return k=yn(k),function(F){return kr(F,k)}}function sr(k,F,ne){if(F===void 0)return k;switch(ne??3){case 1:return function(se){return k.call(F,se)};case 3:return function(se,we,ve){return k.call(F,se,we,ve)};case 4:return function(se,we,ve,$e){return k.call(F,se,we,ve,$e)}}return function(){return k.apply(F,arguments)}}function Ur(k,F,ne){return k==null?Wt:ge(k)?sr(k,F,ne):G(k)&&!ae(k)?ct(k):Hr(k)}function jt(k,F){return Ur(k,F,1/0)}j.iteratee=jt;function Yt(k,F,ne){return j.iteratee!==jt?j.iteratee(k,F):Ur(k,F,ne)}function jn(k,F,ne){F=Yt(F,ne);for(var se=bt(k),we=se.length,ve={},$e=0;$e<we;$e++){var Xe=se[$e];ve[Xe]=F(k[Xe],Xe,k)}return ve}function Jn(){}function He(k){return k==null?Jn:function(F){return Ar(k,F)}}function yt(k,F,ne){var se=Array(Math.max(0,k));F=sr(F,ne,1);for(var we=0;we<k;we++)se[we]=F(we);return se}function Qn(k,F){return F==null&&(F=k,k=0),k+Math.floor(Math.random()*(F-k+1))}const R=Date.now||function(){return new Date().getTime()};function re(k){var F=function(ve){return k[ve]},ne="(?:"+bt(k).join("|")+")",se=RegExp(ne),we=RegExp(ne,"g");return function(ve){return ve=ve==null?"":""+ve,se.test(ve)?ve.replace(we,F):ve}}const Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},We=re(Ee),qe=Sr(Ee),Pt=re(qe),Dt=j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var or=/(.)^/,Kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Rn=/\\|'|\r|\n|\u2028|\u2029/g;function Di(k){return"\\"+Kt[k]}var ai=/^\s*(\w|\$)+\s*$/;function si(k,F,ne){!F&&ne&&(F=ne),F=Dn({},F,j.templateSettings);var se=RegExp([(F.escape||or).source,(F.interpolate||or).source,(F.evaluate||or).source].join("|")+"|$","g"),we=0,ve="__p+='";k.replace(se,function(Ot,Nr,en,Vu,zl){return ve+=k.slice(we,zl).replace(Rn,Di),we=zl+Ot.length,Nr?ve+=`'+
((__t=(`+Nr+`))==null?'':_.escape(__t))+
'`:en?ve+=`'+
((__t=(`+en+`))==null?'':__t)+
'`:Vu&&(ve+=`';
`+Vu+`
__p+='`),Ot}),ve+=`';
`;var $e=F.variable;if($e){if(!ai.test($e))throw new Error("variable is not a bare identifier: "+$e)}else ve=`with(obj||{}){
`+ve+`}
`,$e="obj";ve=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ve+`return __p;
`;var Xe;try{Xe=new Function($e,"_",ve)}catch(Ot){throw Ot.source=ve,Ot}var Et=function(Ot){return Xe.call(this,Ot,j)};return Et.source="function("+$e+`){
`+ve+"}",Et}function li(k,F,ne){F=yn(F);var se=F.length;if(!se)return ge(ne)?ne.call(k):ne;for(var we=0;we<se;we++){var ve=k==null?void 0:k[F[we]];ve===void 0&&(ve=ne,we=se),k=ge(ve)?ve.call(k):ve}return k}var Ta=0;function Li(k){var F=++Ta+"";return k?k+F:F}function ji(k){var F=j(k);return F._chain=!0,F}function ci(k,F,ne,se,we){if(!(se instanceof F))return k.apply(ne,we);var ve=Or(k.prototype),$e=k.apply(ve,we);return G($e)?$e:ve}var Uo=ee(function(k,F){var ne=Uo.placeholder,se=function(){for(var we=0,ve=F.length,$e=Array(ve),Xe=0;Xe<ve;Xe++)$e[Xe]=F[Xe]===ne?arguments[we++]:F[Xe];for(;we<arguments.length;)$e.push(arguments[we++]);return ci(k,se,this,this,$e)};return se});Uo.placeholder=j;const ko=Uo,Ri=ee(function(k,F,ne){if(!ge(k))throw new TypeError("Bind must be called on a function");var se=ee(function(we){return ci(k,se,F,this,ne.concat(we))});return se}),Mr=A(fe);function jr(k,F,ne,se){if(se=se||[],!F&&F!==0)F=1/0;else if(F<=0)return se.concat(k);for(var we=se.length,ve=0,$e=fe(k);ve<$e;ve++){var Xe=k[ve];if(Mr(Xe)&&(ae(Xe)||Ie(Xe)))if(F>1)jr(Xe,F-1,ne,se),we=se.length;else for(var Et=0,Ot=Xe.length;Et<Ot;)se[we++]=Xe[Et++];else ne||(se[we++]=Xe)}return se}const Ea=ee(function(k,F){F=jr(F,!1,!1);var ne=F.length;if(ne<1)throw new Error("bindAll must be passed function names");for(;ne--;){var se=F[ne];k[se]=Ri(k[se],k)}return k});function eo(k,F){var ne=function(se){var we=ne.cache,ve=""+(F?F.apply(this,arguments):se);return Se(we,ve)||(we[ve]=k.apply(this,arguments)),we[ve]};return ne.cache={},ne}const Ao=ee(function(k,F,ne){return setTimeout(function(){return k.apply(null,ne)},F)}),un=ko(Ao,j,1);function Rr(k,F,ne){var se,we,ve,$e,Xe=0;ne||(ne={});var Et=function(){Xe=ne.leading===!1?0:R(),se=null,$e=k.apply(we,ve),se||(we=ve=null)},Ot=function(){var Nr=R();!Xe&&ne.leading===!1&&(Xe=Nr);var en=F-(Nr-Xe);return we=this,ve=arguments,en<=0||en>F?(se&&(clearTimeout(se),se=null),Xe=Nr,$e=k.apply(we,ve),se||(we=ve=null)):!se&&ne.trailing!==!1&&(se=setTimeout(Et,en)),$e};return Ot.cancel=function(){clearTimeout(se),Xe=0,se=we=ve=null},Ot}function vs(k,F,ne){var se,we,ve,$e,Xe,Et=function(){var Nr=R()-we;F>Nr?se=setTimeout(Et,F-Nr):(se=null,ne||($e=k.apply(Xe,ve)),se||(ve=Xe=null))},Ot=ee(function(Nr){return Xe=this,ve=Nr,we=R(),se||(se=setTimeout(Et,F),ne&&($e=k.apply(Xe,ve))),$e});return Ot.cancel=function(){clearTimeout(se),se=ve=Xe=null},Ot}function Mo(k,F){return ko(F,k)}function to(k){return function(){return!k.apply(this,arguments)}}function ui(){var k=arguments,F=k.length-1;return function(){for(var ne=F,se=k[F].apply(this,arguments);ne--;)se=k[ne].call(this,se);return se}}function ro(k,F){return function(){if(--k<1)return F.apply(this,arguments)}}function no(k,F){var ne;return function(){return--k>0&&(ne=F.apply(this,arguments)),k<=1&&(F=null),ne}}const Pa=ko(no,2);function Ni(k,F,ne){F=Yt(F,ne);for(var se=bt(k),we,ve=0,$e=se.length;ve<$e;ve++)if(we=se[ve],F(k[we],we,k))return we}function fi(k){return function(F,ne,se){ne=Yt(ne,se);for(var we=fe(F),ve=k>0?0:we-1;ve>=0&&ve<we;ve+=k)if(ne(F[ve],ve,F))return ve;return-1}}const go=fi(1),di=fi(-1);function Vo(k,F,ne,se){ne=Yt(ne,se,1);for(var we=ne(F),ve=0,$e=fe(k);ve<$e;){var Xe=Math.floor((ve+$e)/2);ne(k[Xe])<we?ve=Xe+1:$e=Xe}return ve}function vt(k,F,ne){return function(se,we,ve){var $e=0,Xe=fe(se);if(typeof ve=="number")k>0?$e=ve>=0?ve:Math.max(ve+Xe,$e):Xe=ve>=0?Math.min(ve+1,Xe):ve+Xe+1;else if(ne&&ve&&Xe)return ve=ne(se,we),se[ve]===we?ve:-1;if(we!==we)return ve=F(d.call(se,$e,Xe),dt),ve>=0?ve+$e:-1;for(ve=k>0?$e:Xe-1;ve>=0&&ve<Xe;ve+=k)if(se[ve]===we)return ve;return-1}}const ht=vt(1,go,Vo),Ht=vt(-1,di);function xt(k,F,ne){var se=Mr(k)?go:Ni,we=se(k,F,ne);if(we!==void 0&&we!==-1)return k[we]}function lr(k,F){return xt(k,ct(F))}function Vr(k,F,ne){F=sr(F,ne);var se,we;if(Mr(k))for(se=0,we=k.length;se<we;se++)F(k[se],se,k);else{var ve=bt(k);for(se=0,we=ve.length;se<we;se++)F(k[ve[se]],ve[se],k)}return k}function fn(k,F,ne){F=Yt(F,ne);for(var se=!Mr(k)&&bt(k),we=(se||k).length,ve=Array(we),$e=0;$e<we;$e++){var Xe=se?se[$e]:$e;ve[$e]=F(k[Xe],Xe,k)}return ve}function mo(k){var F=function(ne,se,we,ve){var $e=!Mr(ne)&&bt(ne),Xe=($e||ne).length,Et=k>0?0:Xe-1;for(ve||(we=ne[$e?$e[Et]:Et],Et+=k);Et>=0&&Et<Xe;Et+=k){var Ot=$e?$e[Et]:Et;we=se(we,ne[Ot],Ot,ne)}return we};return function(ne,se,we,ve){var $e=arguments.length>=3;return F(ne,sr(se,ve,4),we,$e)}}const _n=mo(1),bn=mo(-1);function Nn(k,F,ne){var se=[];return F=Yt(F,ne),Vr(k,function(we,ve,$e){F(we,ve,$e)&&se.push(we)}),se}function yo(k,F,ne){return Nn(k,to(Yt(F)),ne)}function pi(k,F,ne){F=Yt(F,ne);for(var se=!Mr(k)&&bt(k),we=(se||k).length,ve=0;ve<we;ve++){var $e=se?se[ve]:ve;if(!F(k[$e],$e,k))return!1}return!0}function Fi(k,F,ne){F=Yt(F,ne);for(var se=!Mr(k)&&bt(k),we=(se||k).length,ve=0;ve<we;ve++){var $e=se?se[ve]:ve;if(F(k[$e],$e,k))return!0}return!1}function zr(k,F,ne,se){return Mr(k)||(k=St(k)),(typeof ne!="number"||se)&&(ne=0),ht(k,F,ne)>=0}const bu=ee(function(k,F,ne){var se,we;return ge(F)?we=F:(F=yn(F),se=F.slice(0,-1),F=F[F.length-1]),fn(k,function(ve){var $e=we;if(!$e){if(se&&se.length&&(ve=kr(ve,se)),ve==null)return;$e=ve[F]}return $e==null?$e:$e.apply(ve,ne)})});function gs(k,F){return fn(k,Hr(F))}function wu(k,F){return Nn(k,ct(F))}function Ll(k,F,ne){var se=-1/0,we=-1/0,ve,$e;if(F==null||typeof F=="number"&&typeof k[0]!="object"&&k!=null){k=Mr(k)?k:St(k);for(var Xe=0,Et=k.length;Xe<Et;Xe++)ve=k[Xe],ve!=null&&ve>se&&(se=ve)}else F=Yt(F,ne),Vr(k,function(Ot,Nr,en){$e=F(Ot,Nr,en),($e>we||$e===-1/0&&se===-1/0)&&(se=Ot,we=$e)});return se}function jl(k,F,ne){var se=1/0,we=1/0,ve,$e;if(F==null||typeof F=="number"&&typeof k[0]!="object"&&k!=null){k=Mr(k)?k:St(k);for(var Xe=0,Et=k.length;Xe<Et;Xe++)ve=k[Xe],ve!=null&&ve<se&&(se=ve)}else F=Yt(F,ne),Vr(k,function(Ot,Nr,en){$e=F(Ot,Nr,en),($e<we||$e===1/0&&se===1/0)&&(se=Ot,we=$e)});return se}function ms(k,F,ne){if(F==null||ne)return Mr(k)||(k=St(k)),k[Qn(k.length-1)];var se=Mr(k)?Qr(k):St(k),we=fe(se);F=Math.max(Math.min(F,we),0);for(var ve=we-1,$e=0;$e<F;$e++){var Xe=Qn($e,ve),Et=se[$e];se[$e]=se[Xe],se[Xe]=Et}return se.slice(0,F)}function xu(k){return ms(k,1/0)}function Cu(k,F,ne){var se=0;return F=Yt(F,ne),gs(fn(k,function(we,ve,$e){return{value:we,index:se++,criteria:F(we,ve,$e)}}).sort(function(we,ve){var $e=we.criteria,Xe=ve.criteria;if($e!==Xe){if($e>Xe||$e===void 0)return 1;if($e<Xe||Xe===void 0)return-1}return we.index-ve.index}),"value")}function ys(k,F){return function(ne,se,we){var ve=F?[[],[]]:{};return se=Yt(se,we),Vr(ne,function($e,Xe){var Et=se($e,Xe,ne);k(ve,$e,Et)}),ve}}const Su=ys(function(k,F,ne){Se(k,ne)?k[ne].push(F):k[ne]=[F]}),Rl=ys(function(k,F,ne){k[ne]=F}),Ou=ys(function(k,F,ne){Se(k,ne)?k[ne]++:k[ne]=1}),Nl=ys(function(k,F,ne){k[ne?0:1].push(F)},!0);var _s=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function hi(k){return k?ae(k)?d.call(k):X(k)?k.match(_s):Mr(k)?fn(k,Wt):St(k):[]}function Tu(k){return k==null?0:Mr(k)?k.length:bt(k).length}function Np(k,F,ne){return F in ne}const Fl=ee(function(k,F){var ne={},se=F[0];if(k==null)return ne;ge(se)?(F.length>1&&(se=sr(se,F[1])),F=Qe(k)):(se=Np,F=jr(F,!1,!1),k=Object(k));for(var we=0,ve=F.length;we<ve;we++){var $e=F[we],Xe=k[$e];se(Xe,$e,k)&&(ne[$e]=Xe)}return ne}),Bi=ee(function(k,F){var ne=F[0],se;return ge(ne)?(ne=to(ne),F.length>1&&(se=F[1])):(F=fn(jr(F,!1,!1),String),ne=function(we,ve){return!zr(F,ve)}),Fl(k,ne,se)});function _r(k,F,ne){return d.call(k,0,Math.max(0,k.length-(F==null||ne?1:F)))}function Hi(k,F,ne){return k==null||k.length<1?F==null||ne?void 0:[]:F==null||ne?k[0]:_r(k,k.length-F)}function zo(k,F,ne){return d.call(k,F==null||ne?1:F)}function Ui(k,F,ne){return k==null||k.length<1?F==null||ne?void 0:[]:F==null||ne?k[k.length-1]:zo(k,Math.max(0,k.length-F))}function Eu(k){return Nn(k,Boolean)}function Bl(k,F){return jr(k,F,!1)}const Hl=ee(function(k,F){return F=jr(F,!0,!0),Nn(k,function(ne){return!zr(F,ne)})}),bs=ee(function(k,F){return Hl(k,F)});function zi(k,F,ne,se){$(F)||(se=ne,ne=F,F=!1),ne!=null&&(ne=Yt(ne,se));for(var we=[],ve=[],$e=0,Xe=fe(k);$e<Xe;$e++){var Et=k[$e],Ot=ne?ne(Et,$e,k):Et;F&&!ne?((!$e||ve!==Ot)&&we.push(Et),ve=Ot):ne?zr(ve,Ot)||(ve.push(Ot),we.push(Et)):zr(we,Et)||we.push(Et)}return we}const Pu=ee(function(k){return zi(jr(k,!0,!0))});function ku(k){for(var F=[],ne=arguments.length,se=0,we=fe(k);se<we;se++){var ve=k[se];if(!zr(F,ve)){var $e;for($e=1;$e<ne&&zr(arguments[$e],ve);$e++);$e===ne&&F.push(ve)}}return F}function Wi(k){for(var F=k&&Ll(k,fe).length||0,ne=Array(F),se=0;se<F;se++)ne[se]=gs(k,se);return ne}const Ul=ee(Wi);function Au(k,F){for(var ne={},se=0,we=fe(k);se<we;se++)F?ne[k[se]]=F[se]:ne[k[se][0]]=k[se][1];return ne}function qi(k,F,ne){F==null&&(F=k||0,k=0),ne||(ne=F<k?-1:1);for(var se=Math.max(Math.ceil((F-k)/ne),0),we=Array(se),ve=0;ve<se;ve++,k+=ne)we[ve]=k;return we}function _o(k,F){if(F==null||F<1)return[];for(var ne=[],se=0,we=k.length;se<we;)ne.push(d.call(k,se,se+=F));return ne}function Ki(k,F){return k._chain?j(F).chain():F}function ka(k){return Vr(rr(k),function(F){var ne=j[F]=k[F];j.prototype[F]=function(){var se=[this._wrapped];return f.apply(se,arguments),Ki(this,ne.apply(j,se))}}),j}Vr(["pop","push","reverse","shift","sort","splice","unshift"],function(k){var F=s[k];j.prototype[k]=function(){var ne=this._wrapped;return ne!=null&&(F.apply(ne,arguments),(k==="shift"||k==="splice")&&ne.length===0&&delete ne[0]),Ki(this,ne)}}),Vr(["concat","join","slice"],function(k){var F=s[k];j.prototype[k]=function(){var ne=this._wrapped;return ne!=null&&(ne=F.apply(ne,arguments)),Ki(this,ne)}});const Mu=j;var Fn=ka(t);Fn._=Fn;const vi=Fn}},e0={};function Ut(o){var r=e0[o];if(r!==void 0)return r.exports;var e=e0[o]={exports:{}};return qO[o].call(e.exports,e,e.exports,Ut),e.exports}Ut.n=o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return Ut.d(r,{a:r}),r};Ut.d=(o,r)=>{for(var e in r)Ut.o(r,e)&&!Ut.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:r[e]})};Ut.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Ut.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r);Ut.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var cp={};Ut.d(cp,{Ay:()=>v6,I0:()=>Px,nu:()=>Ex});var L=Ut(5706),Le=Ut(9195);function Kn(o){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];var t=o.raw;return t.reduce(function(n,i,s){var l=r[s-1],u=t[s-1];return Array.isArray(l)?l=l.join(""):u&&u.slice(-1)==="$"?n=n.slice(0,-1):l=(0,Le.escape)(l),n+l+i})}var KO=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const GO=KO;var zf=Ut(4193),ZO=Ut.n(zf),Xr=Ut(6411);const XO=function(o){var r=o.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var e=r.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var i=this.get(0);return i&&i.focus(),this},e.bind=function(i,s){return this.on(i,s)},e.unbind=function(i,s){if((0,L.isObject)(i)){for(var l in i)i.hasOwnProperty(l)&&this.off(l,i[l]);return this}else return this.off(i,s)},e.click=function(i){return i?this.on("click",i):this.trigger("click")},e.change=function(i){return i?this.on("change",i):this.trigger("change")},e.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},e.delegate=function(i,s,l,u){return u||(u=l),this.on(s,i,function(f){f.data=l,u(f)})},e.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageXOffset:i.scrollLeft||0},e.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageYOffset:i.scrollTop||0};var t=r.prototype.offset;e.offset=function(i){var s,l;return i&&(s=i.top,l=i.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof l<"u"&&this.css("left","".concat(l,"px")),t.call(this)},r.map=function(i,s){for(var l=[],u=0;u<i.length;u++)l.push(s(i[u],u));return l};var n=Array.prototype.indexOf;r.inArray=function(i,s,l){return s==null?-1:n.call(s,i,l)},r.Event=function(i,s){if(!(this instanceof r.Event))return new r.Event(i,s);this.type=i,this.isDefaultPrevented=function(){return!1}}}};var Ge=Ut(1749),zw=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),YO=function(o){zw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Ge.Kx),JO=function(o){zw(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getByComponent=function(e){var t=this;return this.filter(function(n){return t.getComponent(n)===e})[0]},r.prototype.addComponent=function(e,t){var n=this,i=((0,L.isArray)(e)?e:[e]).filter(function(s){return!n.hasComponent(s)}).map(function(s){return new YO({component:s})})[0];return this.push(i,t)},r.prototype.getComponent=function(e){return e.get("component")},r.prototype.hasComponent=function(e){var t=this.getByComponent(e);return t&&this.contains(t)},r.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},r.prototype.allComponents=function(){var e=this;return this.map(function(t){return e.getComponent(t)}).filter(function(t){return t})},r.prototype.removeComponent=function(e,t){var n=this,i=((0,L.isArray)(e)?e:[e]).map(function(s){return n.getByComponent(s)});return this.remove(i,t)},r}(Ge.pM);const QO=JO;var eT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dv=function(){return Dv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Dv.apply(this,arguments)},tT=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Ww=function(){function o(r,e,t){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=e;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,L.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],s=i===!0?{}:i||{};s.pStylePrefix=r.config.pStylePrefix||"",!(0,L.isUndefined)(i)&&!i&&(s._disable=1),s.em=r,this._config=(0,Le.deepMerge)(t||{},s)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(r){},o.prototype.postLoad=function(r){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return r?this.config[r]:this.config},o.prototype.__logWarn=function(r,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),e)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var r,e,t;(r=this.view)===null||r===void 0||r.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(t=this.state)===null||t===void 0||t.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},o.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var e=(0,L.isElement)(r)?r:document.querySelector(r);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},o}();const Xn=Ww;var Vi=function(o){eT(r,o);function r(e,t,n,i,s,l){l===void 0&&(l={});var u=o.call(this,e,t,s)||this;return u.cls=[],u.private=!1,u.all=n,u.events=i,!l.skipListen&&u.__initListen(),u}return r.prototype.postLoad=function(e){},r.prototype.render=function(e){},r.prototype.getProjectData=function(e){var t={},n=this.storageKey;return n&&(t[n]=e||this.getAll()),t},r.prototype.loadProjectData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.all,i=t.onResult,s=t.reset,l=this.storageKey,u={action:"load"},f=n||this.all,d=e[l];if(typeof d=="string")try{d=JSON.parse(d)}catch{this.__logWarn("Data parsing failed",{input:d})}return s&&d&&f.reset(void 0,u),i?d&&i(d,u):d&&(0,Le.isDef)(d.length)&&f.reset(d,u),d},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.all;return t&&t.reset(void 0,e),this},r.prototype.getAll=function(){return tT([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(e,t){return e[t.get(t.idAttribute)]=t,e},{})},r.prototype.__initListen=function(e){e===void 0&&(e={});var t=this,n=t.all,i=t.em,s=t.events;n&&i&&n.on("add",function(l,u,f){return i.trigger(s.add,l,f)}).on("remove",function(l,u,f){return i.trigger(s.remove,l,f)}).on("change",function(l,u){return i.trigger(s.update,l,l.changedAttributes(),u)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(e.collections||[]),(e.propagate||[]).forEach(function(l){var u=l.entity,f=l.event;u.on("all",function(d,v,m,y){var b=y||m,w=Dv({event:d},b);[i,n].map(function(x){return x.trigger(f,v,w)})})})},r.prototype.__remove=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=(0,L.isString)(e)?this.get(e):e,l=function(){return s&&n.all.remove(s,t),s};return!t.silent&&(i==null||i.trigger(this.events.removeBefore,s,l,t)),!t.abort&&l()},r.prototype.__catchAllEvent=function(e,t,n,i){var s=this,l=s.em,u=s.events,f=i||n;l&&u.all&&l.trigger(u.all,{event:e,model:t,options:f}),this.__onAllEvent()},r.prototype.__appendTo=function(e){var t=this.config.appendTo;if(t){var n=(0,L.isElement)(t)?t:document.querySelector(t);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(e))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(e){e===void 0&&(e=16);var t=this.getAll(),n=t.length+e,i=this.getAllMap(),s;do s=(0,Le.createId)(n);while(i[s]);return s},r.prototype.__listenAdd=function(e,t){var n=this;e.on("add",function(i,s,l){return n.em.trigger(t,i,l)})},r.prototype.__listenRemove=function(e,t){var n=this;e.on("remove",function(i,s,l){return n.em.trigger(t,i,l)})},r.prototype.__listenUpdate=function(e,t){var n=this;e.on("change",function(i,s){return n.em.trigger(t,i,i.changedAttributes(),s)})},r.prototype.__destroy=function(){var e;this.cls.forEach(function(t){t.stopListening(),t.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},r}(Ww),rT=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const nT=rT;var Ca=Ut(3023),oT=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const iT=oT;var aT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sT=function(o){aT(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var t=["width","height","widthMedia"];t.forEach(function(n){return e.checkUnit(n)})},r.prototype.checkUnit=function(e){var t=this.get(e)||"",n=(parseFloat(t)||0).toString()===t.toString();n&&this.set(e,"".concat(t,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}(Ge.Kx);const qw=sT;var lT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kw=function(o){lT(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Ge.pM);const t0=Kw;Kw.prototype.model=qw;var cT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uT=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},fT=function(o){cT(r,o);function r(e){var t=o.call(this,e)||this;return t.config=e.config||{},t.em=t.config.em,t.ppfx=t.config.pStylePrefix||"",t.listenTo(t.em,"change:device",t.updateSelect),t}return r.prototype.template=function(e){var t=e.ppfx,n=e.label;return Kn(r0||(r0=uT([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),t,n,t,t,t,t,t,t,t)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var e=this.em;if(e){var t=this.devicesEl;e.set("device",t?t.val():"")}},r.prototype.updateSelect=function(){var e=this,t=e.em,n=e.devicesEl;if(t&&t.getDeviceModel&&n){var i=t.getDeviceModel();n.val(i?i.get("id"):"")}},r.prototype.getOptions=function(){var e=this,t=e.collection,n=e.em,i="";return t.forEach(function(s){var l=s.attributes,u=l.name,f=l.id,d=n&&n.t&&n.t("deviceManager.devices.".concat(f))||u;i+='<option value="'.concat(f||u,'">').concat(d,"</option>")}),i},r.prototype.render=function(){var e=this,t=e.em,n=e.ppfx,i=e.$el,s=e.el,l=t&&t.t&&t.t("deviceManager.device");return i.html(this.template({ppfx:n,label:l})),this.devicesEl=i.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(t.get("device")),s.className="".concat(n,"devices-c"),this},r}(Ge.Ss);const dT=fT;var r0,pT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hc=function(){return Hc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Hc.apply(this,arguments)},Gw="device",up="".concat(Gw,":"),hT="".concat(up,"select"),Zw="".concat(up,"update"),vT="".concat(up,"add"),Xw="".concat(up,"remove"),gT="".concat(Xw,":before"),mT="change:device",yT={all:Gw,select:hT,update:Zw,add:vT,remove:Xw,removeBefore:gT},_T=function(o){pT(r,o);function r(e){var t,n=o.call(this,e,"DeviceManager",new t0,yT,iT())||this;return n.Device=qw,n.Devices=t0,n.storageKey="",n.devices=n.all,(t=n.config.devices)===null||t===void 0||t.forEach(function(i){return n.add(i,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),e.on(mT,n._onSelect,n),n}return r.prototype._onSelect=function(e,t,n){var i=this,s=i.em,l=i.events,u=e.previous("device"),f=this.get(t),d=l.select;s.trigger(d,f,this.get(u)),this.__catchAllEvent(d,f,n)},r.prototype.add=function(e,t){t===void 0&&(t={});var n,i=t;if((0,L.isString)(e)){var s=t;i=arguments[2]||{},n=Hc(Hc({},i),{id:e,name:i.name||e,width:s})}else n=e;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,i)},r.prototype.get=function(e){var t=this.getAll().filter(function(n){return n.get("name")===e})[0];return t||this.devices.get(e)||null},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(e,t){t===void 0&&(t={});var n=(0,L.isString)(e)?this.get(e):e;return n&&this.em.set("device",n.get("id"),t),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var e,t=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new dT({collection:this.devices,config:Hc({em:t},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(Vi);const bT=_T;var Lv;(function(o){o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page"})(Lv||(Lv={}));const jv=Lv;var wT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xT=function(o){wT(r,o);function r(e,t,n){return o.call(this,t,{module:e,modelConstructor:n})||this}return r.prototype.add=function(e,t){var n=this,i,s=(0,L.isArray)(e)?e:(0,L.isUndefined)(e)?void 0:[e];return s=(i=s==null?void 0:s.map(function(l){return l instanceof n.newModel?l:new n.newModel(n.module,l)}))!==null&&i!==void 0?i:[void 0],o.prototype.add.call(this,(0,L.isArray)(e)?s:s[0],t)},r.prototype.preinitialize=function(e,t){this.newModel=t.modelConstructor,this.module=t.module},r}(Ge.pM);const fp=xT;var CT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rv=function(){return Rv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Rv.apply(this,arguments)},n0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},o0="__aw",i0="__ah",a0=function(o,r){var e,t=o.get(r),n=(e=o.view)===null||e===void 0?void 0:e.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,L.isNumber)(t)?t:(0,L.isString)(t)&&t.endsWith("px")?parseFloat(t):n||0},ST=function(o){CT(r,o);function r(e,t){var n=o.call(this,e,t)||this,i=n.em,s=n.attributes,l=s.styles,u=s.component,f=i.Components,d=f.getConfig(),v=i.Css.getAll(),m={},y={em:i,config:d,frame:n,idMap:m};if(!(0,Le.isComponent)(u)){var b=(0,Le.isObject)(u)?u:{components:u};!b.type&&(b.type="wrapper");var w=f.getType("wrapper").model;n.set("component",new w(b,y))}if(!l)n.set("styles",v);else if(!(0,Le.isObject)(l)){var x=l;(0,L.keys)(m).length&&(x=(0,L.isString)(x)?i.Parser.parseCss(x):x,i.Css.checkId(x,{idMap:m})),v.add(x),n.set("styles",v)}return!t.width&&n.set(o0,1),!t.height&&n.set(i0,1),!n.id&&n.set("id",(0,Le.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return a0(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return a0(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var e=this.refFrame;return(e==null?void 0:e.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var e=this.refFrame;if((0,L.isString)(e)){var t=this.module.framesById[e];t&&this.set({refFrame:t},{silent:!0})}},r.prototype.getBoxRect=function(){var e=this.attributes,t=e.x,n=e.y,i=this,s=i.width,l=i.height;return{x:t,y:n,width:s,height:l}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var t=this.collection;return t&&t.remove(this)},r.prototype.getHead=function(){return n0([],this.head,!0)},r.prototype.setHead=function(e){return this.set("head",n0([],e,!0))},r.prototype.addHeadItem=function(e){this.head.push(e)},r.prototype.getHeadByAttr=function(e,t,n){return this.head.filter(function(i){return i.attributes&&i.attributes[e]==t&&(!n||n===i.tag)})[0]},r.prototype.removeHeadByAttr=function(e,t,n){var i=this.getHeadByAttr(e,t,n),s=this.head.indexOf(i);s>=0&&this.head.splice(s,1)},r.prototype.addLink=function(e){var t="link";!this.getHeadByAttr("href",e,t)&&this.addHeadItem({tag:t,attributes:{href:e,rel:"stylesheet"}})},r.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},r.prototype.addScript=function(e){var t="script";!this.getHeadByAttr("src",e,t)&&this.addHeadItem({tag:t,attributes:{src:e}})},r.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},r.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},r.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",Rv({frame:this},e))},r.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=Ca.A.prototype.toJSON.call(this,e),n=(0,L.result)(this,"defaults");return e.fromUndo&&delete t.component,delete t.styles,delete t.changesCount,t[o0]&&delete t.width,t[i0]&&delete t.height,t.refFrame&&(t.refFrame=t.refFrame.id,delete t.component),(0,L.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,L.forEach)(n,function(i,s){t[s]===i&&delete t[s]}),(0,L.forEach)(["attributes","head"],function(i){(0,L.isEmpty)(t[i])&&delete t[i]}),t},r}(Ca.A);const Yw=ST;var OT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),TT=function(o){OT(r,o);function r(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,Yw)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,L.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(i){return n.onAdd(i)}),n}return r.prototype.onAdd=function(e){this.module.framesById[e.id]=e},r.prototype.onReset=function(e,t){var n=this,i=(t==null?void 0:t.previousModels)||[];i.map(function(s){return n.onRemove(s)})},r.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},r.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(e){var t=this;this.forEach(function(n){return n[e?"on":"off"]("loaded",t.itemLoaded)})},r}(fp);const Jw=TT;var ET=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PT=function(o){ET(r,o);function r(e){var t=this,n=e.em,i=e.config,s=i.scripts,l=i.styles;return t=o.call(this,e,{scripts:s,styles:l})||this,t.set("frames",new Jw(e)),t.on("change:zoom",t.onZoomChange),t.on("change:x change:y",t.onCoordsChange),t.on("change:pointer change:pointerScreen",t.onPointerChange),t.listenTo(n,"change:device ".concat(Zw),t.updateDevice),t.listenTo(n,jv.select,t._pageUpdated),t}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:Ge.lK,pointerScreen:Ge.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var e=this.em,t=e.Pages._initPage();this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype._pageUpdated=function(e,t){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),t==null||t.getFrames().map(function(i){return i.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype.updateDevice=function(e){e===void 0&&(e={});var t=this.em,n=t.getDeviceModel(),i=e.frame||t.getCurrentFrameModel();if(i&&n){var s=n.attributes,l=s.width,u=s.height;i.set({width:l,height:u},{noUndo:1})}},r.prototype.onZoomChange=function(){var e=this,t=e.em,n=e.module,i=this.get("zoom");i<1&&this.set("zoom",1),t.trigger(n.events.zoom)},r.prototype.onCoordsChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var e=this,t=e.em,n=e.module;t.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(e){e===void 0&&(e=Ge.x2.World);var t=this.attributes,n=t.pointer,i=t.pointerScreen;return e===Ge.x2.World?n:i},r}(Ca.A);const kT=PT;var Oo=Ut(2820),xr=Ut(3172),AT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MT=function(o){AT(r,o);function r(e,t){t===void 0&&(t=[]);var n=o.call(this,e,t,Oo.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var i=n.em;n.refreshDbn=(0,L.debounce)(function(){return n.refresh()},0);var s="component:resize styleable:change component:input ".concat(xr.I.update," frame:updated undo redo");return n.listenTo(i,s,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.spot)},r.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},r.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},r.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},r.prototype.__trgEvent=function(e,t){var n=this.module,i=n.em;i.trigger(e,t),this.refreshDbn()},r}(fp);const VT=MT;var Wf;(function(o){o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body"})(Wf||(Wf={}));const Lf=Wf;var IT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$T=function(o){IT(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var e,t;return(t=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&t!==void 0?t:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(e){this.className=""},r}(Ge.Ss);const To=$T;var et=Ut(2097),DT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),LT=function(o){DT(r,o);function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1);var n=o.call(this,e)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],t&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(e){this.add(e)},r.prototype.itemViewNotFound=function(e){},r.prototype.add=function(e,t){var n=this,i=n.reuseView,s=n.viewCollection,l=t||null,u=e.get(this.itemType),f;e.view&&i?f=e.view:f=this.renderView(e,u),s.push(f);var d=f.render().el;l?l.appendChild(d):this.$el.append(d)},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return e.add(n,t)}),this.$el.append(t),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(e,t){},r.prototype.onRemove=function(e,t){},r.prototype.remove=function(e){e===void 0&&(e={});var t=this.viewCollection;return this.onRemoveBefore(t,e),this.clearItems(),Ge.Ss.prototype.remove.apply(this,e),this.onRemove(t,e),this},r.prototype.clearItems=function(){this.viewCollection},r}(To);const jT=LT;var RT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),NT=function(o){RT(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{};var n=t.model;return t.listenTo(n,"change",t.render),t.listenTo(n,"destroy remove",t.remove),t.listenTo(n.get("selectors"),"change",t.render),n.setView(t),t}return Object.defineProperty(r.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),r.prototype.remove=function(){return o.prototype.remove.call(this),this.model.removeView(this),this},r.prototype.updateStyles=function(){this.render()},r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var e=this,t=e.model,n=e.el,i=t.get("important");return n.innerHTML=t.toCSS({important:i}),this},r}(Ge.Ss);const Qw=NT;var FT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),BT=function(o){FT(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this.model,t=e.get("important");return this.el.textContent=e.getDeclaration({important:t}),this},r}(Qw);const HT=BT;var UT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Sh=function(o,r){return"".concat(o).concat(r?"-".concat(parseFloat(r)):"")},zT=function(o){UT(r,o);function r(e){var t=o.call(this,e)||this;(0,L.bindAll)(t,"sortRules");var n=e.config||{};t.atRules={},t.config=n,t.em=n.em,t.pfx=n.stylePrefix||"",t.className=t.pfx+"rules";var i=t.collection;return t.listenTo(i,"add",t.addTo),t.listenTo(i,"reset",t.render),t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){if(this.renderStarted){var n=t||null,i=this.config,s={model:e,config:i},l,u;if(e.get("atRuleType")==="keyframes"){var f=e.getAtRule(),d=this.atRules[f];if(!d){var v=document.createElement("style");d=document.createTextNode(""),v.appendChild(document.createTextNode("".concat(f,"{"))),v.appendChild(d),v.appendChild(document.createTextNode("}")),this.atRules[f]=d,l=v}u=new HT(s),d.appendData(u.render().el.textContent)}else u=new Qw(s),l=u.render().el;var m=this.className,y=e.get("mediaText"),b=Sh(m),w=b;if(y&&(w=Sh(m,this.getMediaWidth(y))),l){var x=n||this.el,O=void 0;try{O=x.querySelector("#".concat(w))}catch{}O||(O=x.querySelector("#".concat(b))),O==null||O.appendChild(l)}return l}},r.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(e,t){var n=this.em,i=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var s=i?e:t,l=i?t:e;return s-l},r.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var t=this,n=t.em,i=t.$el,s=t.collection,l=this.className,u=document.createDocumentFragment();i.empty();var f=n.Devices.getAll().pluck("priority").sort(this.sortRules);return f.every(function(d){return d})&&f.unshift(0),f.forEach(function(d){return u.appendChild((0,et.a_)("div",{id:Sh(l,d)}))}),s.each(function(d){return e.addToCollection(d,u)}),i.append(u),i.attr("class",l),this},r}(Ge.Ss);const e2=zT;var t2="text/html",WT=t2;const qT=function(o,r){r===void 0&&(r={});var e=new DOMParser,t=r.htmlType||WT,n=t===t2,i=n?o:"<div>".concat(o,"</div>"),s=e.parseFromString(i,t),l;if(n){if(r.asDocument)return s;var u=s.head,f=s.body,d=u.querySelectorAll("script");(0,L.each)(d,function(m){return f.appendChild(m)});var v=[];(0,L.each)(u.children,function(m){return v.push(m)}),(0,L.each)(v,function(m,y){return f.insertBefore(m,f.children[y])}),l=f}else l=s.firstChild;return l};var hl;(function(o){o.html="parse:html",o.htmlRoot="parse:html:root",o.css="parse:css",o.all="parse"})(hl||(hl={}));var Fo=function(){return Fo=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Fo.apply(this,arguments)},KT="data-gjs-",GT=function(o,r){return r===void 0&&(r={}),{compTypes:[],modelAttrStart:KT,getPropAttribute:function(e,t){var n=e.replace(this.modelAttrStart,""),i=(t==null?void 0:t.length)||0,s=t==null?void 0:t.substring(0,1),l=t==null?void 0:t.substring(i-1),u=t==="true"?!0:t==="false"?!1:t;try{u=s=="{"&&l=="}"||s=="["&&l=="]"?JSON.parse(u):u}catch{}return{name:n,value:u}},splitPropsFromAttr:function(e){var t=this;e===void 0&&(e={});var n={},i={};return(0,L.each)(e,function(s,l){if(l.indexOf(t.modelAttrStart)===0){var u=t.getPropAttribute(l,s);n[u.name]=u.value}else i[l]=s}),{props:n,attrs:i}},parseStyle:function(e){for(var t={};e.indexOf("/*")>=0;){var n=e.indexOf("/*"),i=e.indexOf("*/")+2;e=e.replace(e.slice(n,i),"")}for(var s=e.split(";"),l=0,u=s.length;l<u;l++){var f=s[l].trim();if(f){var d=f.split(":"),v=d[0].trim(),m=d.slice(1).join(":").trim();t[v]?((0,L.isArray)(t[v])||(t[v]=[t[v]]),t[v].push(m)):t[v]=m}}return t},parseClass:function(e){for(var t=[],n=e.split(" "),i=0,s=n.length;i<s;i++){var l=n[i].trim();l&&t.push(l)}return t},parseNodeAttr:function(e,t){for(var n=t||{},i=e.attributes||[],s=i.length,l=0;l<s;l++){var u=i[l].nodeName,f=i[l].nodeValue;if(u=="style")n.style=this.parseStyle(f);else if(u=="class")n.classes=this.parseClass(f);else{if(u=="contenteditable")continue;if(u.indexOf(this.modelAttrStart)===0){var d=this.getPropAttribute(u,f);n[d.name]=d.value}else f===""&&e[u]===!0&&(f=!0),n.attributes||(n.attributes={}),n.attributes[u]=f}}return n},detectNode:function(e,t){var n;t===void 0&&(t={});var i=this.compTypes,s={};if(i){var l=(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"".concat(this.modelAttrStart,"type"));if(l)s={type:l};else for(var u=0;u<i.length;u++){var f=i[u],d=f.model.isComponent(e,t);if(d){typeof d!="object"&&(d={type:f.id}),s=d;break}}}return s},parseNode:function(e,t){var n;t===void 0&&(t={});var i=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,s=i.length,l=this.detectNode(e,t);if(!l.tagName){var u=e.tagName||"",f=e.namespaceURI||"";l.tagName=u&&f==="http://www.w3.org/1999/xhtml"?u.toLowerCase():u}if(l=this.parseNodeAttr(e,l),!s&&"".concat(e.outerHTML).slice(-2)==="/>"&&(l.void=!0),s&&!l.components&&!t.skipChildren){var d=i[0];s===1&&d.nodeType===3?(!l.type&&(l.type="text"),l.components={type:"textnode",content:d.nodeValue}):l.components=this.parseNodes(e,Fo(Fo({},t),{inSvg:t.inSvg||l.type==="svg"}))}var v=l.components;if(!l.type&&(v!=null&&v.length)){for(var m=r.textTypes,y=m===void 0?[]:m,b=r.textTags,w=b===void 0?[]:b,x=!0,O=!1,M=0;M<v.length;M++){var T=v[M],E=T.type;if(!y.includes(E)&&!w.includes(T.tagName)){x=!1;break}E==="textnode"&&(O=!0)}x&&O&&(l.type="text")}return l},parseNodes:function(e,t){var n;t===void 0&&(t={});for(var i=[],s=((n=e.content)===null||n===void 0?void 0:n.childNodes)||e.childNodes,l=s.length,u=0;u<l;u++){var f=s[u],d=i[i.length-1],v=this.parseNode(f,t);if(v.type==="textnode"){if((d==null?void 0:d.type)==="textnode"){d.content+=v.content;continue}if(!t.keepEmptyTextNodes){var m=f.nodeValue||"",y=u===0||u===l-1,b=m.includes(`
`);if(m!=" "&&!m.trim()&&(y||b))continue}}!v.tagName&&(0,L.isUndefined)(v.content)||i.push(v)}return i},parse:function(e,t,n){var i,s,l,u,f;n===void 0&&(n={});var d=(o==null?void 0:o.get("Config"))||{},v={html:[]},m=Fo(Fo({},r),n),y=Fo(Fo(Fo({},r.optionsHtml),{htmlType:((i=r.optionsHtml)===null||i===void 0?void 0:i.htmlType)||r.htmlType}),n),b=Fo(Fo({},y),{asDocument:this.__checkAsDocument(e,y)}),w=b.preParser,x=b.asDocument,O=(0,L.isFunction)(w)?w(e,{editor:o==null?void 0:o.getEditor()}):e,M=(0,L.isFunction)(m.parserHtml)?m.parserHtml(O,b):qT(O,b),T=M,E=M;x&&(T=E.documentElement,v.doctype=(0,et.LJ)(E.doctype));var U=T.querySelectorAll("script"),Z=U.length,te=(0,L.isUndefined)(d.allowScripts)?b.allowScripts:d.allowScripts;if(!te)for(;Z--;)(s=U[Z].parentNode)===null||s===void 0||s.removeChild(U[Z]);if((!b.allowUnsafeAttr||!b.allowUnsafeAttrValue)&&this.__sanitizeNode(T,b),t){for(var ee=T.querySelectorAll("style"),G=ee.length,q="";G--;)q=ee[G].innerHTML+q,(l=ee[G].parentNode)===null||l===void 0||l.removeChild(ee[G]);q&&(v.css=t.parse(q))}(u=o==null?void 0:o.Parser)===null||u===void 0||u.__emitEvent(hl.htmlRoot,{input:O,root:T});var D=[];if(x)v.head=this.parseNode(E.head,m),v.root=this.parseNodeAttr(T),D=this.parseNode(E.body,m);else{var $=this.parseNodes(T,m);D=$.length===1&&!m.returnArray?$[0]:$}return v.html=D,(f=o==null?void 0:o.Parser)===null||f===void 0||f.__emitEvent(hl.html,{input:O,output:v,options:b}),v},__sanitizeNode:function(e,t){var n=this,i=e.attributes||[],s=e.childNodes||[],l=[];(0,L.each)(i,function(u){var f=u.nodeName||"",d=u.nodeValue||"";!t.allowUnsafeAttr&&f.startsWith("on")&&l.push(f),!t.allowUnsafeAttrValue&&d.startsWith("javascript:")&&l.push(f)}),l.map(function(u){return e.removeAttribute(u)}),(0,L.each)(s,function(u){return n.__sanitizeNode(u,t)})},__checkAsDocument:function(e,t){if((0,Le.isDef)(t.asDocument))return t.asDocument;if((0,L.isFunction)(t.detectDocument))return!!t.detectDocument(e);if(t.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}};const r2=GT;var ZT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),oi="data-variable",XT=function(o){ZT(r,o);function r(e,t){var n=o.call(this,e,t)||this;return n.em=t.em,n.listenToDataSource(),n}return r.prototype.defaults=function(){return{type:oi,defaultValue:"",path:""}},r.prototype.listenToDataSource=function(){var e=this.attributes.path,t=(0,Le.stringToPath)(e).join(".");this.em&&this.listenTo(this.em.DataSources,"change:".concat(t),this.onDataSourceChange)},r.prototype.onDataSourceChange=function(){var e=this.getDataValue();this.set({value:e})},r.prototype.getDataValue=function(){var e,t=this.attributes,n=t.path,i=t.defaultValue;if(!this.em)throw new Error("EditorModel instance is not provided for a data variable.");var s=(e=this.em)===null||e===void 0?void 0:e.DataSources.getValue(n,i);return s},r}(Ge.Kx);const ds=XT;var YT=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nv=function(){return Nv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Nv.apply(this,arguments)},JT=function(o){YT(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Nv({},o.prototype.defaults.call(this))},r}(ds);const QT=JT;var vl;(function(o){o.add="data:add",o.addBefore="data:add:before",o.remove="data:remove",o.removeBefore="data:remove:before",o.update="data:update",o.path="data:path",o.all="data"})(vl||(vl={}));function Uc(o){return typeof o=="object"&&[oi,ii].includes(o==null?void 0:o.type)}function eE(o){return o instanceof ds||o instanceof pp}function nu(o){return(o==null?void 0:o.type)===oi}function qf(o,r){return nu(o)?new ds(o,{em:r}).getDataValue():o}function tE(o,r){var e=o.type,t;switch(e){case oi:t=new ds(o,{em:r});break;case ii:{var n=o.condition,i=o.ifTrue,s=o.ifFalse;t=new pp(n,i,s,{em:r});break}default:throw new Error("Unsupported dynamic type: ".concat(e))}return t}function s0(o,r){var e=tE(o,r);return{variable:e,value:e.getDataValue()}}var rE=function(){function o(r,e,t){this.operator=r,this.statements=e,this.em=t.em}return o.prototype.evaluate=function(){var r=this,e=this.statements.map(function(t){var n=new n2(t,{em:r.em});return n.evaluate()});return this.operator.evaluate(e)},o}(),dp=function(){function o(){}return o}(),nE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fv;(function(o){o.equals="equals",o.isTruthy="isTruthy",o.isFalsy="isFalsy",o.isDefined="isDefined",o.isNull="isNull",o.isUndefined="isUndefined",o.isArray="isArray",o.isObject="isObject",o.isString="isString",o.isNumber="isNumber",o.isBoolean="isBoolean",o.isDefaultValue="isDefaultValue"})(Fv||(Fv={}));var oE=function(o){nE(r,o);function r(e){var t=o.call(this)||this;return t.operator=e,t}return r.prototype.evaluate=function(e,t){switch(this.operator){case"equals":return e===t;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof ds&&e.get("default")===t;default:throw new Error("Unsupported generic operator: ".concat(this.operator))}},r}(dp),iE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zc;(function(o){o.and="and",o.or="or",o.xor="xor"})(zc||(zc={}));var aE=function(o){iE(r,o);function r(e){var t=o.call(this)||this;return t.operator=e,t}return r.prototype.evaluate=function(e){if(!e.length)throw new Error("Expected one or more statments, got none");switch(this.operator){case zc.and:return e.every(Boolean);case zc.or:return e.some(Boolean);case zc.xor:return e.filter(Boolean).length===1;default:throw new Error("Unsupported logical operator: ".concat(this.operator))}},r}(dp),sE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ga;(function(o){o.greaterThan=">",o.lessThan="<",o.greaterThanOrEqual=">=",o.lessThanOrEqual="<=",o.equals="=",o.notEquals="!="})(ga||(ga={}));var lE=function(o){sE(r,o);function r(e){var t=o.call(this)||this;return t.operator=e,t}return r.prototype.evaluate=function(e,t){switch(this.operator){case ga.greaterThan:return e>t;case ga.lessThan:return e<t;case ga.greaterThanOrEqual:return e>=t;case ga.lessThanOrEqual:return e<=t;case ga.equals:return e===t;case ga.notEquals:return e!==t;default:throw new Error("Unsupported number operator: ".concat(this.operator))}},r}(dp),cE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ma;(function(o){o.contains="contains",o.startsWith="startsWith",o.endsWith="endsWith",o.matchesRegex="matchesRegex",o.equalsIgnoreCase="equalsIgnoreCase",o.trimEquals="trimEquals"})(ma||(ma={}));var uE=function(o){cE(r,o);function r(e){var t=o.call(this)||this;return t.operator=e,t}return r.prototype.evaluate=function(e,t){switch(this.operator){case ma.contains:return e.includes(t);case ma.startsWith:return e.startsWith(t);case ma.endsWith:return e.endsWith(t);case ma.matchesRegex:if(!t)throw new Error("Regex pattern must be provided.");return new RegExp(t).test(e);case ma.equalsIgnoreCase:return e.toLowerCase()===t.toLowerCase();case ma.trimEquals:return e.trim()===t.trim();default:throw new Error("Unsupported string operator: ".concat(this.operator))}},r}(dp),fE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),n2=function(o){fE(r,o);function r(e,t){var n=o.call(this,e)||this;return n.condition=e,n.em=t.em,n}return r.prototype.evaluate=function(){return this.evaluateCondition(this.condition)},r.prototype.evaluateCondition=function(e){if(typeof e=="boolean")return e;if(this.isLogicGroup(e)){var t=e.logicalOperator,n=e.statements,i=new aE(t),s=new rE(i,n,{em:this.em});return s.evaluate()}if(this.isExpression(e)){var l=e.left,i=e.operator,u=e.right,f=qf(l,this.em),d=qf(u,this.em),v=this.getOperator(f,i),m=v.evaluate(f,d);return m}throw new Error("Invalid condition type.")},r.prototype.getOperator=function(e,t){if(this.isOperatorInEnum(t,Fv))return new oE(t);if(typeof e=="number")return new lE(t);if(typeof e=="string")return new uE(t);throw new Error("Unsupported data type: ".concat(typeof e))},r.prototype.getDataVariables=function(){var e=[];return this.extractVariables(this.condition,e),e},r.prototype.extractVariables=function(e,t){var n=this;this.isExpression(e)?(nu(e.left)&&t.push(e.left),nu(e.right)&&t.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(i){return n.extractVariables(i,t)})},r.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},r.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},r.prototype.isOperatorInEnum=function(e,t){return Object.values(t).includes(e)},r}(Ge.Kx),o2=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ii="conditional-variable",pp=function(o){o2(r,o);function r(e,t,n,i){var s=this;if(typeof e>"u")throw new dE;var l=new n2(e,{em:i.em});return s=o.call(this,{type:ii,condition:l,ifTrue:t,ifFalse:n})||this,s.ifTrue=t,s.ifFalse=n,s.variableListeners=[],s.condition=l,s.em=i.em,s.lastEvaluationResult=s.evaluate(),s.listenToDataVariables(),s._onValueChange=i.onValueChange,s}return r.prototype.evaluate=function(){return this.condition.evaluate()},r.prototype.getDataValue=function(){return this.lastEvaluationResult?qf(this.ifTrue,this.em):qf(this.ifFalse,this.em)},r.prototype.reevaluate=function(){this.lastEvaluationResult=this.evaluate()},Object.defineProperty(r.prototype,"onValueChange",{set:function(e){this._onValueChange=e,this.listenToDataVariables()},enumerable:!1,configurable:!0}),r.prototype.listenToDataVariables=function(){var e=this;if(this.em){this.cleanupListeners();var t=this.getDependentDataVariables();t.forEach(function(n){var i=new ds(n,{em:e.em}),s=new hp({em:e.em,dataVariable:i,updateValueFromDataVariable:(function(){var l;e.reevaluate(),(l=e._onValueChange)===null||l===void 0||l.call(e)}).bind(e)});e.variableListeners.push(s)})}},r.prototype.getDependentDataVariables=function(){var e=this.condition.getDataVariables();return nu(this.ifTrue)&&e.push(this.ifTrue),nu(this.ifFalse)&&e.push(this.ifFalse),e},r.prototype.cleanupListeners=function(){this.variableListeners.forEach(function(e){return e.destroy()}),this.variableListeners=[]},r.prototype.toJSON=function(){return{type:ii,condition:this.condition,ifTrue:this.ifTrue,ifFalse:this.ifFalse}},r}(Ge.Kx),dE=function(o){o2(r,o);function r(){return o.call(this,"No condition was provided to a conditional component.")||this}return r}(Error),pE=function(){function o(r){var e=this;this.dataListeners=[],this.model=new Ge.Kx,this.onChange=function(){var t=e.dynamicVariable.getDataValue();e.updateValueFromDynamicVariable(t)},this.em=r.em,this.dynamicVariable=r.dataVariable,this.updateValueFromDynamicVariable=r.updateValueFromDataVariable,this.listenToDynamicVariable()}return o.prototype.listenToDynamicVariable=function(){var r=this,e=this,t=e.em,n=e.dynamicVariable;this.removeListeners();var i=n.get("type"),s=[];switch(i){case oi:s=this.listenToDataVariable(n,t);break;case ii:s=this.listenToConditionalVariable(n,t);break}s.forEach(function(l){return r.model.listenTo(l.obj,l.event,r.onChange)}),this.dataListeners=s},o.prototype.listenToConditionalVariable=function(r,e){var t=this,n=r.getDependentDataVariables().flatMap(function(i){return t.listenToDataVariable(new ds(i,{em:t.em}),e)});return n},o.prototype.listenToDataVariable=function(r,e){var t=[],n=r.attributes.path,i=(0,Le.stringToPath)(n||"").join("."),s=this.em.DataSources.fromPath(n),l=s[0],u=s[1];return l&&t.push({obj:l.records,event:"add remove reset"}),u&&t.push({obj:u,event:"change"}),t.push({obj:r,event:"change:path change:defaultValue"},{obj:e.DataSources.all,event:"add remove reset"},{obj:e,event:"".concat(vl.path,":").concat(i)}),t},o.prototype.removeListeners=function(){var r=this;this.dataListeners.forEach(function(e){return r.model.stopListening(e.obj,e.event,r.onChange)}),this.dataListeners=[]},o.prototype.destroy=function(){this.removeListeners()},o}();const hp=pE;var hE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ti=function(){return Ti=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ti.apply(this,arguments)},vE=r2(),Bv=function(o){return(0,L.isArray)(o)?o[o.length-1]:o},gE=function(o){hE(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this;return n.dynamicVariableListeners={},n.views=[],n.em=t.em,n}return r.prototype.parseStyle=function(e){return vE.parseStyle(e)},r.prototype.extendStyle=function(e){return Ti(Ti({},this.getStyle("",{skipResolve:!0})),e)},r.prototype.getStyle=function(e,t){t===void 0&&(t={});var n=this.get("style")||{},i=Ti({},n);if(this.em&&!t.skipResolve){var s=this.resolveDataVariables(Ti({},i));return e&&(0,L.isString)(e)?s[e]:s}return e&&(0,L.isString)(e)?i[e]:i},r.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={}),(0,L.isString)(e)&&(e=this.parseStyle(e));var i=this.getStyle(t);t.partial||t.avoidStore?(t.avoidStore=!0,e.__p=!0):delete e.__p;var s=Ti({},e),l=Ti({},s);(0,L.keys)(l).forEach(function(f){if(l[f]===""){delete l[f];return}var d=l[f];if(Uc(d)){var v=n.resolveDynamicValue(d);l[f]=v,n.manageDataVariableListener(v,f)}}),this.set("style",l,t);var u=(0,Le.shallowDiff)(i,l);return delete u.__p,(0,L.keys)(u).forEach(function(f){var d=n.em;t.noEvent||(n.trigger("change:style:".concat(f)),d&&(d.trigger("styleable:change",n,f,t),d.trigger("styleable:change:".concat(f),n,f,t)))}),l},r.prototype.resolveDynamicValue=function(e){var t=e.type,n;switch(t){case oi:n=new QT(e,{em:this.em});break;case ii:{var i=e.condition,s=e.ifTrue,l=e.ifFalse;n=new pp(i,s,l,{em:this.em});break}default:throw new Error("Unsupported dynamic value type for styles. Only '".concat(oi,"' and '").concat(ii,"' are supported. Received '").concat(t,"'."))}return n},r.prototype.manageDataVariableListener=function(e,t){var n=this;this.dynamicVariableListeners[t]?this.dynamicVariableListeners[t].listenToDynamicVariable():this.dynamicVariableListeners[t]=new hp({em:this.em,dataVariable:e,updateValueFromDataVariable:function(){return n.updateView()}})},r.prototype.getView=function(e){var t=this,n=t.views,i=t.em,s=e||(i==null?void 0:i.getCurrentFrameModel());return s?n.find(function(l){return l.frameView===s.view}):n[0]},r.prototype.setView=function(e){var t=this.views;!t.includes(e)&&t.push(e)},r.prototype.removeView=function(e){var t=this.views;t.splice(t.indexOf(e),1)},r.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},r.prototype.resolveDataVariables=function(e){var t=this,n=Ti({},e);return(0,L.keys)(n).forEach(function(i){var s=n[i];if(!(typeof s=="string"||Array.isArray(s))){if(Uc(s)){var l=t.resolveDynamicValue(s);n[i]=l.getDataValue()}eE(s)&&(n[i]=s.getDataValue())}}),n},r.prototype.addStyle=function(e,t,n){var i;t===void 0&&(t=""),n===void 0&&(n={}),typeof e=="string"?e=(i={},i[e]=t,i):n=t||{},n.addStyle=e,e=this.extendStyle(e),this.setStyle(e,n)},r.prototype.removeStyle=function(e){var t=this.getStyle();delete t[e],this.setStyle(t)},r.prototype.styleToString=function(e){e===void 0&&(e={});var t=[],n=this.getStyle(e),i=e.important,s=function(u){var f=(0,L.isArray)(i)?i.indexOf(u)>=0:i,d=u.substring(0,2),v=d==="__";if(v)return"continue";var m=n[u],y=(0,L.isArray)(m)?m:[m];y.forEach(function(b){var w="".concat(b).concat(f?" !important":"");w&&t.push("".concat(u,":").concat(w,";"))})};for(var l in n)s(l);return t.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},r}(Ge.Kx);const i2=gE;var Wn=function(){return Wn=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Wn.apply(this,arguments)},a2=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},ns=function(o){return(0,L.isArray)(o.get(qn))},Kf=function(o){return!!o.get(Co)},Ai=function(o){return!!(ns(o)||Kf(o))},ls=function(o){var r=o.parent();return Ai(o)&&(!r||!Ai(r))},hc=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},ni=function(o){var r=o.get(Co);if(r&&(0,L.isString)(r)){var e=o.__getAllById()[r];e?(r=e,o.set(Co,e)):r=0}return r||void 0},po=function(o){var r=o==null?void 0:o.get(qn);return r&&(0,L.isArray)(r)&&(r.forEach(function(e,t){e&&(0,L.isString)(e)&&(r[t]=o.__getAllById()[e])}),r=r.filter(function(e){return e&&!(0,L.isString)(e)})),r||void 0},gl=function(o,r){r===void 0&&(r="");var e=o==null?void 0:o.get(qc),t=r.split(":")[0],n=r!==t?[r,t]:[r];return e===!0||(0,L.isArray)(e)&&n.some(function(i){return e.indexOf(i)>=0})},os=function(o,r){r===void 0&&(r={});var e=[],t=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||t&&gl(o,t))return e;var n=po(o)||[],i=ni(o),s=i?a2([i],po(i)||[],!0):n;return e=s.filter(function(l){return l!==o}).filter(function(l){return!(t&&gl(l,t))}),e},ou=function(o,r){for(var e=o,t=o.parent(r);t&&Ai(t);)e=t,t=t.parent(r);return e},Ag=function(o,r){r===void 0&&(r={});var e=ni(o),t=e&&po(e);!r.skipRefs&&t&&e.set(qn,t.filter(function(n){return n!==o})),o.set(Co,0),o.components().forEach(function(n){return Ag(n,r)})},Wc=function(o,r,e,t){t===void 0&&(t={});var n=ni(o),i=po(o);!n&&!i||o.em.log(r,{model:o,toUp:e,context:"symbols",opts:t})},mE=function(o,r){r===void 0&&(r={});var e=o.changedAttributes()||{},t=e.attributes||{};if(delete e.status,delete e.open,delete e[qn],delete e[Co],delete e[qc],delete e.attributes,delete t.id,(0,Le.isEmptyObj)(t)||(e.attributes=t),!(0,Le.isEmptyObj)(e)){var n=os(o,r);(0,L.keys)(e).map(function(i){gl(o,i)&&delete e[i]}),Wc(o,"props",n,{opts:r,changed:e}),n.forEach(function(i){var s=Wn({},e);(0,L.keys)(s).map(function(l){gl(i,l)&&delete s[l]}),i.set(s,Wn({fromInstance:o},r))})}},yE=function(o,r){r===void 0&&(r={});var e=os(o,r);Wc(o,"classes",e,{opts:r}),e.forEach(function(t){t.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(r)},s2=function(o,r,e,t){var n=t||e||{},i=n.fromInstance,s=n.fromUndo,l={fromInstance:i,fromUndo:s},u=r.opt.temporary;if(t)if(t.add){var y=[],b=!!po(o),d=os(o,Wn(Wn({},l),{changed:"components:add"}));if(d.length){var w=ni(r);y=po(w||r)||[],y=a2([],y,!0),y.push(w||r)}!u&&Wc(o,"add",d,{opts:t,addedInstances:y.map(function(ee){return ee.cid}),added:r.cid}),d.forEach(function(ee){var G=ou(ee),q=y.filter(function($){var B=ou($,{prev:1});return G&&B&&B===G})[0],D=q||r.clone({symbol:!0,symbolInv:b});ee.append(D,Wn({fromInstance:o},t))})}else{var x=ni(r);if(x&&!t.temporary&&x.set(qn,po(x).filter(function(te){return te!==r})),!ls(r)&&!t.skipRefsUp){var O="components:remove",M=t.index,T=r.parent(),E=Wn({fromInstance:r},t),U=ls(r),Z=function(ee){var G=ee.parent();G&&!gl(G,O)&&ee.remove(E)},d=gl(T,O)?[]:os(r,l);U&&(d=T&&os(T,Wn(Wn({},l),{changed:O})),Z=function(ee){var G=ee.components().at(M);G&&G.remove(Wn({fromInstance:T},E))}),!u&&Wc(o,"remove",d,{opts:t,removed:r.cid,isSymbNested:U}),d.forEach(Z)}}else{var f=r,d=os(o,Wn(Wn({},l),{changed:"components:reset"})),v=f.models,m=new Set;Wc(o,"reset",d,{components:v}),d.forEach(function(te){var ee=te.components(),G=v.map(function(q,D){return!Ai(q)||m.has(q)?(m.add(q),q.clone({symbol:!0})):ee.at(D)});ee.reset(G,Wn({fromInstance:o},e))})}o.__changesUp(n)},_E=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fo=function(){return fo=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},fo.apply(this,arguments)},jf=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},l0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Ys=function(o,r){if(r===void 0&&(r=[]),!o)return[];var e=(0,L.isArray)(o)||(0,L.isFunction)(o.map)?o:[o];return e.map(function(t){r.push(t.getId()),Ys(t.components().models,r)}),r},l2=function(o,r,e){r===void 0&&(r={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var t=e.visitedCmps,n=(0,L.isArray)(o)?o:[o];return n.map(function(i){var s=i.attributes,l=s===void 0?{}:s,u=i.components,f=i.tagName,d=i.style,v=l.id;l.draggable;var m=jf(l,["id","draggable"]),y=i;if(v){if(t[v])t[v].push(y),v=Dr.getNewId(r),y.attributes.id=v;else if(t[v]=[],r[v]){y=r[v];var b=y;f&&b.set({tagName:f},fo(fo({},e),{silent:!0})),(0,L.keys)(m).length&&b.addAttributes(m,fo({},e)),(0,L.keys)(d).length&&b.addStyle(d,e)}}var w=(0,L.isFunction)(y.components)?y:null;if(u){var x=l2(u,r,e);w?w.components().reset(x,e):y.components=x}else w&&w.components().reset([],e);return y})},bE=function(o){_E(r,o);function r(e,t){var n=o.call(this,e,t)||this;n.opt=t,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var i=t.em,s=t.config;return n.config=s,n.em=i,n.domc=t.domc||(i==null?void 0:i.Components),n}return Object.defineProperty(r.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=t.previousModels||[],l=s.filter(function(d){return!e.get(d.cid)}),u=Ys(e),f=Ys(s).filter(function(d){return u.indexOf(d)>=0});t.keepIds=(t.keepIds||[]).concat(f),l.forEach(function(d){return n.removeChildren(d,i,t)}),e.each(function(d){return n.onAdd(d)})},r.prototype.resetFromString=function(e,t){var n,i;e===void 0&&(e=""),t===void 0&&(t={}),t.keepIds=Ys(this);var s=this,l=s.domc,u=s.em,f=s.parent,d=u==null?void 0:u.Css,v=(l==null?void 0:l.allById())||{},m=this.parseString(e,t),y=l2(m,v,t),b=t.visitedCmps,w=b===void 0?{}:b;Object.keys(w).forEach(function(x){var O=w[x];if(O.length){var M=(d==null?void 0:d.getRules("#".concat(x)))||[];M.length&&O.forEach(function(T){M.forEach(function(E){var U=E.clone();U.set("selectors",["#".concat(T.attributes.id)]),d.getAll().add(U)})})}}),this.reset(y,t),u==null||u.trigger("component:content",f,t,e),(i=(n=f).__checkInnerChilds)===null||i===void 0||i.call(n)},r.prototype.removeChildren=function(e,t,n){var i=this;if(n===void 0&&(n={}),!!e){var s=this,l=s.domc,u=s.em,f=n.temporary||n.fromUndo;if(e.prevColl=this,!f){var d=e.getId(),v=u.Selectors.getAll(),m=u.Css.getAll(),y=(n.keepIds||[]).indexOf(d)<0,b=l?l.allById():{};delete b[d];var w=y?m.remove(m.filter(function(M){return M.getSelectors().getFullString()==="#".concat(d)}),n):[];v.remove(w.map(function(M){return M.getSelectors().at(0)})),e.opt.temporary||(u.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(M){M.scriptContainer&&e.emitWithEitor(xr.I.scriptUnmount,{component:e,view:M,el:M.el})}),e.removed(),e.trigger("removed"),u.trigger(xr.I.remove,e),l&&Kf(e)&&ls(e)&&l.symbols.__trgEvent(l.events.symbolInstanceRemove,{component:e},!0));var x=e.components();x.forEach(function(M){s2(M,M,x,fo(fo({},n),{skipRefsUp:!0})),i.removeChildren(M,t,n)})}var O=e.components();u.stopListening(O),u.stopListening(e),u.stopListening(e.get("classes")),e.__postRemove()}},r.prototype.model=function(e,t){var n=t.collection.opt,i=n.em,s,l=i.Components.componentTypes;t.em=i,t.config=n.config,t.componentTypes=l,t.domc=n.domc;for(var u=0;u<l.length;u++){var f=l[u].id;if(f==e.type){s=l[u].model;break}}return s||(s=l[l.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:t})),new s(e,t)},r.prototype.parseString=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.domc,l=n.parent,u=l==null?void 0:l.is("wrapper"),f=t.asDocument&&u,d=i.Css,v=i.Parser.parseHtml(e,fo({asDocument:f},t.parserOptions)),m=v.html;if(u&&v.doctype){var y=l,b=v.html||{},w=b.components,x=w===void 0?[]:w,O=jf(b,["components"]),M=v.head||{},T=M.components,E=jf(M,["components"]);m=x,y.set(O,t),y.head.set(E,t),y.head.components(T,t),y.docEl.set(v.root,t),y.set({doctype:v.doctype})}if(Dr.checkId(m,v.css,s.componentsById,t),v.css&&d&&!t.temporary){t.at;var U=jf(t,["at"]);d.addCollection(v.css,fo(fo({},U),{extend:1}))}return m},r.prototype.add=function(e,t){var n=this;if(t===void 0&&(t={}),e!=null){t.keepIds=l0(l0([],t.keepIds||[],!0),Ys(t.previousModels),!0),(0,L.isString)(e)?e=this.parseString(e,t):(0,L.isArray)(e)&&e.forEach(function(s,l){if((0,L.isString)(s)){var u=n.parseString(s,t);e[l]=(0,L.isArray)(u)&&!u.length?null:u}});var i=((0,L.isArray)(e)?e:[e]).filter(Boolean).map(function(s){return n.processDef(s)});return e=(0,L.isArray)(e)?(0,L.flatten)(i,1):i[0],o.prototype.add.call(this,e,t)}},r.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var t=this,n=t.em,i=t.config,s=i===void 0?{}:i,l=s.processor,u=e;if(l){u=fo({},u);var f=l(u);f&&((0,L.each)(u,function(x,O){return delete u[O]}),(0,L.extend)(u,f))}if(u.$$typeof&&typeof u.props=="object"){u=fo({},u),u.props=fo({},u.props);var d=n.Components,v=n.Parser,m=v.parserHtml;(0,L.each)(u,function(x,O){(0,L.includes)(["props","type"],O)||delete u[O]});var y=u.props,b=y.children;delete y.children,delete u.props;var w=m.splitPropsFromAttr(y);u.attributes=w.attrs,b&&(u.components=b),u.type?d.getType(u.type)||(u.tagName=u.type,delete u.type):u.type="textnode",(0,L.extend)(u,w.props)}return u},r.prototype.onAdd=function(e,t,n){n===void 0&&(n={});var i=this,s=i.domc,l=i.em,u=e.getStyle(),f=l&&l.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(e),!(0,L.isEmpty)(u)&&!f&&l&&l.getConfig().forceClass&&!n.temporary){var d=e.cid;l.Css.setClassRule(d,u),e.setStyle({}),e.addClass(d)}if(e.__postAdd({recursive:!0}),l&&!n.temporary){var v=function(m){l.trigger(xr.I.add,m,n),m.components().forEach(function(y){return v(y)})};v(e),s&&Kf(e)&&ls(e)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:e},!0)}},r}(Ge.pM);const iu=bE;var wE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),tf=1,Oh=2,c2=function(o){wE(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.config,s=i===void 0?{}:i,l=n.get("name"),u=n.get("label");l?u||n.set("label",l):n.set("name",u);var f=n.get("name"),d=s.escapeName,v=d?d(f):r.escapeName(f);return n.set("name",v),n.em=t.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:tf,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===Oh},r.prototype.isClass=function(){return this.get("type")===tf},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.escape,n=this.get("name"),i="";switch(this.get("type")){case tf:i=".";break;case Oh:i="#";break}return i+(t?t(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(e){return this.set("label",e)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(e){return this.set("active",e)},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=this.em,n=Ge.Kx.prototype.toJSON.call(this,[e]),i=(0,L.result)(this,"defaults");if(t!=null&&t.getConfig().avoidDefaults){(0,L.forEach)(i,function(l,u){n[u]===l&&delete n[u]}),n.label===n.name&&delete n.label;var s=(0,L.keys)(n).length;s===1&&n.name&&(n=n.name),s===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=tf,r.TYPE_ID=Oh,r}(Ge.Kx);const Mn=c2;c2.prototype.idAttribute="name";var xE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u2=function(o,r){return o.reduce(function(e,t,n){return e.concat(u2(o.slice(n+1),"".concat(r).concat(t)))},[r])},f2=function(o){xE(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Mn.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,L.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},r.prototype.getValid=function(e){var t=e===void 0?{}:e,n=t.noDisabled;return(0,L.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return n?i.get("active"):1})},r.prototype.getFullString=function(e,t){t===void 0&&(t={});var n=[],i=e||this;return i.forEach(function(s){return n.push(s.getFullName(t))}),t.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(e){e===void 0&&(e={});var t=e.combination,n=e.array,i=[],s=this.map(function(l){return l.getFullName(e)}).sort();return t?s.forEach(function(l,u){i=i.concat(u2(s.slice(u+1),l))}):i=s,n?i:t?i.join(","):i.join("")},r}(Ge.pM);const wa=f2;f2.prototype.model=Mn;var CE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),c0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},SE=function(o){CE(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}(Ge.Kx);const cu=SE;function d2(o){var r=new Set,e=new Map,t={items:[]};o.forEach(function(i){var s=i.category;if(s){r.add(s);var l=e.get(s);l?l.push(i):e.set(s,[i])}else t.items.push(i)});var n=Array.from(r).map(function(i){return{category:i,items:e.get(i)||[]}});return c0(c0([],n,!0),[t],!1)}var OE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u0="category",p2=function(o){OE(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initCategory=function(e){var t=e.get(u0),n=t instanceof cu;if(t&&!n){(0,L.isString)(t)?t={id:t,label:t}:(0,Le.isObject)(t)&&!t.id&&(t.id=t.label);var i=this.getCategories().add(t);return e.set(u0,i,{silent:!0}),i}else if(n){var i=t;return this.getCategories().add(i),i}},r}(Ge.pM),TE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),h2=function(o){TE(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.events,s=t.em,l=i==null?void 0:i.update;return s&&l&&n.on("change",function(u,f){return s.trigger(l,{category:u,changes:u.changedAttributes(),options:f})}),n}return r.prototype.add=function(e,t){var n=(0,L.isArray)(e)?e:[e];return n.forEach(function(i){return i&&(i.id=(0,Le.normalizeKey)("".concat(i.id)))}),o.prototype.add.call(this,e,t)},r.prototype.get=function(e){return o.prototype.get.call(this,(0,L.isString)(e)?(0,Le.normalizeKey)(e):e)},r}(Ge.pM);const Gf=h2;h2.prototype.model=cu;var Zf;(function(o){o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait"})(Zf||(Zf={}));const Hv=Zf;var EE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xf=function(){return Xf=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Xf.apply(this,arguments)},PE=function(o){EE(r,o);function r(e,t){var n=o.call(this,e)||this,i=n.attributes,s=i.target,l=i.name;return!n.get("id")&&n.set("id",l),s&&n.setTarget(s),n.em=t,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof cu?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(e){if(e){var t=this.attributes,n=t.name,i=t.changeProp,s=t.value,l=t.getValue;this.target=e,this.unset("target");var u=i?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(e,u,this.targetUpdated);var f=s||(l?void 0:this.getValue());!(0,L.isUndefined)(f)&&this.set({value:f},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,i=n===void 0?!0:n,s=this.getId(),l=this.get("label")||this.getName();return i&&((t=this.em)===null||t===void 0?void 0:t.t("traitManager.traits.labels.".concat(s)))||l},r.prototype.getValue=function(e){return this.getTargetValue(e)},r.prototype.setValue=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.component,l=i.em,u=t.partial,f={},d=this.attributes.setValue;if(d){d({value:e,component:s,editor:l==null?void 0:l.getEditor(),trait:this,partial:!!u,options:t,emitUpdate:function(){return n.targetUpdated()}});return}u&&(f.avoidStore=!0),this.setTargetValue(e,f)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(e){var t=this,n=(0,Le.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===n})[0]},r.prototype.getOptionId=function(e){return e.id||e.value},r.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,l=(0,L.isString)(e)?this.getOption(e):e,u=this.getOptionId(l),f=l.label||l.name||u,d=this.getName();return s&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(d,".").concat(u)))||f},r.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.category,s=e.locale,l=s===void 0?!0:s,u=i==null?void 0:i.getId(),f=i==null?void 0:i.getLabel();return l&&(n==null?void 0:n.t("traitManager.categories.".concat(u)))||f||""},r.prototype.runCommand=function(){var e=this.em,t=this.attributes.command;if(t&&e)return(0,L.isString)(t)?e.Commands.run(t):t(e.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var e=this,t=e.component,n=e.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var s={trait:this,component:t,value:i};t.trigger(Hv.value,s),n==null||n.trigger(Hv.value,s),n==null||n.trigger("trait:update",s)},r.prototype.getTargetValue=function(e){e===void 0&&(e={});var t=this,n=t.component,i=t.em,s=this.getName(),l=this.get("getValue"),u;if(l?u=l({editor:i==null?void 0:i.getEditor(),trait:this,component:n}):this.changeProp?u=n.get(s):u=n.getAttributes()[s],e.useType){var f=this.getType();if(f==="checkbox"){var d=this.attributes,v=d.valueTrue,m=d.valueFalse;!(0,L.isUndefined)(v)&&v===u?u=!0:!(0,L.isUndefined)(m)&&m===u&&(u=!1)}}return(0,L.isUndefined)(u)?"":u},r.prototype.setTargetValue=function(e,t){var n;t===void 0&&(t={});var i=this,s=i.component,l=i.attributes,u=this.getName();if(!(0,L.isUndefined)(e)){var f=e;if(e==="false"?f=!1:e==="true"&&(f=!0),this.getType()==="checkbox"){var d=l.valueTrue,v=l.valueFalse;f&&!(0,L.isUndefined)(d)&&(f=d),!f&&!(0,L.isUndefined)(v)&&(f=v)}var m=(n={},n[u]=f,n);m.__p=t.avoidStore?null:void 0,this.changeProp?s.set(m,t):s.addAttributes(m,t)}},r.prototype.setValueFromInput=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var i={value:e};this.set(i,Xf(Xf({},n),{avoidStore:1})),t&&(this.set("value","",n),this.set(i,n))},r.prototype.getInitValue=function(){var e=this.component,t=this.getName(),n;if(e){var i=e.get("attributes");n=this.changeProp?e.get(t):i[t]}return n||this.get("value")||this.get("default")},r}(Ge.Kx);const Yf=PE;var kE=function(){function o(r){r===void 0&&(r={}),this.config=r}return o.prototype.build=function(r,e){return(0,L.isString)(r)?this.buildFromString(r,e):new Yf(r,e)},o.prototype.buildFromString=function(r,e){var t={name:r,type:"text"};switch(r){case"target":t.type="select",t.default=!1,t.options=this.config.optionsTarget;break}return new Yf(t,e)},o}();const AE=kE;var ME=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VE=function(o){ME(r,o);function r(e,t){var n=o.call(this,e)||this;n.categories=new Gf;var i=t.em;n.em=i,n.categories=new Gf([],{em:i,events:{update:Hv.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var s=n.module,l=s==null?void 0:s.getConfig();return n.tf=new AE(l),n}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(e,t){var n=t===void 0?{}:t,i=n.previousModels,s=i===void 0?[]:i;s.forEach(function(l){return l.trigger("remove")})},r.prototype.handleAdd=function(e){e.em=this.em;var t=this.target;t&&(e.target=t),this.initCategory(e)},r.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(t){return t.setTarget(e)})},r.prototype.add=function(e,t){if(e!=null){var n=this,i=n.target,s=n.em;if((0,L.isArray)(e)){for(var l=[],u=0,f=e.length;u<f;u++){var d=e[u];l[u]=d instanceof Yf?d:this.tf.build(d,s),l[u].setTarget(i)}return o.prototype.add.call(this,l,t)}var v=e instanceof Yf?e:this.tf.build(e,s);return v.setTarget(i),o.prototype.add.call(this,v,t)}},r}(p2);const Jf=VE;var Qf=function(){return Qf=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qf.apply(this,arguments)},ed=function(){function o(r,e){this.updateFn=r,this.em=e,this.dynamicVariableListeners={}}return o.getStaticValues=function(r,e){if(!r)return{};for(var t=Qf({},r),n=Object.keys(r),i=0,s=n;i<s.length;i++){var l=s[i],u=r[l];if(Uc(u)){var f=s0(u,e).value;t[l]=f}}return t},o.areStaticValues=function(r){return r?Object.keys(r).every(function(e){return!Uc(r[e])}):!0},o.prototype.setDynamicValues=function(r){return this.removeListeners(),this.addDynamicValues(r)},o.prototype.addDynamicValues=function(r){var e=this;if(!r)return{};this.removeListeners(Object.keys(r));for(var t=this.getDynamicValues(r),n=Object.keys(t),i=function(u){var f=n[u];s.dynamicVariableListeners[f]=new hp({em:s.em,dataVariable:t[f],updateValueFromDataVariable:function(d){e.updateFn.bind(e)(f,d)}})},s=this,l=0;l<n.length;l++)i(l);return t},o.prototype.getDynamicValues=function(r){for(var e={},t=Object.keys(r),n=0;n<t.length;n++){var i=t[n];if(Uc(r[i])){var s=s0(r[i],this.em).variable;e[i]=s}}return e},o.prototype.removeListeners=function(r){var e=this,t=r||Object.keys(this.dynamicVariableListeners);t.forEach(function(n){e.dynamicVariableListeners[n]&&(e.dynamicVariableListeners[n].destroy(),delete e.dynamicVariableListeners[n])})},o.prototype.getSerializableValues=function(r){if(!r)return{};for(var e=Qf({},r),t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];this.dynamicVariableListeners[i]&&(e[i]=this.dynamicVariableListeners[i].dynamicVariable.toJSON())}return e},o.prototype.getAllSerializableValues=function(){for(var r={},e=Object.keys(this.dynamicVariableListeners),t=0;t<e.length;t++){var n=e[t];r[n]=this.dynamicVariableListeners[n].dynamicVariable.toJSON()}return r},o}(),IE=function(){function o(r,e){this.component=r,this.propertyWatcher=new ed(this.createPropertyUpdater(),e),this.attributeWatcher=new ed(this.createAttributeUpdater(),e)}return o.prototype.createPropertyUpdater=function(){var r=this;return function(e,t){r.component.set(e,t,{fromDataSource:!0,avoidStore:!0})}},o.prototype.createAttributeUpdater=function(){var r=this;return function(e,t){var n;r.component.addAttributes((n={},n[e]=t,n),{fromDataSource:!0,avoidStore:!0})}},o.prototype.addProps=function(r){this.propertyWatcher.addDynamicValues(r)},o.prototype.addAttributes=function(r){this.attributeWatcher.addDynamicValues(r)},o.prototype.setAttributes=function(r){this.attributeWatcher.setDynamicValues(r)},o.prototype.removeAttributes=function(r){this.attributeWatcher.removeListeners(r)},o.prototype.getDynamicPropsDefs=function(){return this.propertyWatcher.getAllSerializableValues()},o.prototype.getDynamicAttributesDefs=function(){return this.attributeWatcher.getAllSerializableValues()},o.prototype.getAttributesDefsOrValues=function(r){return this.attributeWatcher.getSerializableValues(r)},o.prototype.getPropsDefsOrValues=function(r){return this.propertyWatcher.getSerializableValues(r)},o.prototype.destroy=function(){this.propertyWatcher.removeListeners(),this.attributeWatcher.removeListeners()},o}(),$E=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qt=function(){return qt=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},qt.apply(this,arguments)},DE=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Lo=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},f0=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},jc=function(o){return!!(o!=null&&o.getConfig().avoidInlineStyle)},Mg="component:drag",qn="__symbols",Co="__symbol",qc="__symbol_ovrd",Rf=xr.I.update,Uv=xr.I.updateInside,LE=function(o){$E(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;n.componentDVListener=new IE(n,t.em),n.componentDVListener.addProps(e),(0,L.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps");var i=t.em,s=n.parent(),l=s==null?void 0:s.attributes,u=n.get("propagate");if(u&&n.set("propagate",(0,L.isArray)(u)?u:[u]),l&&l.propagate&&!u){var f={},d=l.propagate;d.forEach(function(w){return f[w]=s.get(w)}),f.propagate=d,n.set(qt(qt({},f),e))}if(t&&t.config&&t.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),t.em=i,n.opt=t,n.em=i,n.config=t.config||{},n.setAttributes(qt(qt({},(0,L.result)(n,"defaults").attributes||{}),n.get("attributes")||{})),n.ccid=r.createId(n,t),n.preInit(),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(Uv,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(w){var x="add remove ".concat(w!=="components"?"change":"");n.listenTo(n.get(w),x.trim(),function(){for(var O=[],M=0;M<arguments.length;M++)O[M]=arguments[M];return n.emitUpdate.apply(n,Lo([w],O,!1))})}),!t.temporary){var v=i&&i.Css,m=n.attributes,y=m.styles,b=m.type;y&&v&&v.addCollection(y,{avoidUpdateStyle:!0},{group:"cmp:".concat(b)}),n.__postAdd(),n.init(),Ai(n)&&hc(n),i==null||i.trigger(xr.I.create,n,t)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[Co]=0,e[qn]=0,e[qc]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),r.prototype.preInit=function(){},r.prototype.init=function(){},r.prototype.updated=function(e,t,n){},r.prototype.removed=function(){},r.prototype.set=function(e,t,n){var i,s,l,u={skipWatcherUpdates:!1,fromDataSource:!1};typeof e=="object"?(l=e,u=t||u):typeof e=="string"?(l=(i={},i[e]=t,i),u=n||u):(l={},u=n||u);var f=this.em||u.em,d=ed.getStaticValues(l,f),v=u.skipWatcherUpdates||u.fromDataSource;return v||(s=this.componentDVListener)===null||s===void 0||s.addProps(l),o.prototype.set.call(this,d,u)},r.prototype.__postAdd=function(e){e===void 0&&(e={});var t=this.em,n=t==null?void 0:t.UndoManager,i=this.components();n&&!this.__hasUm&&(n.add(i),n.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&i.map(function(s){return s.__postAdd(e)})},r.prototype.__postRemove=function(){var e=this.em,t=e==null?void 0:e.UndoManager;t&&(t.remove(this.components()),t.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(e,t){var n=this,i=this.changedAttributes()||{};(0,L.keys)(i).forEach(function(s){return n.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete i[s]}),(0,Le.isEmptyObj)(i)||(this.__changesUp(t),this.__propSelfToParent({component:this,changed:i,options:t}))},r.prototype.__onStyleChange=function(e){var t=this,n=this.em;if(n){var i="component:styleUpdate",s=(0,L.keys)(e),l={style:e};n.trigger(i,this,l),s.forEach(function(u){return n.trigger("".concat(i,":").concat(u),t,l)})}},r.prototype.__changesUp=function(e){var t=this,n=t.em,i=t.frame;[i,n].forEach(function(s){return s&&s.changesUp(e)})},r.prototype.__propSelfToParent=function(e){this.trigger(Rf,e),this.__propToParent(e)},r.prototype.__propToParent=function(e){var t=this.parent();t&&t.trigger(Uv,e)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},r.prototype.__upSymbProps=function(e,t){t===void 0&&(t={}),mE(this,t)},r.prototype.__upSymbCls=function(e,t,n){n===void 0&&(n={}),yE(this,n)},r.prototype.__upSymbComps=function(e,t,n){s2(this,e,t,n)},r.prototype.is=function(e){return this.get("type")==e},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(e){var t;this.set(qc,(t=(0,L.isString)(e)?[e]:e)!==null&&t!==void 0?t:0)},r.prototype.getSymbolOverride=function(){return this.get(qc)},r.prototype.find=function(e){var t,n=[],i=(t=this.view)===null||t===void 0?void 0:t.$el.find(e);return i==null||i.each(function(s){var l=i.eq(s),u=l.data("model");u&&n.push(u)}),n},r.prototype.findType=function(e){var t=[],n=function(i){return i.forEach(function(s){s.is(e)&&t.push(s),n(s.components())})};return n(this.components()),t},r.prototype.findFirstType=function(e){return this.findType(e).at(0)},r.prototype.closest=function(e){var t,n=(t=this.view)===null||t===void 0?void 0:t.$el.closest(e);return n!=null&&n.length?n.data("model"):void 0},r.prototype.closestType=function(e){for(var t=this.parent();t&&!t.is(e);)t=t.parent();return t},r.prototype.contains=function(e){var t=!1;if(!e)return t;var n=function(i){!t&&i.forEach(function(s){s===e&&(t=!0),!t&&n(s.components())})};return n(this.components()),t},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(e,t){t===void 0&&(t={});var n=this.collection,i=n.indexOf(this);n.remove(this);var s=n.add(e,qt(qt({},t),{at:i}));return(0,L.isArray)(s)?s:[s]},r.prototype.attrUpdated=function(e,t,n){var i=this;n===void 0&&(n={});var s=this.get("attributes"),l=s.class;l&&this.setClass(l),delete s.class;var u=s.style;u&&this.setStyle(u,n),delete s.style;var f=qt({},this.previous("attributes")),d=(0,Le.shallowDiff)(f,this.get("attributes"));(0,L.keys)(d).forEach(function(v){var m,y="attributes:".concat(v);i.trigger("change:".concat(y),i,d[v],n),(m=i.em)===null||m===void 0||m.trigger("".concat(Rf,":").concat(y),i,d[v],n)})},r.prototype.setAttributes=function(e,t){t===void 0&&(t={skipWatcherUpdates:!1,fromDataSource:!1});var n=this.em||t.em,i=ed.getStaticValues(e,n),s=t.skipWatcherUpdates||t.fromDataSource;return s||this.componentDVListener.setAttributes(e),this.set("attributes",qt({},i),t),this},r.prototype.addAttributes=function(e,t){t===void 0&&(t={});var n=this.componentDVListener.getDynamicAttributesDefs();return this.setAttributes(qt(qt(qt({},this.getAttributes({noClass:!0})),n),e),t)},r.prototype.removeAttributes=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=Array.isArray(e)?e:[e];this.componentDVListener.removeAttributes(n);var i=this.getAttributes();return n.map(function(s){return delete i[s]}),this.setAttributes(i,t)},r.prototype.getStyle=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=this.em,i=(0,L.isString)(e)?e:"",s=i?t:e;if(jc(n)&&!s.inline){var l=n.get("state"),u=n.Css,f=u.getIdRule(this.getId(),qt({state:l},s));return this.rule=f,f?f.getStyle(i):{}}return o.prototype.getStyle.call(this,i)},r.prototype.setStyle=function(e,t){var n=this;e===void 0&&(e={}),t===void 0&&(t={});var i=this,s=i.opt,l=i.em;if(jc(l)&&!s.temporary&&!t.inline){var u=this.get("style")||{};e=(0,L.isString)(e)?this.parseStyle(e):e,e=qt(qt({},e),u);var f=l.get("state"),d=l.Css,v=this.getStyle(t);this.rule=d.setIdRule(this.getId(),e,qt({state:f},t));var m=(0,Le.shallowDiff)(v,e);this.set("style","",{silent:!0}),(0,L.keys)(m).forEach(function(y){return n.trigger("change:style:".concat(y))})}else e=o.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(t.addStyle||e),e},r.prototype.getAttributes=function(e){e===void 0&&(e={});var t=this.em,n=[],i=qt({},this.get("attributes")),s=t==null?void 0:t.Selectors,l=this.getId();if(e.noClass?delete i.class:(this.classes.forEach(function(d){return n.push((0,L.isString)(d)?d:d.getName())}),n.length&&(i.class=n.join(" "))),!e.noStyle){var u=this.getStyle({inline:!0});(0,Le.isObject)(u)&&!(0,Le.isEmptyObj)(u)&&(i.style=this.styleToString({inline:!0}))}if(!(0,L.has)(i,"id")){var f=!1;(jc(t)||!(0,L.isEmpty)(this.getStyle()))&&(f=!!(s!=null&&s.get(l,s.Selector.TYPE_ID))),(Ai(this)||this.get("script-export")||this.get("script"))&&(f=!0),f&&(i.id=l)}return i},r.prototype.addClass=function(e){var t=this.em.Selectors.addClass(e);return this.classes.add(t)},r.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},r.prototype.removeClass=function(e){var t=[];e=(0,L.isArray)(e)?e:[e];var n=this.classes,i=Mn.TYPE_CLASS;return e.forEach(function(s){var l=s.split(" ");l.forEach(function(u){var f=n.where({name:u,type:i})[0];f&&t.push(n.remove(f))})}),t},r.prototype.getClasses=function(){var e=this.getAttributes(),t=e.class;return t?t.split(" "):[]},r.prototype.initClasses=function(e,t,n){n===void 0&&(n={});var i="change:classes",s=this.get("attributes")||{},l=s.class,u=DE(s,["class"]),f=[this,i,this.initClasses],d=this.get("classes")||l||[],v=(0,L.isString)(d)?d.split(" "):d;this.stopListening.apply(this,f);var m=this.normalizeClasses(v),y=new wa([]);return this.set("classes",y,n),y.add(m),y.on("add remove reset",this.__upSymbCls),l&&m.length&&this.set("attributes",u),this.listenTo.apply(this,f),this},r.prototype.initComponents=function(){var e="change:components",t=[this,e,this.initComponents];this.stopListening.apply(this,t);var n=new iu([],this.opt);n.parent=this;var i=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",n),s&&i&&n.add((0,L.isFunction)(i)?i(this):i,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,t),this},r.prototype.initTraits=function(e){var t=this,n=this.em,i="change:traits";this.off(i,this.initTraits),this.__loadTraits();var s=qt({},this.get("attributes")),l=this.traits;l.each(function(f){var d=f.getName(),v=f.getInitValue();f.changeProp?t.set(d,v):d&&v&&(s[d]=v)});var u=this.componentDVListener.getDynamicAttributesDefs();return l.length&&this.setAttributes(qt(qt({},s),u)),this.on(i,this.initTraits),e&&n&&n.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",t=["change:".concat(e),this.initScriptProps];this.off.apply(this,t);var n=this.previous(e)||[],i=this.get(e)||[],s=n.map(function(u){return"change:".concat(u)}).join(" "),l=i.map(function(u){return"change:".concat(u)}).join(" ");s&&this.off(s,this.__scriptPropsChange),l&&this.on(l,this.__scriptPropsChange),this.on.apply(this,t)}},r.prototype.__scriptPropsChange=function(e,t,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(e,t){t===void 0&&(t={});var n=(0,L.isArray)(e)?Lo([],e,!0):[e],i=n.map(function(l){return(0,L.isString)(l)||l.collection&&l.collection.remove(l,{temporary:!0}),l}),s=this.components().add(i,qt({action:xr.t.add},t));return s},r.prototype.components=function(e,t){t===void 0&&(t={});var n=this.get("components");return(0,L.isUndefined)(e)?n:(n.reset(void 0,t),e?this.append(e,t):[])},r.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},r.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},r.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},r.prototype.parent=function(e){e===void 0&&(e={});var t=this.collection||e.prev&&this.prevColl;return t?t.parent:void 0},r.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var e=this.em,t=this,n=e&&e.getConfig().stylePrefix||"";if(!t.get("toolbar")&&e){var i=[];t.collection&&i.push({label:e.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),t.get("draggable")&&i.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),t.get("copyable")&&i.push({label:e.getIcon("copy"),command:"tlb-clone"}),t.get("removable")&&i.push({label:e.getIcon("delete"),command:"tlb-delete"}),t.set("toolbar",i)}},r.prototype.__loadTraits=function(e,t){t===void 0&&(t={});var n=e||this.traits;if(!(n instanceof Jf)){n=(0,L.isFunction)(n)?n(this):n;var i=new Jf([],this.opt);i.setTarget(this),n.length&&i.add(n),this.set({traits:i},t)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Lo([],this.traits.models,!0)},r.prototype.setTraits=function(e){var t=(0,L.isArray)(e)?e:[e];return this.set({traits:t}),this.getTraits()},r.prototype.getTrait=function(e){return this.getTraits().filter(function(t){return t.get("id")===e||t.get("name")===e})[0]||null},r.prototype.updateTrait=function(e,t){var n,i=this.getTrait(e);return i&&i.set(t),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(e){var t=this.getTrait(e);return t?this.traits.indexOf(t):-1},r.prototype.removeTrait=function(e){var t=this,n,i=(0,L.isArray)(e)?e:[e],s=i.map(function(f){return t.getTrait(f)}),l=this.traits,u=s.length?l.remove(s):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,L.isArray)(u)?u:[u]},r.prototype.addTrait=function(e,t){var n;t===void 0&&(t={}),this.__loadTraits();var i=this.traits.add(e,t);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,L.isArray)(i)?i:[i]},r.prototype.normalizeClasses=function(e){var t=[],n=this.em,i=n==null?void 0:n.Selectors;return i?e.models?Lo([],e.models,!0):(e.forEach(function(s){return t.push(i.add(s))}),t):[]},r.prototype.clone=function(e){e===void 0&&(e={});var t=this.em,n=qt({},this.componentDVListener.getPropsDefsOrValues(this.attributes)),i=qt({},this.opt),s=this.getId(),l=t==null?void 0:t.Css;n.attributes=qt({},n.attributes?this.componentDVListener.getAttributesDefsOrValues(n.attributes):void 0),n.components=[],n.classes=[],n.traits=[],ls(this)&&(e.symbol=!0),this.get("components").each(function(b,w){n.components[w]=b.clone(qt(qt({},e),{_inner:1}))}),this.get("traits").each(function(b,w){n.traits[w]=b.clone()}),this.get("classes").each(function(b,w){n.classes[w]=b.get("name")}),n.status="",i.collection=null;var u=new this.constructor(n,i),f="#".concat(u.getId()),d=l?l.getRules("#".concat(s)):[];d.forEach(function(b){var w=b.clone();w.set("selectors",[f]),l.getAll().add(w)}),u.set(qn,0);var v=ni(this),m=po(this);!e.symbol&&(v||m)?(u.set(Co,0),u.set(qn,0)):v?(v.set(qn,Lo(Lo([],po(v),!0),[u],!1)),hc(u)):e.symbol&&(ns(this)?(this.set(qn,Lo(Lo([],m,!0),[u],!1)),u.set(Co,this),hc(u)):e.symbolInv?(this.set(qn,[u]),u.set(Co,this),[this,u].map(function(b){return hc(b)})):(u.set(qn,[this]),[this,u].map(function(b){return hc(b)}),this.set(Co,u)));var y="component:clone";return t&&t.trigger(y,u),this.trigger(y,u),u},r.prototype.getName=function(e){e===void 0&&(e={});var t=this.em,n=this.attributes,i=n.type,s=n.tagName,l=n.name,u=i||s,f=i?"":s,d="domComponents.names.",v=l&&(t==null?void 0:t.t("".concat(d).concat(l))),m=f&&(t==null?void 0:t.t("".concat(d).concat(f))),y=t&&(t.t("".concat(d).concat(i))||t.t("".concat(d).concat(s))),b=this.get("custom-name");return(e.noCustom?"":b)||v||l||m||(0,Le.capitalize)(f)||y||(0,Le.capitalize)(u)},r.prototype.setName=function(e,t){t===void 0&&(t={}),this.set("custom-name",e,t)},r.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},r.prototype.toHTML=function(e){e===void 0&&(e={});var t=e.tag,n=t||this.get("tagName");delete e.tag;var i=this.__attrToString(e),s=i?" ".concat(i):"",l=this.getInnerHTML(e),u=!l&&this.get("void"),f="<".concat(n).concat(s).concat(u?"/":"",">").concat(l);return!u&&(f+="</".concat(n,">")),f},r.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},r.prototype.__innerHTML=function(e){e===void 0&&(e={});var t=this.components();return t.length?t.map(function(n){return n.toHTML(e)}).join(""):this.content},r.prototype.__attrToString=function(e){e===void 0&&(e={});var t=[],n=e.attributes,i=this.getAttrToHTML(e);if(n&&((0,L.isFunction)(n)?i=n(this,i)||{}:(0,Le.isObject)(n)&&(i=n)),e.withProps){var s=this.toJSON();(0,L.forEach)(s,function(v,m){var y=["classes","attributes","components"];m[0]!=="_"&&y.indexOf(m)<0&&(i["data-gjs-".concat(m)]=(0,L.isArray)(v)||(0,Le.isObject)(v)?JSON.stringify(v):(0,L.isBoolean)(v)?"".concat(v):v)})}for(var l in i){var u=i[l];if(!(0,L.isUndefined)(u)&&u!==null)if((0,L.isBoolean)(u))u&&t.push(l);else{var f="";if(e.altQuoteAttr&&(0,L.isString)(u)&&u.indexOf('"')>=0)f="'".concat(u.replace(/'/g,"&apos;"),"'");else{var d=(0,L.isString)(u)?u.replace(/"/g,"&quot;"):u;f='"'.concat(d,'"')}t.push("".concat(l,"=").concat(f))}}return t.join(" ")},r.prototype.getAttrToHTML=function(e){var t=this.getAttributes();return jc(this.em)&&(e==null?void 0:e.keepInlineStyle)!==!0&&delete t.style,t},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=zf.Model.prototype.toJSON.call(this,e);if(t=qt(qt({},t),this.componentDVListener.getDynamicPropsDefs()),t.attributes=this.componentDVListener.getAttributesDefsOrValues(this.getAttributes()),delete t.componentDVListener,delete t.attributes.class,delete t.toolbar,delete t.traits,delete t.status,delete t.open,delete t._undoexc,delete t.delegate,!e.fromUndo){var n=t[Co],i=t[qn];i&&(0,L.isArray)(i)&&(t[qn]=i.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),n&&!(0,L.isString)(n)&&(t[Co]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(t),t},r.prototype.getChangedProps=function(e){var t=e||zf.Model.prototype.toJSON.apply(this),n=(0,L.result)(this,"defaults");return(0,L.forEach)(n,function(i,s){["type"].indexOf(s)===-1&&t[s]===i&&delete t[s]}),(0,L.isEmpty)(t.type)&&delete t.type,(0,L.forEach)(["attributes","style"],function(i){(0,L.isEmpty)(n[i])&&(0,L.isEmpty)(t[i])&&delete t[i]}),(0,L.forEach)(["classes","components"],function(i){(!t[i]||(0,L.isEmpty)(n[i])&&!t[i].length)&&delete t[i]}),t},r.prototype.getId=function(){var e=this.get("attributes")||{};return e.id||this.ccid||this.cid},r.prototype.setId=function(e,t){var n=qt({},this.get("attributes"));return n.id=e,this.set("attributes",n,t),this},r.prototype.getEl=function(e){var t=this.getView(e);return t&&t.el},r.prototype.getView=function(e){var t=this,n=t.view,i=t.views,s=t.em,l=e||(s==null?void 0:s.getCurrentFrameModel());return l&&(n=i.filter(function(u){return u.frameView===l.view})[0]),n},r.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),t=e==null?void 0:e.model;return this.getView(t)},r.prototype.__getScriptProps=function(){var e=this.props(),t=this.get("script-props")||[];return t.reduce(function(n,i){return n[i]=e[i],n},{})},r.prototype.getScriptString=function(e){var t=this,n=e||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,L.isFunction)(n)){var i=n.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),n=i.trim()}var s=this.em.getConfig(),l=f0(s.tagVarStart||"{[ "),u=f0(s.tagVarEnd||" ]}"),f=new RegExp("".concat(l,"([\\w\\d-]*)").concat(u),"g");n=n.replace(f,function(d,v){t.scriptUpdated();var m=t.attributes[v]||"";return(0,L.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return n},r.prototype.emitUpdate=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.em,l=Rf+(e?":".concat(e):""),u=e&&this.get(e);e&&this.updated.apply(this,Lo([e,u,e&&this.previous(e)],n,!1)),this.trigger.apply(this,Lo([l],n,!1)),s&&s.trigger.apply(s,Lo([l,this],n,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(t={},t[e]=u,t),options:n[2]||n[1]||{}})},r.prototype.emitWithEitor=function(e,t){[this.em,this].forEach(function(n){return n==null?void 0:n.trigger(e,t)})},r.prototype.onAll=function(e){return(0,L.isFunction)(e)&&(e(this),this.components().forEach(function(t){return t.onAll(e)})),this},r.prototype.forEachChild=function(e){(0,L.isFunction)(e)&&this.components().forEach(function(t){e(t),t.forEachChild(e)})},r.prototype.remove=function(e){var t=this;e===void 0&&(e={});var n=this.em,i=this.collection,s=function(){i&&i.remove(t,qt({action:xr.t.remove},e)),i||(t.components("",e),t.components().removeChildren(t,void 0,e))},l=qt({},e);return[this,n].map(function(u){return u.trigger(xr.I.removeBefore,t,s,l)}),!l.abort&&s(),this},r.prototype.destroy=function(e){return this.componentDVListener.destroy(),o.prototype.destroy.call(this,e)},r.prototype.move=function(e,t){if(t===void 0&&(t={}),e){var n=t.at,i=this.index(),s=e===this.parent(),l=i===n||i===n-1;if(!s||!l){s&&n&&n>i&&(t.at=n-1);var u=xr.t.move;this.remove({action:u,temporary:1}),e.append(this,qt({action:u},t)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(e){var t,n,i=(n=(t=this.em)===null||t===void 0?void 0:t.Components.getType(e))===null||n===void 0?void 0:n.model;if(!i)return!1;var s=this.constructor.typeExtends;return this instanceof i||s.has(e)},r.prototype.isChildOf=function(e){for(var t=(0,L.isString)(e),n=this.parent();n;){if(t){if(n.isInstanceOf(e))return!0}else if(n===e)return!0;n=n.parent()}return!1},r.prototype.resetId=function(e){var t=this.em,n=this.getId();if(!n)return this;var i=r.createId(this);this.setId(i);var s=t==null?void 0:t.Css.getIdRule(n),l=s==null?void 0:s.get("selectors").at(0);return l==null||l.set("name",i),this},r.prototype._getStyleRule=function(e){var t=e===void 0?{}:e,n=t.id,i=this.em,s=n||this.getId();return i==null?void 0:i.Css.getIdRule(s)},r.prototype._getStyleSelector=function(e){var t=this._getStyleRule(e);return t==null?void 0:t.get("selectors").at(0)},r.prototype._idUpdated=function(e,t,n){if(n===void 0&&(n={}),!n.idUpdate){var i=this.ccid,s=(this.get("attributes")||{}).id,l=(this.previous("attributes")||{}).id||i,u=r.getList(this);if(u[s]||!s&&l)return this.setId(l,{idUpdate:!0});delete u[l],u[s]=this,this.ccid=s;var f=this._getStyleSelector({id:l});f&&f.set({name:s,label:s})}},r.getDefaults=function(){return(0,L.result)(this.prototype,"defaults")},r.isComponent=function(e,t){return{tagName:(0,Le.toLowerCase)(e.tagName)}},r.ensureInList=function(e){var t=r.getList(e),n=e.getId(),i=t[n];if(!i)t[n]=e;else if(i!==e){var s=r.getIncrementId(n,t);e.setId(s),t[s]=e}e.components().forEach(function(l){return r.ensureInList(l)})},r.createId=function(e,t){t===void 0&&(t={});var n=r.getList(e),i=t.idMap,s=i===void 0?{}:i,l=e.get("attributes").id,u;return l?(u=r.getIncrementId(l,n,t),e.setId(u),l!==u&&(s[l]=u)):u=r.getNewId(n),n[u]=e,u},r.getNewId=function(e){for(var t=Object.keys(e).length,n=t.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-n),s="i".concat(i);e[s];)s=r.getNewId(e);return s},r.getIncrementId=function(e,t,n){n===void 0&&(n={});var i=n.keepIds,s=i===void 0?[]:i,l=1,u=e;if(s.indexOf(e)<0)for(;t[u];)l++,u="".concat(e,"-").concat(l);return u},r.getList=function(e){var t,n=e.em,i=n==null?void 0:n.Components;return(t=i==null?void 0:i.componentsById)!==null&&t!==void 0?t:{}},r.checkId=function(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n={}),i===void 0&&(i={});var s=(0,L.isArray)(e)?e:[e],l=i.keepIds,u=l===void 0?[]:l,f=i.idMap,d=f===void 0?{}:f;s.forEach(function(v){v.attributes;var m=v.attributes,y=m===void 0?{}:m,b=v.components,w=y.id;if(w&&n[w]&&u.indexOf(w)<0){var x=r.getIncrementId(w,n);d[w]=x,y.id=x,(0,L.isArray)(t)&&t.forEach(function(O){var M=O.selectors;M.forEach(function(T,E){T==="#".concat(w)&&(M[E]="#".concat(x))})})}b&&r.checkId(b,t,n,i)})},r.typeExtends=new Set,r}(i2);const Dr=LE;var jE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),td=function(){return td=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},td.apply(this,arguments)},fl="head",RE=["title","style","base","link","meta","script","noscript"],NE=function(o){jE(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return td(td({},o.prototype.defaults),{type:fl,tagName:fl,draggable:!1,highlightable:!1,droppable:function(e){var t=e.tagName;return!t||RE.includes((0,Le.toLowerCase)(t))}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===fl},r}(Dr);const FE=NE;var cs=Ut(2128),BE=Ut(6778),HE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),UE=function(o){HE(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.canMove=function(e,t){var n=this,i=this.getRealIndex(t),s=e._dragSource,l=s.model,u=s.content,f=s.dragDef,d=!l||!this.isSourceSameSymbol(l),v=((0,L.isFunction)(u)?f:u)||e.model;return Array.isArray(v)?d&&v.every(function(m,y){return n.canMoveSingleContent(m,i+y)}):d&&this.canMoveSingleContent(v,i)},r.prototype.canMoveSingleContent=function(e,t){return this.model.em.Components.canMove(this.model,e,t).result},r.prototype.addChildAt=function(e,t){var n=e._dragSource,i=n.content,s=this.isTextNode()&&e.isTextable(),l=(0,L.isFunction)(i)?i():i;return Array.isArray(l)?this.addMultipleChildren(l,t,s):this.addSingleChild(l,t,s)},r.prototype.addSingleChild=function(e,t,n){var i,s,l,u,f;return n?f=(u=(l=(s=(i=this.model)===null||i===void 0?void 0:i.getView)===null||s===void 0?void 0:s.call(i))===null||l===void 0?void 0:l.insertComponent)===null||u===void 0?void 0:u.call(l,e,{action:"add-component"}):f=this.model.components().add(e,{at:this.getRealIndex(t),action:"add-component"}),new this.constructor(f)},r.prototype.addMultipleChildren=function(e,t,n){var i=this,s;return e.forEach(function(l,u){s=i.addSingleChild(l,t+u,n)}),s},r.prototype.isSourceSameSymbol=function(e){if(Ai(this.model)){var t=ou(this.model),n=ns(t)?t:ni(t);if(n===e)return!0}return!1},Object.defineProperty(r.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),r}(BE.A);const v2=UE;var Js=function(){return Js=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Js.apply(this,arguments)},zE=function(){function o(r,e){var t=this;this.em=r,this.canvas=r.Canvas;var n=e||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),i=Array.isArray(n)?n:[n];this.el=i[0],this.counter=0,(0,L.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),i.forEach(function(s){return t.toggleEffects(s,!0)})}return o.prototype.toggleEffects=function(r,e){var t={on:et.on,off:et.AU},n=e?"on":"off";t[n](r,"dragenter",this.handleDragEnter),t[n](r,"dragover",this.handleDragOver),t[n](r,"drop",this.handleDrop),t[n](r,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(r){var e,t=r?et.on:et.AU,n=this.el.ownerDocument,i=(e=n.defaultView)===null||e===void 0?void 0:e.frameElement,s=function(l){return{legacyOnStartSort:function(){(0,et.on)(i,"pointermove",l.onMove)},legacyOnEnd:function(){(0,et.AU)(i,"pointermove",l.onMove)},customTarget:function(u){var f=u.event;return n.elementFromPoint(f.clientX,f.clientY)}}};this.getSorterOptions=r?s:void 0,t(i,"pointerenter",this.handleDragEnter),t(i,"pointermove",this.handleDragOver),t(document,"pointerup",this.handleDrop),t(i,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},o.prototype.endDrop=function(r,e){var t=this,n=t.em,i=t.dragStop;this.counter=0,i&&i(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",e)},o.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},o.prototype.updateCounter=function(r,e){this.counter+=r,this.counter===0&&this.endDrop(!0,e)},o.prototype.handleDragEnter=function(r){var e=this,t,n,i,s=this,l=s.em,u=s.canvas,f=r.dataTransfer,d=l.get("dragSource");if(!(!(d!=null&&d.content)&&!u.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var v=l.Utils,m=(d==null?void 0:d.content)||"<br>",y;if(l.stopDefault(),l.inAbsoluteMode()){var b=l.Components.getWrapper(),w=b.append({})[0],x=l.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:w,onEnd:function(Z,te,ee){var G=ee.cancelled,q;if(!G&&m){q=b.append(m)[0];var D=u.getOffset(),$=w.getStyle(),B=$.top,W=$.left,X=$.position,V=(0,et.Xy)(Z.target),_e=parseInt("".concat(parseFloat(W)+V.x-D.left),10),ue=parseInt("".concat(parseFloat(B)+V.y-D.top),10);q.addStyle({left:_e+"px",top:ue+"px",position:X})}e.handleDragEnd(q,f),w.remove()}});y=function(Z){return x.stop(r,{cancel:Z})},this.setAbsoluteDragContent=function(Z){return m=Z}}else{var O=new v.ComponentSorter({em:l,treeClass:v2,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:u.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:cs.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),M=(t=this.getSorterOptions)===null||t===void 0?void 0:t.call(this,O);M&&(O.eventHandlers.legacyOnStartSort=M.legacyOnStart,O.eventHandlers.legacyOnEnd=M.legacyOnEnd,O.containerContext.customTarget=M.customTarget);var T=this.getTempDropModel(m),E=(n=T.view)===null||n===void 0?void 0:n.el,U=E?[{element:E,dragSource:d}]:[];O.startSort(U),this.sorter=O,this.draggedNode=(i=O.sourceNodes)===null||i===void 0?void 0:i[0],y=function(Z){Z?O.cancelDrag():O.endDrag()}}this.dragStop=y,l.trigger("canvas:dragenter",f,m)}},o.prototype.getTempDropModel=function(r){var e,t=this.em.Components.getComponents(),n={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},i=t.add(r,Js(Js({},n),{temporary:!0})),s=t.remove(i,Js(Js({},n),{temporary:!0}));return s=s instanceof Array?s[0]:s,(e=s.view)===null||e===void 0||e.$el.data("model",s),s},o.prototype.handleDragEnd=function(r,e){var t=this.em;this.over=!1,r&&(t.set("dragResult",r),t.trigger("canvas:drop",e,r)),t.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},o.prototype.handleDrop=function(r){var e;r.preventDefault();var t=r.dataTransfer,n=this.getContentByData(t).content;this.draggedNode&&(this.draggedNode.content=n),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,n),this.endDrop(!n,r)},o.prototype.getContentByData=function(r){var e=this.em,t=r&&r.types,n=r&&r.files||[],i=e.get("dragSource"),s=r&&r.getData("text");if(n.length){s=[];for(var l=0;l<n.length;l++){var u=n[l],f=u.type.split("/")[0];f=="image"&&s.push({type:f,file:u,attributes:{alt:u.name}})}}else if(i!=null&&i.content)s=i.content;else if((0,L.indexOf)(t,"text/html")>=0)s=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,L.indexOf)(t,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,L.indexOf)(t,"text/json")>=0){var d=r&&r.getData("text/json");d&&(s=JSON.parse(d))}else t.length===1&&t[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var v={content:s};return e.trigger("canvas:dragdata",r,v),v},o}();const WE=zE;var qE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xo=function(){return xo=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},xo.apply(this,arguments)},KE=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},GE=function(o){qE(r,o);function r(e,t){var n=o.call(this,{model:e})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,L.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=n.el;n.module._config=xo(xo({},n.config||{}),{frameView:n}),n.frameWrapView=t,n.showGlobalTools=(0,L.debounce)(n.showGlobalTools.bind(n),50);var s=n.getCanvasModel();return n.listenTo(e,"change:head",n.updateHead),n.listenTo(s,"change:styles",n.renderStyles),e.view=n,(0,Le.setViewEl)(i,n),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var e=this,t=e.el,n=e.module,i=n.getCanvasView(),s=n.getCoords(),l=t.getBoundingClientRect(),u=i.getCanvasOffset(),f=i.getViewportDelta(),d=n.getZoomMultiplier(),v=(l.x-u.left-f.x-s.x)*d,m=(l.y-u.top-f.y-s.y)*d,y=l.width*d,b=l.height*d;return{x:v,y:m,width:y,height:b}},r.prototype.updateHead=function(){var e=this.model,t=this.getHead(),n=[],i=[],s=e.head,l=e.previous("head"),u=function(d){return d===void 0&&(d={}),Object.keys(d).sort().map(function(v){return"[".concat(v,'="').concat(d[v],'"]')}).join("")},f=function(d,v,m){d.forEach(function(y){var b=y.tag,w=y.attributes,x=v.some(function(O){return O.tag===b&&u(O.attributes)===u(w)});!x&&m.push(y)})};f(s,l,i),f(l,s,n),n.forEach(function(d){var v,m=t.querySelector("".concat(d.tag).concat(u(d.attributes)));(v=m==null?void 0:m.parentNode)===null||v===void 0||v.removeChild(m)}),(0,et.af)(t,i)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,et.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var e=this.el,t=this.getBody(),n=t.scrollTop,i=t.scrollLeft,s=e.offsetHeight,l=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:s,width:l,scrollTop:n,scrollLeft:i,scrollBottom:n+s,scrollRight:i+l}},r.prototype._getTool=function(e){var t=this.tools,n=this.getToolsEl();return t[e]||(t[e]=n.querySelector(e)),t[e]},r.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),To.prototype.remove.apply(this,t),this},r.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,t=this.em.Canvas,n=this.getWindow(),i=n.pageYOffset,s=e||0,l=t.getConfig().autoscrollLimit,u=this.getRect().height-l,f=i;if(s<l&&(f-=l-s),s>u&&(f+=s-u),!(0,L.isUndefined)(e)&&f!==i&&f>0&&f<this.lastMaxHeight){var d=this.getGlobalToolsEl();d.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,f),t.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,et.G2)(e).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var t=this.getWindow(),n=e?"on":"off",i={on:et.on,off:et.AU};i[n](t,"mousemove dragover",this.updateClientY),i[n](t,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var e=this,t=e.$el,n=e.ppfx,i=e.em;return t.attr({class:"".concat(n,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var e=this,t=this,n=t.el,i=t.model,s=t.em,l="frame:load",u={el:n,model:i,view:this},f=this.getCanvasModel(),d=function(v){var m;if(v.length>0){var y=v.shift(),b=(0,et.a_)("script",xo({type:"text/javascript"},(0,L.isString)(y)?{src:y}:y));(m=n.contentDocument)===null||m===void 0||m.head.appendChild(b),b.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?d(v):b.onerror=b.onload=d.bind(null,v)}else s==null||s.trigger(Lf.frameLoadHead,u),e.renderBody(),s==null||s.trigger(Lf.frameLoadBody,u),s==null||s.trigger(l,u)};n.onload=function(){var v=e.config.frameContent;if(v){var m=e.getDoc();m.open(),m.write(v),m.close()}u.window=e.getWindow(),s==null||s.trigger("".concat(l,":before"),u),s==null||s.trigger(Lf.frameLoad,u),e.renderHead(),d(KE([],f.get("scripts"),!0))}},r.prototype.renderStyles=function(e){e===void 0&&(e={});var t=this.getHead(),n=this.getCanvasModel(),i=function(v){return v===void 0&&(v=[]),v.map(function(m){return{tag:"link",attributes:xo({rel:"stylesheet"},(0,L.isString)(m)?{href:m}:m)}})},s=i(e.prev||n.previous("styles")),l=i(n==null?void 0:n.get("styles")),u=[],f=[],d=function(v,m,y){v.forEach(function(b){var w=b.attributes.href,x=m.some(function(O){return O.attributes.href===w});!x&&y.push(b)})};d(l,s,f),d(s,l,u),u.forEach(function(v){var m,y=t.querySelector('link[href="'.concat(v.attributes.href,'"]'));(m=y==null?void 0:y.parentNode)===null||m===void 0||m.removeChild(y)}),(0,et.af)(t,f)},r.prototype.renderHead=function(){var e,t=this,n=t.model,i=t.em,s=n.root,l=(e=i==null?void 0:i.Components)===null||e===void 0?void 0:e.getType(fl).view;l&&(this.headView=new l({el:this.getHead(),model:s.head,config:xo(xo({},s.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var e=this,t,n,i,s=this,l=s.config,u=s.em,f=s.model,d=s.ppfx,v=this.getDoc(),m=this.getBody(),y=this.getWindow(),b=f.hasAutoHeight(),w=u.config;y._isEditor=!0,this.renderStyles({prev:[]});var x="#ffca6f";(0,et.BC)(m,`<style>
      `.concat(w.baseCss||l.frameStyle||"",`

      `).concat(b?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(b?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(d,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(d,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(d,`selected-parent {
        outline: 2px solid `).concat(x,` !important
      }

      .`).concat(d,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(d,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(d,`no-pointer {
        pointer-events: none;
      }

      .`).concat(d,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(d,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(d,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(d,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(d,`is__grabbing,
      .`).concat(d,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(w.canvasCss||"",`
      `).concat(w.protectedCss||"",`
    </style>`));var O=f.root,M=(((t=u==null?void 0:u.Components)===null||t===void 0?void 0:t.getType("wrapper"))||{}).view;M&&(this.wrapper=new M({model:O,config:xo(xo({},O.config),{em:u,frameView:this})}).render(),(0,et.BC)(m,(n=this.wrapper)===null||n===void 0?void 0:n.el),(0,et.BC)(m,new e2({collection:f.getStyles(),config:xo(xo({},u.Css.getConfig()),{frameView:this})}).render().el),(0,et.BC)(m,this.getJsContainer()),(0,et.on)(m,"click",function(T){var E;return T&&((E=T.target)===null||E===void 0?void 0:E.tagName)=="A"&&T.preventDefault()}),(0,et.on)(m,"submit",function(T){return T&&T.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(T){return T.event.split(" ").forEach(function(E){v.addEventListener(E,function(U){return e.el.dispatchEvent((0,et.yL)(U,T.class))},T.opts)})}),this._toggleEffects(!0),(0,Le.hasDnd)(u)&&(this.droppable=new WE(u,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,f.trigger("loaded"))},r.prototype._toggleEffects=function(e){var t=e?et.on:et.AU,n=this.getWindow();n&&t(n,"".concat(et.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(To);const ZE=GE;var g2=Ut(5633),XE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qs=function(){return Qs=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qs.apply(this,arguments)},YE=function(o){XE(r,o);function r(e,t){var n=o.call(this,{model:e})||this;return(0,L.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Qs(Qs({},e.config),{frameWrapView:n}),n.cv=t,n.frame=new ZE(e,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,L.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,L.debounce)(n.updateSize.bind(n),0),n.listenTo(e,"loaded",n.frameLoaded),n.listenTo(e,"change:x change:y",n.updatePos),n.listenTo(e,"change:width change:height",n.updateSize),n.listenTo(e,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var e=this,t=this,n=t.module,i=t.model,s,l,u,f=function(d){n.toggleFramesEvents(d)};this.dragger=new g2.A({onStart:function(){var d=i.attributes,v=d.x,m=d.y;u=e.em.getZoomMultiplier(),s=v,l=m,f(!1)},onEnd:function(){return f(!0)},setPosition:function(d){i.set({x:s+d.x*u,y:l+d.y*u})}})},r.prototype.startDrag=function(e){var t;e&&((t=this.dragger)===null||t===void 0||t.start(e))},r.prototype.__clear=function(e){var t=this.frame;t&&t.remove(e),(0,et.YZ)(this.elTools)},r.prototype.remove=function(e){var t=this;return this.__clear(e),To.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(n){return t[n]=0}),this},r.prototype.updateOffset=function(){var e,t=this,n=t.em,i=t.$el,s=t.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(e=s==null?void 0:s.model)===null||e===void 0||e._emitUpdated())},r.prototype.updatePos=function(e){var t=this,n=t.model,i=t.el,s=n.attributes,l=s.x,u=s.y,f=i.style;this.frame.rect=void 0,f.left=isNaN(l)?l:"".concat(l,"px"),f.top=isNaN(u)?u:"".concat(u,"px"),e&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var e=this,t=e.em,n=e.el,i=e.$el,s=e.model,l=e.classAnim,u=e.frame;if(u){u.rect=void 0,i.addClass(l);var f=this.__handleSize(),d=f.noChanges,v=f.width,m=f.height;((0,L.isNull)(v)||(0,L.isNull)(m))&&s.set(Qs(Qs({},v?{}:{width:n.offsetWidth}),m?{}:{height:n.offsetHeight}),{silent:1}),t.stopDefault({preserveSelected:1}),d?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var e=this,t=e.frame,n=e.em;n.trigger("frame:scroll",{frame:t,body:t.getBody(),target:t.getWindow()})},r.prototype.frameLoaded=function(){var e=this,t=e.frame;e.config,t.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var e,t,n="px",i=this,s=i.model,l=i.el,u=l.style,f=s.attributes,d=f.width,v=f.height,m=u.width||"",y=u.height||"",b=d||"",w=v||"",x=m==b&&y==w,O=(0,L.isNumber)(b)?"".concat(b).concat(n):b,M=(0,L.isNumber)(w)?"".concat(w).concat(n):w;if(u.width=O,s.hasAutoHeight()){var T=this.frame.el;if(T.contentDocument){var E=T.contentDocument,U=new ResizeObserver(function(){u.height="".concat(E.body.scrollHeight,"px")});U.observe(E.body),(e=this.sizeObserver)===null||e===void 0||e.disconnect(),this.sizeObserver=U}}else u.height=M,(t=this.sizeObserver)===null||t===void 0||t.disconnect(),delete this.sizeObserver;return{noChanges:x,width:d,height:v,newW:b,newH:w}},r.prototype.render=function(){var e=this,t=e.frame,n=e.$el,i=e.ppfx,s=e.cv,l=e.model,u=e.el,f=l.attributes.onRender;this.__clear(),this.__handleSize(),t.render(),n.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(l.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(t.el);var d=(0,et.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=d;var v=s==null?void 0:s.toolsWrapper;return v&&v.appendChild(d),f&&f({el:u,elTop:u.querySelector("[data-frame-top]"),elRight:u.querySelector("[data-frame-right]"),elBottom:u.querySelector("[data-frame-bottom]"),elLeft:u.querySelector("[data-frame-left]"),frame:l,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(To);const JE=YE;var QE=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eP=function(o){QE(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=t.canvasView,n._module=t.module,n}return r.prototype.onRemoveBefore=function(e,t){t===void 0&&(t={}),e.forEach(function(n){return n.remove(t)})},r.prototype.onRender=function(){var e=this,t=e.$el,n=e.ppfx;t.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(t){return t.remove()}),this.viewCollection=[]},r.prototype.renderView=function(e,t){return new JE(e,this.canvasView)},r}(jT);const tP=eP;var rP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rd=function(){return rd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},rd.apply(this,arguments)},nP=function(o){rP(r,o);function r(e){var t=o.call(this,{model:e})||this;t.ready=!1,(0,L.bindAll)(t,"clearOff","onKeyPress","onWheel","onPointer");var n=t,i=n.em,s=n.pfx,l=n.ppfx,u=t.module.events;return t.className="".concat(s,"canvas ").concat(l,"no-touch-actions").concat(i.config.customUI?"":" ".concat(s,"canvas-bg")),t.clsUnscale="".concat(s,"unscale"),t._initFrames(),t.listenTo(i,u.refresh,t.clearOff),t.listenTo(i,"component:selected",t.checkSelected),t.listenTo(i,"".concat(u.coords," ").concat(u.zoom),t.updateFrames),t.listenTo(e,"change:frames",t._onFramesUpdate),t.toggleListeners(!0),t}return r.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var e=this,t=e.frames,n=e.model,i=e.config,s=e.em,l=n.frames;s.set("readyCanvas",0),l.once("loaded:all",function(){return s.set("readyCanvas",1)}),t==null||t.remove(),this.frames=new tP({collection:l},rd(rd({},i),{canvasView:this}))},r.prototype.checkSelected=function(e,t){var n;t===void 0&&(t={});var i=t.scroll,s=this.em.getCurrentFrame();i&&((n=e.views)===null||n===void 0||n.forEach(function(l){l.frameView===s&&l.scrollIntoView(i)}))},r.prototype.remove=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,To.prototype.remove.apply(this,t),this.toggleListeners(!1),this},r.prototype.preventDefault=function(e){var t;e&&(e.preventDefault(),(t=e._parentEvent)===null||t===void 0||t.preventDefault())},r.prototype.toggleListeners=function(e){var t=this,n=t.el,i=t.config,s=e?et.on:et.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(n,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),s(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(e,t){var n=this.module,i=n.getCoords(),s=n.getZoomMultiplier(),l=this.getViewportDelta();return{x:(e-i.x-l.x)*s,y:(t-i.y-l.y)*s}},r.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var t=this.getCanvasOffset(),n=(0,et.Xy)(),i={x:e.clientX-t.left+n.x,y:e.clientY-t.top+n.y};if(e._parentEvent){var s=e.target.getBoundingClientRect(),l=this.module.getZoomDecimal();i.x=s.left-t.left+n.x+e.clientX*l,i.y=s.top-t.top+n.y+e.clientY*l}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},r.prototype.onKeyPress=function(e){var t=this.em,n=(0,et.Ch)(e);n===" "&&t.getZoomDecimal()!==1&&!t.Canvas.isInputFocused()&&(this.preventDefault(e),t.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(e){var t=this,n=t.module,i=t.config;if(i.infiniteCanvas){this.preventDefault(e);var s=e.deltaX,l=e.deltaY,u=n.getZoomDecimal(),f=(0,et.rp)(e),d=n.getCoords();if(f){var v=u-l*u*.01;n.setZoom(v*100);var m=this.model.getPointerCoords(Ge.x2.Screen),y=this.getCanvasOffset(),b=m.x-y.width/2,w=m.y-y.height/2,x=v/u,O=b-(b-d.x)*x,M=w-(w-d.y)*x;n.setCoords(O,M)}else this.onPointer(e),n.setCoords(d.x-s,d.y-l)}},r.prototype.updateFrames=function(e){var t=this.em,n=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",t.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){t.stopDefault(i),t.runDefault(i),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var e=this,t=e.framesArea,n=e.model,i=e.module,s=e.cvStyle,l=e.clsUnscale,u=i.getZoomMultiplier();if(t){var f=n.attributes,d=f.x,v=f.y,m=i.getZoomDecimal();t.style.transform="scale(".concat(m,") translate(").concat(d*u,"px, ").concat(v*u,"px)")}s&&(s.innerHTML=`
        .`.concat(l," { scale: ").concat(u,` }
      `))},r.prototype.fitViewport=function(e){var t,n;e===void 0&&(e={});var i=this,s=i.em,l=i.module,u=i.model,f=this.getCanvasOffset(),d=e.el,v=d&&((t=(0,Le.getComponentView)(d))===null||t===void 0?void 0:t.frameView),m=v?v.model:e.frame||s.getCurrentFrameModel()||u.frames.at(0),y=m.attributes,b=y.x,w=y.y,x={x:b??0,y:w??0,width:m.width,height:m.height};if(d){var O=this.getElBoxRect(d);x.x=x.x+O.x,x.y=x.y+O.y,x.width=O.width,x.height=O.height}var M=e.ignoreHeight,T=(n=e.gap)!==null&&n!==void 0?n:0,E=(0,L.isNumber)(T),U=E?T:T.x,Z=E?T:T.y,te=x.width+U*2,ee=x.height+Z*2,G=f.width,q=f.height,D=G/te,$=q/ee,B=M?D:Math.min(D,$),W=B*100;l.setZoom(W);var X=-x.x+(m.width>=G?G/2-te/2:-U),V=-x.y+q/2-ee/2,_e={x:(X+U)*B,y:(V+Z)*B};if(M){var ue=l.getZoomMultiplier(),Ve=q*ue,le=Ve-q,N=le/2;_e.y=(-x.y+Z)*B-N/ue}l.setCoords(_e.x,_e.y)},r.prototype.isElInViewport=function(e){var t=(0,Le.getElement)(e),n=(0,et.C8)(t),i=this.getFrameOffset(t),s=n.top,l=n.left;return s>=0&&l>=0&&s<=i.height&&l<=i.width},r.prototype.offset=function(e,t){t===void 0&&(t={});var n=t.noScroll,i=(0,et.C8)(e),s=n?{x:0,y:0}:(0,et.Xy)(e);return{top:i.top+s.y,left:i.left+s.x,width:i.width,height:i.height}},r.prototype.getRectToScreen=function(e){var t,n,i,s,l=this.module.getZoomDecimal(),u=this.module.getCoords(),f=this.getViewportDelta(),d=((t=e.x)!==null&&t!==void 0?t:0)*l+u.x+f.x||0,v=((n=e.y)!==null&&n!==void 0?n:0)*l+u.y+f.y||0;return{x:d,y:v,width:((i=e.width)!==null&&i!==void 0?i:0)*l,height:((s=e.height)!==null&&s!==void 0?s:0)*l}},r.prototype.getElBoxRect=function(e,t){var n,i,s;t===void 0&&(t={});var l=this.module,u=(0,et.C8)(e),f=u.width,d=u.height,v=u.left,m=u.top,y=(n=(0,Le.getComponentView)(e))===null||n===void 0?void 0:n.frameView,b=y==null?void 0:y.getBoxRect(),w=l.getZoomMultiplier(),x=(i=b==null?void 0:b.x)!==null&&i!==void 0?i:0,O=(s=b==null?void 0:b.y)!==null&&s!==void 0?s:0,M=this.el,T=(0,et.Xy)(),E=v+x+(M.scrollLeft+T.x)*w,U=m+O+(M.scrollTop+T.y)*w,Z={x:E,y:U,width:f,height:d};return t.local&&(Z.x=v,Z.y=m),t.toScreen?this.getRectToScreen(Z):Z},r.prototype.getViewportRect=function(e){e===void 0&&(e={});var t=this.getCanvasOffset(),n=t.top,i=t.left,s=t.width,l=t.height,u=this.module;if(e.toWorld){var f=u.getZoomMultiplier(),d=u.getCoords(),v=this.getViewportDelta(),m=-d.x-v.x||0,y=-d.y-v.y||0;return{x:m*f,y:y*f,width:s*f,height:l*f}}else return{x:i,y:n,width:s,height:l}},r.prototype.getViewportDelta=function(e){var t=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),i=n.width,s=n.height,l=i*t,u=s*t,f=l-i,d=u-s;return{x:f/2/t,y:d/2/t}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(e){var t;if(!this.frmOff||e){var n=(t=this.frame)===null||t===void 0?void 0:t.el,i=e==null?void 0:e.ownerDocument.defaultView,s=i?i.frameElement:n;this.frmOff=this.offset(s||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(e,t){t===void 0&&(t={});var n=this.module.getZoomDecimal(),i=this.getFrameOffset(e),s=this.el,l=this.getCanvasOffset(),u=this.offset(e,t),f=t.avoidFrameOffset?0:i.top,d=t.avoidFrameOffset?0:i.left,v=t.avoidFrameZoom?u.top:u.top*n,m=t.avoidFrameZoom?u.left:u.left*n,y=t.avoidFrameOffset?v:v+f-l.top+s.scrollTop,b=t.avoidFrameOffset?m:m+d-l.left+s.scrollLeft,w=t.avoidFrameZoom?u.height:u.height*n,x=t.avoidFrameZoom?u.width:u.width*n;return{top:y,left:b,height:w,width:x,zoom:n,rect:u}},r.prototype.getElementOffsets=function(e){if(!e||(0,et.ir)(e))return{};var t={},n=window.getComputedStyle(e),i=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(l){t[l]=parseFloat(n[l])*i}),t},r.prototype.getPosition=function(e){var t;e===void 0&&(e={});var n=(t=this.frame)===null||t===void 0?void 0:t.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var i=n.body,s=this.module.getZoomDecimal(),l=this.getFrameOffset(),u=this.getCanvasOffset(),f=e.noScroll;return{top:l.top+(f?0:i.scrollTop)*s-u.top,left:l.left+(f?0:i.scrollLeft)*s-u.left,width:u.width,height:u.height}},r.prototype.updateScript=function(e){var t=e.model,n=t.getId(),i={component:t,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,et.a_)("div",{"data-id":n});var s=this.getJsContainer();s==null||s.appendChild(e.scriptContainer)}e.el.id=n,e.scriptContainer.innerHTML="";var l=document.createElement("script"),u=t.getScriptString(),f=t.get("script-props")?u:`function(){
`.concat(u,`
;}`),d=JSON.stringify(t.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        var script = (`).concat(f,`).bind(item);
        script(`).concat(d,`, { el: item });
      }, 1);`),setTimeout(function(){t.emitWithEitor(xr.I.scriptMountBefore,i);var v=e.scriptContainer;v==null||v.appendChild(l),t.emitWithEitor(xr.I.scriptMount,i)},0)},r.prototype.getJsContainer=function(e){var t=this.getFrameView(e);return t==null?void 0:t.getJsContainer()},r.prototype.getFrameView=function(e){return(e==null?void 0:e.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var e=this,t=e.model,n=e.frames,i=e.em,s=e.framesArea,l=t.frames;l.listenToLoad(),n.render();var u=l.at(0),f=u==null?void 0:u.view;i.setCurrentFrame(f),s==null||s.appendChild(n.el),this.frame=f,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var e=this,t=e.el,n=e.$el,i=e.ppfx,s=e.config,l=e.em;n.html(this.template());var u=n.find("[data-frames]");this.framesArea=u.get(0);var f=n.find("[data-tools]");return this.toolsWrapper=f.get(0),f.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=t.querySelector("#".concat(i,"tools")),this.hlEl=t.querySelector(".".concat(i,"highlighter")),this.badgeEl=t.querySelector(".".concat(i,"badge")),this.placerEl=t.querySelector(".".concat(i,"placeholder")),this.ghostEl=t.querySelector(".".concat(i,"ghost")),this.toolbarEl=t.querySelector(".".concat(i,"toolbar")),this.resizerEl=t.querySelector(".".concat(i,"resizer")),this.offsetEl=t.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=t.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=t.querySelector(".".concat(i,"tools-gl")),this.spotsEl=t.querySelector("[data-spots]"),this.cvStyle=t.querySelector("[data-canvas-style]"),this.el.className=(0,Le.getUiClass)(l,this.className),this.ready=!0,this._renderFrames(),this},r}(To);const oP=nP;var iP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ya=function(){return Ya=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ya.apply(this,arguments)},aP=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},sP=function(o){iP(r,o);function r(e){var t=o.call(this,e,"Canvas",nT())||this;return t.events=Wf,t.framesById={},t.canvas=new kT(t),t.spots=new VT(t),t.model=t.canvas,t.startAutoscroll=t.startAutoscroll.bind(t),t.stopAutoscroll=t.stopAutoscroll.bind(t),t}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(e){return this.getFrames()[e||0]},r.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},r.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},r.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},r.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},r.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},r.prototype._getLocalEl=function(e,t,n){var i=e,s=t==null?void 0:t.frameView;return i=s?s[n]():i,i},r.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},r.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},r.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},r.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},r.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new oP(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),t=this.offset(this.getElement());return{top:e.top-t.top,left:e.left-t.left}},r.prototype.offset=function(e){return this.getCanvasView().offset(e)},r.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},r.prototype.getElementPos=function(e,t){return this.getCanvasView().getElementPos(e,t)},r.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},r.prototype.getRect=function(){var e,t=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},n=t.top,i=n===void 0?0:n,s=t.left,l=s===void 0?0:s;return Ya(Ya({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:l})},r.prototype.getTargetToElementDim=function(e,t,n){n===void 0&&(n={});var i=n||{},s=this.getCanvasView().getPosition();if(s){var l=i.elPos||this.getCanvasView().getElementPos(t),u=n.toRight||0,f=i.targetHeight||e.offsetHeight,d=i.targetWidth||e.offsetWidth,v=i.event||null,m=l.top-f,y=l.left;y+=u?l.width:0,y=u?y-d:y;var b=y<s.left?s.left:y,w=m<s.top?s.top:m;w=w>l.top+l.height?l.top+l.height:w;var x={top:w,left:b,elementTop:l.top,elementLeft:l.left,elementWidth:l.width,elementHeight:l.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return v&&this.em&&this.em.trigger(v,x),x}},r.prototype.canvasRectOffset=function(e,t,n){var i=this;n===void 0&&(n={});var s=function(u){var f=u.defaultView;return f==null?void 0:f.frameElement},l=function(u,f,d){f===void 0&&(f=1);var v=i.em.getZoomDecimal(),m=f?"top":"left",y=u.ownerDocument,b=n.offset?s(y):{},w=b.offsetTop,x=w===void 0?0:w,O=b.offsetLeft,M=O===void 0?0:O,T=y.body||{},E=T.scrollTop,U=E===void 0?0:E,Z=T.scrollLeft,te=Z===void 0?0:Z,ee=f?U:te,G=f?x:M;return d[m]-(ee-G)*v};return{top:l(e,1,t),left:l(e,0,t)}},r.prototype.getTargetToElementFixed=function(e,t,n){n===void 0&&(n={});var i=n.pos||this.getElementPos(e,{noScroll:!0}),s=n.canvasOff||this.canvasRectOffset(e,i),l=t.offsetHeight||0,u=t.offsetWidth||0,f=i.left+i.width,d=this.getCanvasView(),v=d.getPosition(),m=d.getFrameOffset(e),y=n.event,b=-l,w=(0,L.isUndefined)(n.left)?i.width-u:n.left;if(w=i.left<-w?-i.left:w,w=f>v.width?w-(f-v.width):w,s.top<l){var x=i.height+l,O=x<m.height;O?b=b+x:b=-s.top<i.height?-s.top:i.height}var M={top:b,left:w,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:i,canvasOffset:s,canvasRect:v,targetWidth:u,targetHeight:l};return y&&this.em.trigger(y,M),M},r.prototype.getMouseRelativePos=function(e,t){t===void 0&&(t={});var n=t.subWinOffset,i=e.target.ownerDocument,s=i.defaultView||i.parentWindow,l=s.frameElement,u=n?s.pageYOffset:0,f=n?s.pageXOffset:0,d=this.getZoomMultiplier(),v=0,m=0;if(l){var y=l.getBoundingClientRect();v=y.top||0,m=y.left||0}return{y:(e.clientY+v-u)*d,x:(e.clientX+m-f)*d}},r.prototype.getMouseRelativeCanvas=function(e,t){var n,i=this.getZoomDecimal(),s=(n=this.getCanvasView().getPosition(t))!==null&&n!==void 0?n:{},l=s.top,u=l===void 0?0:l,f=s.left,d=f===void 0?0:f;return{y:e.clientY*i+u,x:e.clientX*i+d}},r.prototype.startDrag=function(e){this.em.set("dragSource",e)},r.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var e=this.getDocument(),t=this.getFrameEl(),n=aP(["body"],this.config.notTextable,!0),i=t&&document.activeElement===t,s=i?e&&e.activeElement:document.activeElement;return s&&!n.some(function(l){return s.matches(l)})},r.prototype.scrollTo=function(e,t){t===void 0&&(t={});var n=(0,Le.getElement)(e),i=n&&(0,Le.getViewEl)(n);i&&i.scrollIntoView(t)},r.prototype.startAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.startAutoscroll()},r.prototype.stopAutoscroll=function(e){var t=e&&e.view||this.em.getCurrentFrame();t&&t.stopAutoscroll()},r.prototype.setZoom=function(e){return this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(e,t,n){var i;n===void 0&&(n={});var s=e||e===0,l=t||t===0,u={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(u.x=parseFloat("".concat(e))),l&&(u.y=parseFloat("".concat(t))),n.toWorld){var f=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();f&&(s&&(u.x=u.x-f.x),l&&(u.y=u.y-f.y))}return this.canvas.set(u),this},r.prototype.getCoords=function(){var e=this.canvas.attributes,t=e.x,n=e.y;return{x:t,y:n}},r.prototype.getPointer=function(e){var t=this.canvas.attributes,n=t.pointer,i=t.pointerScreen;return e?i:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},r.prototype.fitViewport=function(e){var t;(t=this.canvasView)===null||t===void 0||t.fitViewport(e)},r.prototype.toggleFramesEvents=function(e){var t=this.getFramesEl().style;t.pointerEvents=e?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},r.prototype.addFrame=function(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),this.canvas.frames.add(new Yw(this,Ya({},e)),t)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(e,t){var n;t===void 0&&(t={});var i=e,s=this.getSpots(i);if(s.length){var l=s[0];return l.set(i),l}var u=i.componentView||((n=i.component)===null||n===void 0?void 0:n.view),f=new Oo.A(this,Ya(Ya({},i),{id:i.id||"cs_".concat(i.type,"_").concat(u==null?void 0:u.cid),type:i.type||""}));return this.spots.add(f,t),f},r.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},r.prototype.removeSpots=function(e){e===void 0&&(e={});var t=(0,L.isArray)(e)?e:this.getSpots(e),n=this.spots.remove(t);return n},r.prototype.hasCustomSpot=function(e){var t=this.config.customSpots;return!!(t===!0||t&&e&&t[e])},r.prototype.getWorldRectToScreen=function(e){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.getRectToScreen(e)},r.prototype.refresh=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.canvasView;s==null||s.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(i.refresh,e)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var e=this,t;this.canvas.stopListening(),(t=this.canvasView)===null||t===void 0||t.remove(),["model","droppable"].forEach(function(n){return e[n]={}})},r}(Xn);const lP=sP;var cP=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const uP=cP;var fP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nd=function(){return nd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},nd.apply(this,arguments)},dP=function(o){fP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return nd(nd({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var e=this.content,t=this.parent();return t!=null&&t.is("script")?e:this.__escapeContent(e)},r.prototype.__escapeContent=function(e){return(0,Le.escapeNodeContent)(e)},r.isComponent=function(e){var t;if(e.nodeType===3)return{type:"textnode",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(Dr);const m2=dP;var pP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zv=function(){return zv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zv.apply(this,arguments)},hP=function(o){pP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return zv({},o.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(e){var t;if(e.nodeType==8)return{type:"comment",content:(t=e.textContent)!==null&&t!==void 0?t:""}},r}(m2);const vP=hP;var gP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),od=function(){return od=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},od.apply(this,arguments)},Th="iframe",mP=function(o){gP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return od(od({},o.prototype.defaults),{type:Th,tagName:Th,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Th},r}(Dr);const yP=mP;var _P=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),id=function(){return id=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},id.apply(this,arguments)},d0='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',bP=function(o){_P(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("attributes").src;return i&&(0,Le.buildBase64UrlFromSvg)((0,L.result)(n,"defaults").src)!==i&&n.set("src",i,{silent:!0}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return id(id({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(d0,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(d0,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var e=this.em;if(e){var t=e.Commands,n="image-editor";if(t.has(n)){for(var i=!1,s=this.get("toolbar"),l=0;l<s.length;l++)if(s[l].command==="image-editor"){i=!0;break}i||(s.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",s))}}},r.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.getSrcResult();return t&&(e.src=t),e},r.prototype.getSrcResult=function(e){e===void 0&&(e={});var t=this.get(e.fallback?"fallback":"src")||"",n=t;return t&&t.substr(0,4)==="<svg"&&(n=(0,Le.buildBase64UrlFromSvg)(t)),n},r.prototype.isDefaultSrc=function(){var e=this.get("src"),t=(0,L.result)(this,"defaults").src;return e===t||e===(0,Le.buildBase64UrlFromSvg)(t)},r.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=t.attributes;return n&&t.src===n.src&&delete t.src,t},r.prototype.parseUri=function(e){var t={},n=function(i){i===void 0&&(i="");for(var s={},l=i.substring(1).split("&"),u=0;u<l.length;u++){var f=l[u].split("="),d=decodeURIComponent(f[0]);d&&(s[d]=decodeURIComponent(f[1]||""))}return s};if((0,Le.hasWin)())t=document.createElement("a"),t.href=e;else if(typeof URL<"u")try{t=new URL(e)}catch{}return{hostname:t.hostname||"",pathname:t.pathname||"",protocol:t.protocol||"",search:t.search||"",hash:t.hash||"",port:t.port||"",query:n(t.search)}},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)==="img"},r}(Dr);const Vg=bP;var wP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ad=function(){return ad=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ad.apply(this,arguments)},xP=function(o){wP(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ad(ad({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var t=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,L.isFunction)(e)?this.forEachChild(function(n){e(n)&&t(n)}):this.forEachChild(t)}},r}(Dr);const Ig=xP;var CP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sd=function(){return sd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sd.apply(this,arguments)},Eh="label",SP=function(o){CP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return sd(sd({},o.prototype.defaults),{type:Eh,tagName:Eh,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Eh},r}(Ig);const OP=SP;var TP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ld=function(){return ld=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ld.apply(this,arguments)},p0="link",EP=function(o){TP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ld(ld({},o.prototype.defaults),{type:p0,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){t===void 0&&(t={});var n;if((0,Le.toLowerCase)(e.tagName)==="a"){var i=t.textTags||[];n={type:p0,editable:!1};var s=e.childNodes,l=s.length;l||delete n.editable,(0,L.forEach)(s,function(u){var f=u.tagName;(u.nodeType==3&&u.textContent.trim()!==""||f&&i.indexOf((0,Le.toLowerCase)(f))>=0)&&delete n.editable})}return n},r}(Ig);const PP=EP;var kP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cd=function(){return cd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cd.apply(this,arguments)},AP=function(o){kP(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var e=o.prototype.defaults;return cd(cd({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var e=this.get("address"),t=this.get("zoom"),n=this.get("mapType");e=e?"&q="+e:"",t=t?"&z="+t:"",n=n?"&t="+n:"";var i=this.get("mapUrl")+"?"+e+t+n;return i+="&output=embed",i},r.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),t=e.query;t.q&&this.set("address",t.q),t.z&&this.set("zoom",t.z),t.t&&this.set("mapType",t.t)},r.isComponent=function(e){if((0,Le.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},r}(Vg);const MP=AP;var VP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ud=function(){return ud=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ud.apply(this,arguments)},Ph="script",IP=function(o){VP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return ud(ud({},o.prototype.defaults),{type:Ph,tagName:Ph,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Ph},r}(Dr);const $P=IP;var DP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),fd=function(){return fd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},fd.apply(this,arguments)},kh="svg",LP=function(o){DP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return fd(fd({},o.prototype.defaults),{type:kh,tagName:kh,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var e=this.get("tagName"),t=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),t||e},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===kh},r}(Dr);const y2=LP;var jP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dd=function(){return dd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},dd.apply(this,arguments)},RP=function(o){jP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return dd(dd({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(e,t){return t===void 0&&(t={}),!!t.inSvg},r}(y2);const NP=RP;var FP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pd=function(){return pd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},pd.apply(this,arguments)},Ah="table",BP=function(o){FP(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("components");return!i.length&&i.add({type:"tbody"}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return pd(pd({},o.prototype.defaults),{type:Ah,tagName:Ah,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Ah},r}(Dr);const HP=BP;var UP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hd=function(){return hd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},hd.apply(this,arguments)},Mh="tbody",zP=function(o){UP(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this,i=n.get("components"),s=n.get("columns"),l=n.get("rows");if(!i.length){for(var u=[];l--;){for(var f=[],d=s;d--;)f.push({type:"cell",classes:["cell"]});u.push({type:"row",classes:["row"],components:f})}i.add(u)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return hd(hd({},o.prototype.defaults),{type:Mh,tagName:Mh,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Mh},r}(Dr);const $g=zP;var WP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vd=function(){return vd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},vd.apply(this,arguments)},qP=function(o){WP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return vd(vd({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return["td","th"].indexOf((0,Le.toLowerCase)(e.tagName))>=0},r}(Dr);const KP=qP;var GP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gd=function(){return gd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},gd.apply(this,arguments)},Vh="tfoot",ZP=function(o){GP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return gd(gd({},o.prototype.defaults),{type:Vh,tagName:Vh})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Vh},r}($g);const XP=ZP;var YP=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),md=function(){return md=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},md.apply(this,arguments)},Ih="thead",JP=function(o){YP(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return md(md({},o.prototype.defaults),{type:Ih,tagName:Ih})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===Ih},r}($g);const QP=JP;var ek=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yd=function(){return yd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},yd.apply(this,arguments)},h0="tr",tk=function(o){ek(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return yd(yd({},o.prototype.defaults),{tagName:h0,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===h0},r}(Dr);const rk=tk;var nk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_d=function(){return _d=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},_d.apply(this,arguments)},$h="video",js="yt",Rs="vi",Ns="ytnc",v0="so",Dh=function(o){return o&&o!=="0"},ok=function(o){nk(r,o);function r(e,t){e===void 0&&(e={});var n=o.call(this,e,t)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return _d(_d({},o.prototype.defaults),{type:$h,tagName:$h,videoId:"",void:!1,provider:v0,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===v0){var e=this.get("attributes"),t=e.controls,n=e.autoplay,i=e.loop,s={};(0,Le.isDef)(t)&&(s.controls=!!t),(0,Le.isDef)(n)&&(s.autoplay=!!n),(0,Le.isDef)(i)&&(s.loop=!!i),(0,Le.isEmptyObj)(s)||this.set(s)}},r.prototype.updateTraits=function(){var e=this.em,t=this.get("provider"),n="iframe",i;switch(t){case js:case Ns:i=this.getYoutubeTraits();break;case Rs:i=this.getVimeoTraits();break;default:n="video",i=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:i}),e.get("ready")&&e.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var e=this.get("provider"),t=this.parseUri(this.get("src")),n=t.query;switch(e){case js:case Ns:case Rs:this.set("videoId",t.pathname.split("/").pop()),n.list&&this.set("list",n.list),Dh(n.autoplay)&&this.set("autoplay",!0),Dh(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),Dh(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break}},r.prototype.updateSrc=function(){var e=this.get("provider"),t="";switch(e){case js:t=this.getYoutubeSrc();break;case Ns:t=this.getYoutubeNoCookieSrc();break;case Rs:t=this.getVimeoSrc();break}this.set({src:t})},r.prototype.getAttrToHTML=function(){var e=o.prototype.getAttrToHTML.call(this),t=this.get("provider");switch(t){case js:case Ns:case Rs:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:js,name:"Youtube"},{value:Ns,name:"Youtube (no cookie)"},{value:Rs,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),t=this.get("ytUrl"),n=this.get("list");return t+=e+(e.indexOf("?")<0?"?":""),t+=n?"&list=".concat(n):"",t+=this.get("autoplay")?"&autoplay=1&mute=1":"",t+=this.get("controls")?"":"&controls=0&showinfo=0",t+=this.get("loop")?"&loop=1&playlist=".concat(e):"",t+=this.get("rel")?"":"&rel=0",t+=this.get("modestbranding")?"&modestbranding=1":"",t},r.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},r.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},r.isComponent=function(e){var t=e.tagName,n=e.src,i=/youtube\.com\/embed/.test(n),s=/youtube-nocookie\.com\/embed/.test(n),l=/player\.vimeo\.com\/video/.test(n),u=i||s||l;if((0,Le.toLowerCase)(t)==$h||(0,Le.toLowerCase)(t)=="iframe"&&u){var f={type:"video"};return n&&(f.src=n),u&&(i?f.provider=js:s?f.provider=Ns:l&&(f.provider=Rs)),f}},r}(Vg);const ik=ok;var ak=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),el=function(){return el=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},el.apply(this,arguments)},sk=function(o){ak(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return el(el({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),r.prototype.preInit=function(){var e,t,n=this,i=n.opt,s=n.attributes,l=(e=this.em)===null||e===void 0?void 0:e.Components,u=(t=l==null?void 0:l.getType(fl))===null||t===void 0?void 0:t.model,f=l==null?void 0:l.getType("default").model;if(u){var d=s.head,v=s.docEl;this.set({head:d&&d instanceof Dr?d:new u(el({},d),i),docEl:v&&v instanceof Dr?v:new f(el({tagName:"html"},v),i)},{silent:!0})}},Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.clone=function(e){var t=o.prototype.clone.call(this,e);return t.set("head",this.get("head").clone(e)),t.set("docEl",this.get("docEl").clone(e)),t},r.prototype.toHTML=function(e){e===void 0&&(e={});var t=this.doctype,n=(0,L.isUndefined)(e.asDocument)?!!t:e.asDocument,i=this,s=i.head,l=i.docEl,u=o.prototype.toHTML.call(this,e),f=n&&(s==null?void 0:s.toHTML(e))||"",d=n&&(0,et.kk)(l==null?void 0:l.getAttrToHTML())||"",v=d?" ".concat(d):"";return n?"".concat(t,"<html").concat(v,">").concat(f).concat(u,"</html>"):u},r.prototype.__postAdd=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(t==null||t.add(this)),o.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var e,t=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return t==null||t.remove(this),o.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(Dr);const lk=sk;var ck=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),uk=function(o){ck(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.compView=Pr,e}return r.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var t=this.collection;this.listenTo(t,"add",this.addTo),this.listenTo(t,"reset",this.resetChildren),this.listenTo(t,"remove",this.removeChildren)},r.prototype.removeChildren=function(e,t,n){var i=this;n===void 0&&(n={}),e.views.forEach(function(l){if(l){var u=l.childrenView,f=l.scriptContainer;u&&u.stopListening(),(0,et.YZ)(f),l.remove.apply(l)}});var s=e.components();s.forEach(function(l){return i.removeChildren(l,t,n)})},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,n){for(var i=this,s=i.config,l=i.opts,u=i.em,f=s.frameView,d=(f==null?void 0:f.model)&&e.getView(f.model),v=l.componentTypes||(u==null?void 0:u.Components.getTypes()),m=e.get("type")||"default",y=this.compView,b=0;b<v.length;b++)if(v[b].id==m){y=v[b].view;break}var w=d||new y({model:e,config:s,componentTypes:v}),x;try{x=w.render().el}catch(E){x=document.createTextNode(""),u.logError(E)}if(t)t.appendChild(x);else{var O=this.parentEl,M=O.childNodes;if((0,L.isUndefined)(n))O.appendChild(x);else{var T=M.length==n;T&&n--,T||!M.length?O.appendChild(x):O.insertBefore(x,M[n])}}return e.opt.temporary||u==null||u.trigger("component:mount",e),x},r.prototype.resetChildren=function(e,t){var n=this;t===void 0&&(t={});var i=t.previousModels;t.skipDomReset||(this.parentEl.innerHTML=""),i==null||i.forEach(function(s){return n.removeChildren(s,n.collection)}),e.each(function(s){return n.addToCollection(s)})},r.prototype.render=function(e){var t=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(s){return t.addToCollection(s,i)}),n.innerHTML="",n.appendChild(i),this},r}(Ge.Ss);const _2=uk;var fk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ti=function(){return ti=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ti.apply(this,arguments)},dk=function(o){fk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{},i=n.em,s=t.opt||{},l=this,u=l.$el,f=l.el;this.opts=e,this.modelOpt=s,this.config=n,this.em=i,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=t.get("attributes"),this.classe=this.attr.class||[],this.listenTo(t,"change:style",this.updateStyle),this.listenTo(t,"change:attributes",this.renderAttributes),this.listenTo(t,"change:highlightable",this.updateHighlight),this.listenTo(t,"change:status change:locked",this.updateStatus),this.listenTo(t,"change:script rerender",this.reset),this.listenTo(t,"change:content",this.updateContent),this.listenTo(t,"change",this.handleChange),this.listenTo(t,"active",this.onActive),this.listenTo(t,"disable",this.onDisable),u.data("model",t),(0,Le.setViewEl)(f,this),t.view=this,this.frameView&&t.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=ti(ti({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var e,t,n=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((t=this.opts.config)===null||t===void 0)&&t.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var e=this,t=e.model,n=e.config,i=t.attributes.draggable;return n.draggableComponents&&i},r.prototype._clbObj=function(){var e=this,t=e.em,n=e.model,i=e.el;return{editor:t==null?void 0:t.getEditor(),model:n,el:i}},r.prototype.init=function(e){},r.prototype.removed=function(e){},r.prototype.onRender=function(e){},r.prototype.onActive=function(e){},r.prototype.onDisable=function(e){},r.prototype.remove=function(){var e;o.prototype.remove.call(this);var t=this,n=t.model,i=t.$el,s=n.views,l=this.frameView||{};return n.components().forEach(function(u){var f=u.getView(l.model);f==null||f.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var t=this.em.getSelectedAll(),n=t.includes(this.model)?t:[this.model];this.em.Commands.run("tlb-move",{target:n,event:e})},r.prototype.initClasses=function(){var e=this.model,t=e.classes,n="change:classes";t instanceof wa&&(this.stopListening(e,n,this.initClasses),this.listenTo(e,n,this.initClasses),this.listenTo(t,"add remove change reset",this.updateClasses),t.length&&this.importClasses())},r.prototype.initComponents=function(e){e===void 0&&(e={});var t=this,n=t.model,i=t.$el,s=t.childrenView,l="change:components",u=n.get("components"),f=[n,l,this.initComponents];u instanceof iu&&(i.data("collection",u),s&&s.remove(),this.stopListening.apply(this,f),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,f))},r.prototype.handleChange=function(){var e=this.model,t=(0,L.keys)(e.changed);if(!(t.length===1&&t[0]==="status")){e.emitUpdate();for(var n in e.changed)e.emitUpdate(n)}},r.prototype.importClasses=function(){var e=this,t=e.em,n=e.model,i=t.Selectors;i&&n.classes.forEach(function(s){return i.add(s.getName())})},r.prototype.updateStatus=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.el,s=t.ppfx,l=t.model,u=n==null?void 0:n.Canvas,f=u==null?void 0:u.config.extHl,d=l.get("status"),v="".concat(s,"selected"),m="".concat(v,"-parent"),y="".concat(s,"freezed"),b="".concat(s,"hovered"),w="".concat(s,"no-pointer"),x="".concat(s,"pointer-init"),O=[v,m,y,b,w,x],M=f&&!e.noExtHl?"":v;this.$el.removeClass(O.join(" "));var T=i.getAttribute("class")||"",E=[T],U=!(u!=null&&u.hasCustomSpot(Oo.F.Select)),Z=!(u!=null&&u.hasCustomSpot(Oo.F.Target));switch(d){case"selected":U&&E.push(M);break;case"selected-parent":Z&&E.push(m);break;case"freezed":E.push(y);break;case"freezed-selected":E.push(y),U&&E.push(M);break;case"hovered":!e.avoidHover&&E.push(b);break}(0,L.isBoolean)(l.locked)&&E.push(l.locked?w:x);var te=E.filter(Boolean).join(" ");te&&i.setAttribute("class",te)},r.prototype.updateHighlight=function(){var e=this.model,t=e.get("textable"),n=e.get("highlightable")&&(t||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(e,t,n){n===void 0&&(n={});var i=this,s=i.model,l=i.em;if(jc(l)&&!n.inline){var u=this.__cmpStyleOpts,f=s.getStyle(ti({inline:!0},u));!(0,L.isEmpty)(f)&&s.setStyle(f,u)}else this.setAttribute("style",s.styleToString(n))},r.prototype.updateStyles=function(){this.updateStyle()},r.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(e,t){var n=this.$el;t?n.attr(e,t):n.removeAttr(e)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var e=[],t=this,n=t.model,i=t.$el,s=t.el,l=n.attributes,u=l.textable,f=l.type,d=ti(ti({id:n.getId(),"data-gjs-type":f||"default"},this.__isDraggable()&&{draggable:!0}),u&&{contenteditable:"false"});(0,L.each)(s.attributes,function(m){return e.push(m.nodeName)}),e.forEach(function(m){return i.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var v=ti(ti({},d),n.getAttributes());(0,L.keys)(v).forEach(function(m){return v[m]===!1&&delete v[m]}),i.attr(v)},r.prototype.updateContent=function(){var e=this.model.content,t=this.model.components().length;this.getChildrenContainer().innerHTML=t?"":e},r.prototype.prevDef=function(e){e.preventDefault()},r.prototype.updateScript=function(){var e=this,t=e.model,n=e.em;t.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},r.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},t=this.el,n=0,i=0,s=function(l){var u=l.offsetParent;u?(n+=u.offsetTop,i+=u.offsetLeft,s(u)):(e.top=t.offsetTop+n,e.left=t.offsetLeft+i,e.bottom=e.top+t.offsetHeight,e.right=e.left+t.offsetWidth)};return s(t),e},r.prototype.isInViewport=function(){var e=this,t=e.el,n=e.em,i=e.frameView,s=n.Canvas.getCanvasView(),l=s.getElBoxRect(t,{local:!0}),u=i.el,f=u.clientHeight,d=u.clientWidth,v=l.y,m=l.x,y=v+l.height,b=m+l.width,w=v>=0&&v<f,x=y>0&&y<f,O=b>=0&&b<d,M=m>0&&m<=d,T=(w||x)&&(O||M);return T},r.prototype.scrollIntoView=function(e){var t;e===void 0&&(e={});var n=this.isInViewport();if(!n||e.force){var i=this.el;if(e.behavior!=="smooth"){var s=this.getOffsetRect();(t=i.ownerDocument.defaultView)===null||t===void 0||t.scrollTo(0,s.top)}else i.scrollIntoView(ti({behavior:"smooth",block:"nearest"},e))}},r.prototype.reset=function(){var e=this,t=e.el,n=e.model;e.scriptContainer&&n.emitWithEitor(xr.I.scriptUnmount,{component:n,view:e,el:t}),this.el="",this._ensureElement(),this._setData(),(0,et.bG)(t,this.el),this.render()},r.prototype._setData=function(){var e=this.model,t=e.components(),n=this;this.$el.data({model:e,collection:t,view:n})},r.prototype._createElement=function(e){return this.createDoc.createElement(e)},r.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),t=this.childrenView||new _2({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});t.render(e),this.childrenView=t;for(var n=Array.prototype.slice.call(t.el.childNodes),i=0,s=n.length;i<s;i++)e.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Le.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,L.result)(this.prototype,"events")},r}(Ge.Ss);const Pr=dk;var pk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),hk=function(o){pk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var e=this,t=e.model,n=e.el;return t.opt.temporary?this:(n.textContent=t.content,this)},r}(Pr);const b2=hk;var vk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gk=function(o){vk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(b2);const mk=gk;var yk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_k=function(o){yk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var e=(0,et.I6)(this.el,"iframe")[0];e&&(0,et.X6)(e,{src:this.__getSrc()})},r.prototype.render=function(){o.prototype.render.call(this);var e=(0,et.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(Pr);const bk=_k;var wk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xk=function(o){wk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,t=e.model,n=e.em,i=t.get("file");if(i&&n){var s=n.Assets.FileUploader();s==null||s.uploadFile({dataTransfer:{files:[i]}},function(l){var u=l&&l.data&&l.data[0],f=u&&((0,L.isString)(u)?u:u.src);f&&t.set({src:f})}),t.set("file","")}}},r.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var e=this,t=e.el,n=e.classEmpty,i=e.model,s=i.getSrcResult()&&!i.isDefaultSrc(),l=s?"remove":"add";t.classList[l](n)},r.prototype.onActive=function(e){e==null||e.stopPropagation();var t=this,n=t.em,i=t.model,s=n==null?void 0:n.Assets;s&&i.get("editable")&&s.open({select:function(l,u){i.set({src:l.getSrc()}),u&&s.close()},target:i,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var e=this,t=e.model,n=e.el,i=t.getSrcResult({fallback:!0});i&&(n.srcset&&(n.srcset=""),n.src=i)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(e){return e.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,t=e.$el,n=e.model,i=t.attr("class")||"";return!n.get("src")&&t.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(Pr);const Dg=xk;var Ck=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ja=function(){return Ja=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ja.apply(this,arguments)},rf=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},nf=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Sk=function(o){Ck(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),(0,L.bindAll)(this,"disableEditing","onDisable");var t=this.model,n=this.em;this.listenTo(t,"focus",this.onActive),this.listenTo(t,"change:content",this.updateContentText),this.listenTo(t,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},r.prototype.updateContentText=function(e,t,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var e=this,t=e.model,n=e.rteEnabled,i=e.em,s=i==null?void 0:i.getEditing(),l=s===t,u=!0,f=!1,d;if((n||!t.get("editable")||l||(f=t.isChildOf("text")))&&(u=!1,f&&!t.get("textable"))){for(var v=t.parent();v&&!v.isInstanceOf("text");)v=v.parent();v&&v.get("editable")?d=v:u=!0}return{result:u,delegate:d}},r.prototype.onActive=function(e){return rf(this,void 0,void 0,function(){var t,n,i,s,l,u,f,d,v,m,y,b;return nf(this,function(w){switch(w.label){case 0:return t=this,n=t.rte,i=t.em,s=this.canActivate(),l=s.result,u=s.delegate,l?((b=e==null?void 0:e.stopPropagation)===null||b===void 0||b.call(e),f=this,[4,this.getContent()]):(u&&((y=e==null?void 0:e.stopPropagation)===null||y===void 0||y.call(e),i.setSelected(u),u.trigger("active",e)),[2]);case 1:if(f.lastContent=w.sent(),!n)return[3,5];w.label=2;case 2:return w.trys.push([2,4,,5]),d=this,v=this,[4,n.enable(d,this.activeRte,{event:e,view:d})];case 3:return v.activeRte=w.sent(),[3,5];case 4:return m=w.sent(),i.logError(m),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(e){this.disableEditing(e)},r.prototype.disableEditing=function(){return rf(this,arguments,void 0,function(e){var t,n,i,s,l,u,f,d,v;return e===void 0&&(e={}),nf(this,function(m){switch(m.label){case 0:return t=this,n=t.model,i=t.rte,s=t.activeRte,l=t.em,u=n&&n.get("editable"),i?(f={},[4,this.getContent()]):[3,7];case 1:d=m.sent(),m.label=2;case 2:return m.trys.push([2,4,,5]),[4,i.disable(this,s,e)];case 3:return f=m.sent(),[3,5];case 4:return v=m.sent(),l.logError(v),[3,5];case 5:return u&&(d!==this.lastContent||f.forceSync)?[4,this.syncContent(Ja(Ja({},e),{content:d}))]:[3,7];case 6:m.sent(),this.lastContent="",m.label=7;case 7:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return rf(this,void 0,void 0,function(){var e,t,n,i;return nf(this,function(s){switch(s.label){case 0:return e=this,t=e.rte,n=e.activeRte,i="",t?[4,t.getContent(this,n)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return[2,i]}})})},r.prototype.syncContent=function(){return rf(this,arguments,void 0,function(e){var t,n,i,s,l,u,f,d,v;return e===void 0&&(e={}),nf(this,function(m){switch(m.label){case 0:return t=this,n=t.model,i=t.rte,s=t.rteEnabled,!s&&!e.force?[2]:(v=e.content)!==null&&v!==void 0?(u=v,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:u=m.sent(),m.label=3;case 3:return l=u,f=n.components(),d=Ja({fromDisable:1},e),n.set("content","",d),i!=null&&i.customRte&&!i.customRte.parseContent?(f.length&&f.reset(void 0,Ja(Ja({},e),{keepIds:Ys(f)})),n.set("content",l,d)):f.resetFromString(l,e),[2]}})})},r.prototype.insertComponent=function(e,t){var n;t===void 0&&(t={});var i=this,s=i.model,l=i.el,u=l.ownerDocument,f=u.getSelection();if(f!=null&&f.rangeCount){var d=f.getRangeAt(0),v=d.startContainer,m=d.startOffset,y=(0,Le.getComponentModel)(v),b=[];if(y&&(!((n=y.is)===null||n===void 0)&&n.call(y,"textnode"))){var w=y.collection;w.forEach(function(M){if(M===y){var T="textnode",E=t.useDomContent?v.textContent||"":M.content;b.push({type:T,content:E.slice(0,m)}),b.push(e),b.push({type:T,content:E.slice(m)})}else b.push(M)});var x=b.filter(Boolean),O=x.indexOf(e);return w.reset(x,t),w.at(O)}}return s.append(e,t)},r.prototype.onInput=function(){var e,t="component",n=["".concat(t,":update"),"".concat(t,":input")].join(" ");(e=this.em)===null||e===void 0||e.trigger(n,this.model)},r.prototype.disablePropagation=function(e){e.stopPropagation()},r.prototype.toggleEvents=function(e){var t=this,n=t.em,i=t.model,s=t.$el,l={on:et.on,off:et.AU},u=e?"on":"off";n.setEditing(e?this:!1),this.rteEnabled=!!e;var f=[this.el.ownerDocument,document];if(l.off(f,"mousedown",this.onDisable),l[u](f,"mousedown",this.onDisable),n[u]("toolbar:run:before",this.onDisable),i&&(i[u]("removed",this.onDisable),i.trigger("rte:".concat(e?"enable":"disable"))),s==null||s.off("mousedown",this.disablePropagation),s&&s[u]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var d=this.el;d;)d.draggable=!e,d=d.parentNode,d&&d.tagName=="BODY"&&(d=0)},r}(Pr);const w2=Sk;var Ok=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Tk=function(o){Ok(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(w2);const x2=Tk;var Ek=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pk=function(o){Ek(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(x2);const kk=Pk;var Ak=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Mk=function(o){Ak(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(e){o.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},r.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(Dg);const Vk=Mk;var Ik=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),$k=function(o){Ik(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(Pr);const Dk=$k;var Lk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jk=function(o){Lk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},r}(Pr);const g0=jk;var Rk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nk=function(o){Rk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const Fk=Nk;var Bk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hk=function(o){Bk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const Uk=Hk;var zk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wk=function(o){zk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const qk=Wk;var Kk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gk=function(o){Kk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const Zk=Gk;var Xk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yk=function(o){Xk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const Jk=Yk;var Qk=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),eA=function(o){Qk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r}(Pr);const tA=eA;var rA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nA=function(o){rA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){Pr.prototype.initialize.apply(this,arguments);var e=this.model,t=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=t.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,n,this.updateVideo)},r.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},r.prototype.updateSrc=function(){var e=this,t=e.model,n=e.videoEl;if(n){var i=t.get("provider"),s=t.get("src");switch(i){case"yt":s=t.getYoutubeSrc();break;case"ytnc":s=t.getYoutubeNoCookieSrc();break;case"vi":s=t.getVimeoSrc();break}n.src=s}},r.prototype.updateVideo=function(){var e=this,t=e.model,n=e.videoEl,i=t.get("provider");switch(i){case"yt":case"ytnc":case"vi":t.trigger("change:videoId");break;default:if(n){var s=n;s.loop=t.get("loop"),s.autoplay=t.get("autoplay"),s.controls=t.get("controls"),s.poster=t.get("poster")}}},r.prototype.renderByProvider=function(e){var t;switch(e){case"yt":t=this.renderYoutube();break;case"ytnc":t=this.renderYoutubeNoCookie();break;case"vi":t=this.renderVimeo();break;default:t=this.renderSource()}return this.videoEl=t,t},r.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},r.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},r.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},r.prototype.render=function(){Pr.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},r}(Dg);const oA=nA;var iA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aA=function(o){iA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(Pr);const sA=aA;var lA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bd=function(){return bd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},bd.apply(this,arguments)},cA=function(o){lA(r,o);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.apply(this,e)||this;n.refreshDbn=(0,L.debounce)(function(){return n.refresh()},0);var i=n.events;return n.on(i.update,n.onUpdate),n.on(i.updateInside,n.onUpdateDeep),n}return r.prototype.removeChildren=function(e,t,n){var i;n===void 0&&(n={}),o.prototype.removeChildren.call(this,e,t,n),(i=po(e))===null||i===void 0||i.forEach(function(s){return Ag(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},r.prototype.onAdd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.prototype.onAdd.apply(this,e);var n=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},r.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},r.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},r.prototype.refresh=function(){var e=this,t=e.em,n=e.events;t.trigger(n.symbol)},r.prototype.__trgEvent=function(e,t,n){n===void 0&&(n=!1);var i=this,s=i.em,l=i.events,u=n?l.symbolInstance:l.symbolMain;s.trigger(e,t),s.trigger(u,bd(bd({},t),{event:e})),this.refreshDbn()},r}(iu);const uA=cA;var fA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wd=function(){return wd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},wd.apply(this,arguments)},dA=function(o){fA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return wd(wd({},o.prototype.defaults),{type:oi,path:"",defaultValue:""})},enumerable:!1,configurable:!0}),r.prototype.getDataValue=function(){var e=this.attributes,t=e.path,n=e.defaultValue;return this.em.DataSources.getValue(t,n)},r.prototype.getInnerHTML=function(){return this.getDataValue()},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===oi},r}(Dr);const pA=dA;var hA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vA=function(o){hA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e){var t=this;e===void 0&&(e={}),o.prototype.initialize.call(this,e),this.dynamicVariableListener=new hp({em:this.em,dataVariable:this.model,updateValueFromDataVariable:function(){return t.postRender()}})},r.prototype.postRender=function(){var e=this,t=e.model,n=e.el,i=e.em,s=t.attributes,l=s.path,u=s.defaultValue;n.innerHTML=i.DataSources.getValue(l,u),o.prototype.postRender.call(this)},r}(Pr);const gA=vA;var mA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),yA=function(o){mA(r,o);function r(e,t){var n=this,i=e.condition,s=e.ifTrue,l=e.ifFalse,u=new pp(i,s,l,{em:t.em}),f=u.getDataValue(),d={type:ii,components:f};return n=o.call(this,d,t)||this,n.componentDefinition=e,n.dataCondition=u,n.dataCondition.onValueChange=n.handleConditionChange.bind(n),n}return r.prototype.handleConditionChange=function(){this.dataCondition.reevaluate();var e=this.dataCondition.getDataValue();this.components().reset(),this.components().add(e)},r.isComponent=function(e){return(0,Le.toLowerCase)(e.tagName)===ii},r.prototype.toJSON=function(){return this.dataCondition.toJSON()},r}(Dr);const _A=yA;var bA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),wA=function(o){bA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Pr);const xA=wA;var CA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jr=function(){return Jr=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Jr.apply(this,arguments)},SA=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},OA=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},tl;(function(o){o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject"})(tl||(tl={}));var TA=function(o){CA(r,o);function r(e){var t=o.call(this,e,"DomComponents",new iu(void 0,{em:e}),xr.I,uP())||this;t.componentTypes=[{id:ii,model:_A,view:xA},{id:oi,model:pA,view:gA},{id:"cell",model:KP,view:Uk},{id:"row",model:rk,view:Jk},{id:"table",model:HP,view:tA},{id:"thead",model:QP,view:Zk},{id:"tbody",model:$g,view:Fk},{id:"tfoot",model:XP,view:qk},{id:"map",model:MP,view:Vk},{id:"link",model:PP,view:x2},{id:"label",model:OP,view:kk},{id:"video",model:ik,view:oA},{id:"image",model:Vg,view:Dg},{id:"script",model:$P,view:Dk},{id:"svg-in",model:NP,view:g0},{id:"svg",model:y2,view:g0},{id:"iframe",model:yP,view:bk},{id:"comment",model:vP,view:mk},{id:"textnode",model:m2,view:b2},{id:fl,model:FE,view:Pr},{id:"wrapper",model:lk,view:sA},{id:"text",model:Ig,view:w2},{id:"default",model:Dr,view:Pr}],t.componentsById={},t.Component=Dr,t.Components=iu,t.ComponentView=Pr,t.ComponentsView=_2,t.storageKey="components",t.keySymbols="symbols",t.events=xr.I;var n=t.config;t.symbols=new uA([],{em:e,config:n,domc:t}),e&&(t.config.components=e.config.components||t.config.components);var i=t.config.pStylePrefix;if(i&&(t.config.stylePrefix=i+t.config.stylePrefix),e){e.get("Parser").compTypes=t.componentTypes,e.on("change:componentHovered",t.componentHovered,t);var s=e.get("selected");e.listenTo(s,"add",function(l,u,f){return t.selectAdd(s.getComponent(l),f)}),e.listenTo(s,"remove",function(l,u,f){return t.selectRemove(s.getComponent(l),f)})}return t}return r.prototype.postLoad=function(){var e=this,t=e.em,n=e.symbols,i=t.UndoManager;i.add(n)},r.prototype.load=function(e){var t=this,n=this.loadProjectData(e,{onResult:function(i){var s=t.getWrapper();if(s||(t.em.Pages.add({},{select:!0}),s=t.getWrapper()),(0,L.isArray)(i))i.length&&s.components(i);else{var l=i.components,u=l===void 0?[]:l,f=SA(i,["components"]);s.set(f),s.components(u)}}});return this.symbols.reset(e[this.keySymbols]||[]),n},r.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},r.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),t=e==null?void 0:e.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},r.prototype.addComponent=function(e,t){return t===void 0&&(t={}),this.getComponents().add(e,t)},r.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},r.prototype.clear=function(e){e===void 0&&(e={});var t=this.getComponents();return t==null||t.filter(Boolean).forEach(function(n){return n.remove(e)}),this},r.prototype.setComponents=function(e,t){t===void 0&&(t={}),this.clear(t).addComponent(e,t)},r.prototype.addType=function(e,t){var n=this.em,i=t.model,s=i===void 0?{}:i,l=t.view,u=l===void 0?{}:l,f=t.isComponent,d=t.extend,v=t.extendView,m=t.extendFn,y=m===void 0?[]:m,b=t.extendFnView,w=b===void 0?[]:b,x=t.block,O=this.getType(e),M=this.getType(d),T=this.getType(v),E=M||O||this.getType("default"),U=E.model,Z=T?T.view:E.view,te=function(B,W,X){return B.reduce(function(V,_e){var ue=W[_e],Ve=X.prototype[_e];return ue&&Ve&&(V[_e]=function(){for(var le=[],N=0;N<arguments.length;N++)le[N]=arguments[N];Ve.bind(this).apply(void 0,le),ue.bind(this).apply(void 0,le)}),V},{})};if(typeof s=="object"){var ee={defaults:s.defaults};delete s.defaults;var G=new Set(U.typeExtends);G.add(U.getDefaults().type),t.model=U.extend(Jr(Jr({},s),te(y,s,U)),{typeExtends:G,isComponent:O&&!M&&!f?U.isComponent:f||function(){return 0}}),Object.defineProperty(t.model.prototype,"defaults",{get:function(){return Jr(Jr({},(0,L.result)(U.prototype,"defaults")||{}),(0,L.result)(ee,"defaults")||{})}})}if(typeof u=="object"&&(t.view=Z.extend(Jr(Jr({},u),te(w,u,Z)))),O?(O.model=t.model,O.view=t.view):(t.id=e,this.componentTypes.unshift(t)),x){var q={id:e,label:e,content:{type:e}},D=x===!0?q:Jr(Jr({},q),x);n.Blocks.add(D.id||e,D)}var $="component:type:".concat(O?"update":"add");return n==null||n.trigger($,O||t),this},r.prototype.getType=function(e){for(var t=this.componentTypes,n=0;n<t.length;n++){var i=t[n].id;if(i==e)return t[n]}},r.prototype.removeType=function(e){var t=this.componentTypes,n=this.getType(e);if(n){var i=t.indexOf(n);return t.splice(i,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(e,t){var n=this;t===void 0&&(t={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return n.em.trigger(i,e,t)}))},r.prototype.selectRemove=function(e,t){var n=this;t===void 0&&(t={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return n.em.trigger(i,e,t)}))},r.prototype.componentHovered=function(){var e=this.em,t=e.get("componentHovered"),n=e.previous("componentHovered"),i="hovered";n&&n.get("status")==i&&n.set({status:"",state:""}),t&&(0,L.isEmpty)(t.get("status"))&&t.set("status",i)},r.prototype.getShallowWrapper=function(){var e=this,t=e.shallow,n=e.em;if(!t&&n){var i=n.shallow;if(!i)return;var s=i.Components;if(s.componentTypes=this.componentTypes,t=s.getWrapper(),t){var l=[Rf,Uv].join(" ");t.on(l,(0,L.debounce)(function(){return t==null?void 0:t.components("")},100))}this.shallow=t}return t},r.prototype.isComponent=function(e){return(0,Le.isComponent)(e)},r.prototype.addSymbol=function(e){if(!((0,L.isSymbol)(e)&&!ls(e))){var t=e.clone({symbol:!0});return ns(t)&&this.symbols.add(t),this.em.trigger("component:toggled"),t}},r.prototype.getSymbols=function(){return OA([],this.symbols.models,!0)},r.prototype.detachSymbol=function(e){Kf(e)&&Ag(e)},r.prototype.getSymbolInfo=function(e,t){t===void 0&&(t={});var n=ns(e),i=ni(e),s=!!i,l=po(n?e:i)||[],u=i||(n?e:void 0),f=os(e,{changed:t.withChanges}),d=n||s,v=d&&ls(e);return{isSymbol:d,isMain:n,isInstance:s,isRoot:v,main:u,instances:l,relatives:f||[]}},r.prototype.canMove=function(e,t,n){var i={result:!1,reason:tl.InvalidSource,target:e,source:null};if(!t||!e)return i;if(Ai(e)&&t instanceof Dr&&Ai(t)){var s=ou(e),l=ns(s)?s:ni(s),u=ou(t),f=ns(u)?u:ni(u),d=l===f,v=s!==u;if(d&&v)return Jr(Jr({},i),{reason:tl.TargetReject})}var m=(0,Le.isComponent)(t)?t:null;if(!m){var y=this.getShallowWrapper();m=(y==null?void 0:y.append(t,{temporary:!0})[0])||null}if(i.source=m,!m)return i;var b=m.get("draggable");if((0,L.isFunction)(b))b=!!b(m,e,n);else{var w=e.getEl();b=(0,L.isArray)(b)?b.join(","):b,b=(0,L.isString)(b)?w==null?void 0:w.matches(b):b}if(!b)return Jr(Jr({},i),{reason:tl.SourceReject});var x=e.get("droppable");if((0,L.isFunction)(x))x=!!x(m,e,n);else if(x===!1&&e.isInstanceOf("text")&&m.get("textable"))x=!0;else{var w=m.getEl();x=(0,L.isArray)(x)?x.join(","):x,x=(0,L.isString)(x)?w==null?void 0:w.matches(x):x}var O=[e].concat(e.parents()).indexOf(m)>-1;return!x||O?Jr(Jr({},i),{reason:tl.TargetReject}):Jr(Jr({},i),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(e){return this.componentsById[e]||null},r.prototype.destroy=function(){var e,t=this.allById();Object.keys(t).forEach(function(n){return t[n]&&t[n].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(Vi);const EA=TA;var PA=function(){return{stylePrefix:"css-",rules:[]}};const kA=PA;var AA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),MA=Number.MAX_VALUE,VA=function(o){var r=/(-?\d*\.?\d+)\w{0,}/.exec(o);return r?r[0]:""},IA=function(o){AA(r,o);function r(){var e=o.call(this)||this;return(0,L.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return r.prototype.buildFromModel=function(e,t){var n=this;t===void 0&&(t={});var i="",s=this.em,l=s&&s.getConfig().avoidInlineStyle,u=e.styleToString(),f=e.classes;this.ids.push("#".concat(e.getId())),f.forEach(function(v){return n.compCls.push(v.getFullName())}),!l&&u&&(i="#".concat(e.getId(),"{").concat(u,"}"));var d=e.components();return d.forEach(function(v){return i+=n.buildFromModel(v,t)}),i},r.prototype.build=function(e,t){var n=this;t===void 0&&(t={});var i=t.json,s=t.em,l=t.cssc||(s==null?void 0:s.Css);this.em=s,this.compCls=[],this.ids=[],this.model=e;var u=[],f=e?this.buildFromModel(e,t):"",d=(0,L.isUndefined)(t.clearStyles)&&s?s.getConfig().clearStyles:t.clearStyles;if(l){var v=t.rules||l.getAll(),m={},y=[];t.onlyMatched&&e&&(0,Le.hasWin)()&&(v=this.matchedRules(e,v)),v.forEach(function(b){var w=b.getAtRule();if(w){var x=m[w];x?x.push(b):m[w]=[b];return}var O=n.buildFromRule(b,y,t);i?u.push(O):f+=O}),this.sortMediaObject(m).forEach(function(b){var w="",x=b.key,O=b.value;O.forEach(function(M){var T=n.buildFromRule(M,y,t);M.get("singleAtRule")?f+="".concat(x,"{").concat(T,"}"):w+=T,i&&u.push(T)}),w&&(f+="".concat(x,"{").concat(w,"}"))}),s&&d&&v.remove&&v.remove(y)}return i?u.filter(function(b){return b}):f},r.prototype.buildFromRule=function(e,t,n){var i=this,s;n===void 0&&(n={});var l="",u=this.model,f=e.selectorsToString({skipAdd:1}),d=e.get("selectorsAdd"),v=e.get("singleAtRule"),m;if((s=e.get("selectors"))===null||s===void 0||s.forEach(function(b){var w=b.getFullName();(i.compCls.indexOf(w)>=0||i.ids.indexOf(w)>=0||n.keepUnusedStyles)&&(m=1)}),f&&m||d||v||!u){var y=e.getDeclaration({body:1});y&&(n.json?l=e:l+=y)}else t.push(e);return l},r.prototype.matchedRules=function(e,t){var n=this,i=e.getEl(),s=[];return t.forEach(function(l){try{l.selectorsToString().split(",").some(function(u){return i==null?void 0:i.matches(n.__cleanSelector(u))})&&s.push(l)}catch{}}),e.components().forEach(function(l){s=s.concat(n.matchedRules(l,t))}),s=s.filter(function(l,u){return s.indexOf(l)===u}),s},r.prototype.getQueryLength=function(e){var t=/(-?\d*\.?\d+)\w{0,}/.exec(e);return t?parseFloat(t[1]):MA},r.prototype.sortMediaObject=function(e){var t=this;e===void 0&&(e={});var n=[];return(0,L.each)(e,function(i,s){return n.push({key:s,value:i})}),n.sort(function(i,s){var l=[i.key,s.key].every(function(d){return d.indexOf("min-width")!==-1}),u=l?i.key:s.key,f=l?s.key:i.key;return t.getQueryLength(u)-t.getQueryLength(f)})},r.prototype.sortRules=function(e,t){var n=function(u){return u.get("mediaText")||""},i=[n(e),n(t)].every(function(u){return u.indexOf("min-width")!==-1}),s=n(i?e:t),l=n(i?t:e);return this.getQueryLength(s)-this.getQueryLength(l)},r.prototype.__cleanSelector=function(e){return e.split(" ").map(function(t){return t.split(":")[0]}).join(" ")},r}(Ge.Kx);const $A=IA;var DA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kc=function(){return Kc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Kc.apply(this,arguments)},LA=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Lh=((0,Le.hasWin)()?window:{}).CSS,jA=function(o){DA(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this;return n.views=[],n.dynamicVariableListeners={},n.config=e||{},n.opt=t,n.em=t.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n.setStyle(n.get("style")),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(e,t){var n=this.em,i=this.changedAttributes();i&&!(0,Le.isEmptyObj)(i)&&(n==null||n.changesUp(t))},r.prototype.clone=function(){var e=Kc({},this.opt),t=Kc({},this.attributes);return t.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(t,e)},r.prototype.ensureSelectors=function(e,t,n){var i=this.em,s=i==null?void 0:i.Selectors,l=[this,"change:selectors",this.ensureSelectors],u=this.getSelectors();if(this.stopListening.apply(this,l),u.models&&(u=LA([],u.models,!0)),u=(0,L.isString)(u)?[u]:u,Array.isArray(u)){var f=u.filter(function(d){return d}).map(function(d){return s?s.add(d):d});u=new wa(f)}this.set("selectors",u,n),this.listenTo.apply(this,l)},r.prototype.getAtRule=function(){var e=this.get("atRuleType"),t=this.get("mediaText"),n=e?"@".concat(e):t?"@media":"";return n+(t&&n?" ".concat(t):"")},r.prototype.selectorsToString=function(e){e===void 0&&(e={});var t=[],n=this.get("state"),i=this.get("selectorsAdd"),s={escape:function(f){return Lh&&Lh.escape?Lh.escape(f):f}},l=this.getSelectors().getFullString(0,s),u=n&&!e.skipState?":".concat(n):"";return l&&t.push("".concat(l).concat(u)),i&&!e.skipAdd&&t.push(i),t.join(", ")},r.prototype.getDeclaration=function(e){e===void 0&&(e={});var t="",n=this.attributes.important,i=this.selectorsToString(e),s=this.styleToString(Kc({important:n},e)),l=this.get("singleAtRule");return(i||l)&&(s||e.allowEmpty)&&(t=l?s:"".concat(i,"{").concat(s,"}")),t},r.prototype.getDevice=function(){var e=this.em,t=this.attributes,n=t.atRuleType,i=t.mediaText,s=(e==null?void 0:e.Devices.getDevices())||[],l=s.filter(function(u){return u.getWidthMedia()===""})[0];return n!=="media"||!i?l||null:s.filter(function(u){return u.getWidthMedia()===VA(i)})[0]||null},r.prototype.getState=function(){var e=this.em,t=this.get("state"),n=(e==null?void 0:e.Selectors.getStates())||[];return n.filter(function(i){return i.getName()===t})[0]||null},r.prototype.getComponent=function(){var e,t=this.getSelectors(),n=t.length==1&&t.at(0),i=n&&n.isId()&&n.get("name");return i&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(i))||null},r.prototype.toCSS=function(e){e===void 0&&(e={});var t="",n=this.getAtRule(),i=this.getDeclaration(e);return(i||e.allowEmpty)&&(t=i),n&&t&&(t="".concat(n,"{").concat(t,"}")),t},r.prototype.toJSON=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=Ge.Kx.prototype.toJSON.apply(this,t);if(!((e=this.em)===null||e===void 0)&&e.getConfig().avoidDefaults){var s=this.defaults();(0,L.forEach)(s,function(l,u){i[u]===l&&delete i[u]}),delete i.style.__p,(0,L.isEmpty)(i.selectors)&&delete i.selectors,(0,L.isEmpty)(i.style)&&delete i.style}return i},r.prototype.compare=function(e,t,n,i){var s;i===void 0&&(i={});var l=t||"",u=n||"",f=i.selectorsAdd||"",d=i.atRuleType||"",v=!(0,L.isArray)(e)&&!e.models?[e]:e.models||e;u&&!d&&(d="media");var m=v.map(function(x){return x.getFullName()}),y=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(x){return x.getFullName()}),b=m.slice().sort(),w=y.slice().sort();return!(m.length!==y.length||!b.every(function(x,O){return x===w[O]})||this.get("state")!==l||this.get("mediaText")!==u||this.get("selectorsAdd")!==f||this.get("atRuleType")!==d)},r}(i2);const C2=jA;var RA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),S2=function(o){RA(r,o);function r(e,t){var n=o.call(this,e)||this;return n.editor=t==null?void 0:t.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(e){var t=Ge.pM.prototype.toJSON.call(this,e);return t.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(e,t,n){e.ensureSelectors(e,t,n)},r.prototype.onRemove=function(e){var t=this.editor;t.stopListening(e),t.UndoManager.remove(e)},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),t.em=this.editor,Ge.pM.prototype.add.apply(this,[e,t])},r}(Ge.pM);const NA=S2;S2.prototype.model=C2;var FA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Qa=function(){return Qa=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qa.apply(this,arguments)},BA=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},HA=function(o){FA(r,o);function r(e){var t=o.call(this,e,"CssComposer",null,{},kA())||this;t.Selectors=wa,t.storageKey="styles";var n=t.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),n.rules=t.em.config.style||n.rules||"",t.rules=new NA([],n),t}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},r.prototype.add=function(e,t,n,i,s){i===void 0&&(i={}),s===void 0&&(s={});var l=t||"",u=n||"",f=Qa({},i),d=this.get(e,l,u,f);return d&&d.config&&!d.config.singleAtRule||(f.state=l,f.mediaText=u,f.selectors=[],u&&!f.atRuleType&&(f.atRuleType="media"),d=new C2(f,this.config),d.get("selectors").add(e,s),this.rules.add(d,s)),d},r.prototype.get=function(e,t,n,i){var s=e;if((0,L.isString)(e)){var l=this.em.Selectors,u=e.split(",")[0].trim(),f=this.em.Parser.parserCss.checkNode({selectors:u})[0];s=l.get(f.selectors)}return this.rules.find(function(d){return d.compare(s,t,n,i)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=this.em,s=[];(0,L.isString)(e)&&(e=i.Parser.parseCss(e));for(var l=e instanceof Array?e:[e],u=0,f=l.length;u<f;u++){var d=l[u]||{};if(d.selectors){var v=i==null?void 0:i.Selectors;v||console.warn("Selector Manager not found");for(var m=d.selectors,y=m instanceof Array?m:[m],b=[],w=0,x=y.length;w<x;w++){var O=v.add(y[w]);b.push(O)}var M=this.get(b,d.state,d.mediaText,d),T=this.add(b,d.state,d.mediaText,d,t),E=!M||!t.avoidUpdateStyle,U=d.style||{};if((0,Le.isObject)(n)&&T.set(n,t),E){var Z=t.extend?Qa(Qa({},T.get("style")),U):U;T.setStyle(Z,t)}s.push(T)}}return s},r.prototype.addRules=function(e){return this.addCollection(e)},r.prototype.setRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.atRuleType,s=n.atRuleParams,l=this.em.Parser.parserCss.checkNode({selectors:e,style:t})[0],u=l.state,f=l.selectorsAdd,d=this.em.Selectors,v=d.add(l.selectors),m=this.add(v,u,s,{selectorsAdd:f,atRule:i});return n.addStyles?m.addStyle(t,n):m.setStyle(t,n),m},r.prototype.getRule=function(e,t){t===void 0&&(t={});var n=this.em,i=n.Selectors,s=n.Parser.parserCss.checkNode({selectors:e})[0],l=i.get(s.selectors),u=s.state,f=s.selectorsAdd,d=t.atRuleType,v=t.atRuleParams;return l?this.get(l,u,v,{selectorsAdd:f,atRuleType:d}):void 0},r.prototype.getRules=function(e){var t=this.getAll();if(!e)return BA([],t.models,!0);var n={sort:!0},i=(0,L.isString)(e)?e.split(",").map(function(l){return l.trim()}):e,s=t.filter(function(l){return i.indexOf(l.getSelectors().getFullString(null,n))>=0});return s},r.prototype.setIdRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.addOpts,s=i===void 0?{}:i,l=n.mediaText,u=n.state||"",f=(0,L.isUndefined)(l)?this.em.getCurrentMedia():l,d=this.em.Selectors,v=d.add({name:e,type:Mn.TYPE_ID},s),m=this.add(v,u,f,{},s);return m.setStyle(t,Qa(Qa({},n),s)),m},r.prototype.getIdRule=function(e,t){t===void 0&&(t={});var n=t.mediaText,i=t.state||"",s=(0,L.isUndefined)(n)?this.em.getCurrentMedia():n,l=this.em.Selectors.get(e,Mn.TYPE_ID);return l&&this.get(l,i,s)},r.prototype.setClassRule=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=n.state||"",s=n.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors,u=l.add({name:e,type:Mn.TYPE_CLASS}),f=this.add(u,i,s);return f.setStyle(t,n),f},r.prototype.getClassRule=function(e,t){t===void 0&&(t={});var n=t.state||"",i=t.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(e,Mn.TYPE_CLASS);return s&&this.get(s,n,i)},r.prototype.remove=function(e,t){var n=(0,L.isString)(e)?this.getRules(e):e,i=this.getAll().remove(n,t);return(0,L.isArray)(i)?i:[i]},r.prototype.clear=function(e){return e===void 0&&(e={}),this.getAll().reset([],e),this},r.prototype.getComponentRules=function(e,t){t===void 0&&(t={});var n=t.state,i=t.mediaText,s=t.current;s&&(n=this.em.get("state")||"",i=this.em.getCurrentMedia());var l=e.getId(),u=this.getAll().filter(function(f){return!(0,L.isUndefined)(n)&&f.get("state")!==n||!(0,L.isUndefined)(i)&&f.get("mediaText")!==i?!1:f.getSelectorsString()==="#".concat(l)});return u},r.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new e2({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(e,t){t===void 0&&(t={});var n=t.idMap,i=n===void 0?{}:n,s=[];if(!Object.keys(i).length)return s;var l=Array.isArray(e)?e:[e];return l.forEach(function(u){var f=u.selectors;if(f&&f.length==1){var d=f[0];if((0,L.isString)(d)){if(d[0]==="#"){var v=d.substring(1),m=i[v];v&&m&&(f[0]="#".concat(m),s.push(u))}}else if(d.name&&d.type===Mn.TYPE_ID){var m=i[d.name];m&&(d.name=m,s.push(u))}}}),s},r.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},r}(Vi);const UA=HA;var zA=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const WA=zA;var qA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),KA=function(o){qA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var e=this.get("category");return e instanceof cu?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getDragDef=function(){return this.get("dragDef")},r.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,L.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},r}(Ge.Kx);const O2=KA;var GA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),T2=function(o){GA(r,o);function r(e,t){var n=o.call(this,e)||this;return n.em=t.em,n.on("add",n.handleAdd),n}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(e){this.initCategory(e)},r}(p2);const of=T2;T2.prototype.model=O2;var Gc;(function(o){o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block"})(Gc||(Gc={}));var ZA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rl=function(){return rl=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},rl.apply(this,arguments)},XA=function(o){ZA(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,i=n.model;return n.em=t.em,n.config=t,n.endDrag=n.endDrag.bind(n),n.ppfx=t.pStylePrefix||"",n.listenTo(i,"destroy remove",n.remove),n.listenTo(i,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(e){var t,n,i=this,s=i.config,l=i.model,u=i.em,f=l.get("onClick")||s.appendOnClick;if(u.trigger("block:click",l,e),f){if((0,L.isFunction)(f))return f(l,u==null?void 0:u.getEditor(),{event:e})}else return;var d=(t=s.getSorter)===null||t===void 0?void 0:t.call(s);if(d){var v=l.get("content"),m=this.getTempDropModel(v),y=(n=m.view)===null||n===void 0?void 0:n.el,b=y?[{element:y,dragSource:{content:v}}]:[],w=u.getSelected(),x,O,M,T=0;if(w)if(O=d.validTarget(w.getEl(),b,T),O)x=w;else{var E=w.parent();E&&(O=d.validTarget(E.getEl(),b,T),O&&(x=E,M=E.components().indexOf(w)+1))}if(!x){var U=u.getWrapper();O=d.validTarget(U.getEl(),b,T),O&&(x=U)}var Z=x&&x.append(v,{at:M})[0];Z&&u.setSelected(Z,{scroll:1})}},r.prototype.startDrag=function(e){var t,n=this,i=n.config,s=n.em,l=n.model,u=l.get("disable");if(!(e.button!==0||!i.getSorter||this.el.draggable||u)){s.refreshCanvas();var f=i.getSorter();f.__currentBlock=l;var d=this.model.get("content"),v=this.getTempDropModel(d),m=(t=v.view)===null||t===void 0?void 0:t.el,y=m?[{element:m,dragSource:{content:d}}]:[];f.startSort(y),(0,et.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},r.prototype.handleDrag=function(e){this.__getModule().__drag(e)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){var e,t;(0,et.AU)(document,"mouseup",this.endDrag);var n=(t=(e=this.config).getSorter)===null||t===void 0?void 0:t.call(e);n&&n.endDrag()},r.prototype.getTempDropModel=function(e){var t,n=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},s=n.add(e,rl(rl({},i),{temporary:!0})),l=n.remove(s,rl(rl({},i),{temporary:!0}));return l=l instanceof Array?l[0]:l,(t=l.view)===null||t===void 0||t.$el.data("model",l),l},r.prototype.render=function(){var e,t=this,n=t.em,i=t.el,s=t.$el,l=t.ppfx,u=t.model,f=u.get("disable"),d=u.get("attributes")||{},v=d.class||"",m="".concat(l,"block"),y=n&&n.t("blockManager.labels.".concat(u.id))||u.get("label"),b=u.get("render"),w=u.get("media"),x=f?"".concat(m,"--disable"):"".concat(l,"four-color-h");s.attr(d),i.className="".concat(v," ").concat(m," ").concat(l,"one-bg ").concat(x).trim(),i.innerHTML=`
      `.concat(w?'<div class="'.concat(m,'__media">').concat(w,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(y,`</div>
    `),i.title=d.title||((e=i.textContent)===null||e===void 0?void 0:e.trim()),i.setAttribute("draggable","".concat(!!((0,Le.hasDnd)(n)&&!f)));var O=b&&b({el:i,model:u,className:m,prefix:l});return O&&(i.innerHTML=O),this},r}(Ge.Ss);const YA=XA;var JA=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),QA=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},e3=function(o){JA(r,o);function r(e,t,n){var i=o.call(this,e)||this;i.config=t;var s=t.pStylePrefix||"";return i.em=t.em,i.catName=n,i.pfx=s,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(s,"caret-icon"),i.activeClass="".concat(s,"open"),i.className="".concat(s).concat(n,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(e){var t=e.pfx,n=e.label,i=e.catName;return Kn(m0||(m0=QA([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),t,t,n,t,i)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(e){this.getTypeEl().appendChild(e)},r.prototype.render=function(){var e=this,t=e.em,n=e.el,i=e.$el,s=e.model,l=e.pfx,u=e.catName,f=t.t("".concat(u,"Manager.categories.").concat(s.id))||s.get("label");return n.innerHTML=this.template({pfx:l,label:f,catName:u}),i.addClass(this.className),i.css({order:s.get("order")}),this.updateVisibility(),this},r}(Ge.Ss);const E2=e3;var m0,t3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xd=function(){return xd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},xd.apply(this,arguments)},r3=function(o){t3(r,o);function r(e,t){var n=o.call(this,e)||this;n.renderedCategories=new Map,(0,L.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=t||{},n.categories=e.categories||"";var i=n.config.pStylePrefix||"";n.ppfx=i,n.noCatClass="".concat(i,"blocks-no-cat"),n.blockContClass="".concat(i,"blocks-c"),n.catsClass="".concat(i,"block-categories");var s=n.collection;return n.listenTo(s,"add",n.addTo),n.listenTo(s,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=xd(xd({},this.config),e)},r.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var t=e.Utils,n=e.Canvas;this.sorter=new t.ComponentSorter({em:e,treeClass:v2,containerContext:{container:n.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:n.getPlacerEl(),document:n.getBody().ownerDocument},dragBehavior:{dragDirection:cs.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},r.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},r.prototype.onMove=function(e){this.__getModule().__drag(e)},r.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},r.prototype.addTo=function(e){this.add(e)},r.prototype.add=function(e,t){var n=this,i=n.config,s=n.renderedCategories,l=e.get("attributes"),u=new YA({model:e,attributes:l},i),f=u.render().el,d=e.parent.initCategory(e);if(d&&this.categories&&!i.ignoreCategories){var v=d.getId(),m=this.getCategoriesEl(),y=s.get(v);!y&&m&&(y=new E2({model:d},i,"block").render(),s.set(v,y),m.appendChild(y.el)),y==null||y.append(f);return}t?t.appendChild(f):this.append(f)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(e){var t=this.getBlocksEl();t&&t.appendChild(e)},r.prototype.render=function(){var e=this,t=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return e.add(s,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(t,"one-bg ").concat(t,"two-color");return this.$el.addClass(i),this.rendered=!0,this},r}(Ge.Ss);const y0=r3;var n3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ya=function(){return ya=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ya.apply(this,arguments)},o3=function(o){n3(r,o);function r(e){var t,n=o.call(this,e,"BlockManager",new of(((t=e.config.blockManager)===null||t===void 0?void 0:t.blocks)||[],{em:e}),Gc,WA())||this;return n.events=Gc,n.Block=O2,n.Blocks=of,n.Category=cu,n.Categories=Gf,n.storageKey="",n.blocks=n.all,n.blocksVisible=new of(n.blocks.models,{em:e}),n.categories=new Gf([],{em:e,events:{update:Gc.categoryUpdate}}),n.blocks.on("add",function(i){return n.blocksVisible.add(i)}),n.blocks.on("remove",function(i){return n.blocksVisible.remove(i)}),n.blocks.on("reset",function(i){return n.blocksVisible.reset(i.models)}),n.__onAllEvent=(0,L.debounce)(function(){return n.__trgCustom()},0),n}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:t.container,dragStart:function(n,i){return e.startDrag(n,i)},drag:function(n){return e.__drag(n)},dragStop:function(n){return e.endDrag(n)}}},r.prototype.__startDrag=function(e,t){var n=this,i=n.em,s=n.events,l=n.blocks,u=e.getContent?e.getContent():e;this._dragBlock=e,i.set({dragResult:null,dragSource:{content:u,dragDef:e.getDragDef()}}),[i,l].map(function(f){return f.trigger(s.dragStart,e,t)})},r.prototype.__drag=function(e){var t=this,n=t.em,i=t.events,s=t.blocks,l=this._dragBlock;[n,s].map(function(u){return u.trigger(i.drag,l,e)})},r.prototype.__endDrag=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.blocks,l=this._dragBlock,u=e.component||n.get("dragResult");if(delete this._dragBlock,u&&l){var f="activeOnRender",d=u.get&&u.get(f),v=l.get("activate")||d,m=l.get("select"),y=(0,L.isArray)(u)?u[0]:u;(m||v&&m!==!1)&&n.setSelected(y),v&&(y.trigger("active"),d&&y.unset(f)),l.get("resetId")&&y.onAll(function(b){return b.resetId()})}n.set({dragResult:null,dragSource:void 0}),l&&[n,s].map(function(b){return b.trigger(i.dragEnd,u,l)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=ya(ya({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(e,t){this.__startDrag(e,t),this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.startCustom()})},r.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(t){var n;return(n=t.droppable)===null||n===void 0?void 0:n.endCustom(e)}),this.__endDrag()},r.prototype.postRender=function(){var e=this,t=e.categories,n=e.config,i=e.em,s=this.blocksVisible;this.blocksView=new y0({collection:s,categories:t},ya(ya({},n),{em:i})),this.__appendTo(s.models),this.__trgCustom()},r.prototype.add=function(e,t,n){n===void 0&&(n={});var i=t||{};return i.id=e,this.blocks.add(i,n)},r.prototype.get=function(e){return this.blocks.get(e)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(e,t){return t===void 0&&(t={}),this.__remove(e,t)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(e){return d2(e||this.getAll().models)},r.prototype.render=function(e,t){t===void 0&&(t={});var n=this,i=n.categories,s=n.config,l=n.em,u=e||this.getAll().models;if(t.external){var f=new of(u,{em:l});return new y0({collection:f,categories:i},ya(ya({em:l},s),t)).render().el}return this.blocksView&&(this.blocksView.updateConfig(t),this.blocksView.collection.reset(u),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var e,t=[this.blocks,this.blocksVisible,this.categories];t.map(function(n){return n.stopListening()}),t.map(function(n){return n.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},r}(Vi);const i3=o3;var a3=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const s3=a3;var l3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),P2=function(o){l3(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}(Ge.Kx);const jh=P2;P2.prototype.idAttribute="name";var c3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),u3=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},_0="contentEditable",f3=function(o){c3(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.config||{};return t.config=n,t.module=e.module,t.coll=e.coll||null,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.listenTo(t.model,"change:active",t.updateStatus),t}return r.prototype.template=function(){var e=this,t=e.pfx,n=e.model,i=e.config,s=n.get("label")||"";return Kn(b0||(b0=u3([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),t,t,t,s,t,t,i.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var e=this.em,t=this.getInputEl();t[_0]="true",t.focus(),e==null||e.setEditing(!0)},r.prototype.endEditTag=function(){var e=this,t=e.model,n=e.em,i=this.getInputEl(),s=i.textContent||"",l=n==null?void 0:n.Selectors;i[_0]="false",n==null||n.setEditing(!1),l&&l.rename(t,s)!==t&&(i.innerText=t.getLabel())},r.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var e=this,t=e.model,n=e.$el,i=e.config,s=i.iconTagOn,l=i.iconTagOff,u=n.find("[data-tag-status]");t.get("active")?(u.html(s),n.removeClass("opac50")):(u.html(l),n.addClass("opac50"))},r.prototype.render=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.$el,s=e.model,l="".concat(t,"tag"),u=["".concat(l," ").concat(n,"three-bg")];return s.get("protected")&&u.push("".concat(l,"-protected")),i.html(this.template()),i.attr("class",u.join(" ")),this.updateStatus(),this},r}(Ge.Ss);const d3=f3;var b0,p3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),vc=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},h3=function(o){p3(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.className=t.pfx+"tags",t.stateInputId=t.pfx+"states",t.stateInputC=t.pfx+"input-c",t.states=t.config.states||[];var n=t.config.em,i=t.collection;t.target=n;var s=n.Selectors;t.module=s,t.em=n,t.componentChanged=(0,L.debounce)(t.componentChanged.bind(t),0),t.checkSync=(0,L.debounce)(t.checkSync.bind(t),0);var l=xr.I.update,u="".concat(l,":classes"),f="component:toggled ".concat(u),d="".concat(u," ").concat(l,":attributes:id change:state");return t.listenTo(n,f,t.componentChanged),t.listenTo(n,"styleManager:update",t.componentChanged),t.listenTo(n,d,t.__handleStateChange),t.listenTo(n,"styleable:change change:device",t.checkSync),t.listenTo(i,"add",t.addNew),t.listenTo(i,"reset",t.renderClasses),t.listenTo(i,"remove",t.tagRemoved),t.listenTo(s.getAll(),s.events.state,(0,L.debounce)(function(){return t.renderStates()},0)),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.labelInfo,n=e.labelHead,i=e.iconSync,s=e.iconAdd,l=e.pfx,u=e.ppfx;return Kn(w0||(w0=vc([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),l,l,l,l,n,l,l,l,u,u,u,l,u,u,l,u,l,l,l,l,l,s,l,l,i,l,l,t,l)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var e=this.em,t=this.getTarget(),n=e.Css,i={noDisabled:1},s=this.getCommonSelectors({opts:i}),l=e.get("state"),u=e.getCurrentMedia(),f=[],d=n.get(s,l,u)||n.add(s,l,u),v;this.getTargets().forEach(function(m){var y=n.getIdRule(m.getId(),{state:l,mediaText:u});v=y.getStyle(),y.setStyle({}),f.push(y)}),v&&d.addStyle(v),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:t,selectors:s,mediaText:u,rule:d,ruleComponents:f,state:l})},r.prototype.tagRemoved=function(e){this.updateStateVis()},r.prototype.addNew=function(e){this.addToClasses(e)},r.prototype.startNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(t=this.$input)===null||t===void 0||t.show().focus()},r.prototype.endNewTag=function(){var e,t;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(t=this.$input)===null||t===void 0||t.hide().val("")},r.prototype.onInputKeyUp=function(e){var t;e.keyCode===13?(e.preventDefault(),this.addNewTag((t=this.$input)===null||t===void 0?void 0:t.val())):e.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var e=this.em.getState(),t=this.getStates();t&&t.val(e)},r.prototype.componentChanged=function(e){var t=e===void 0?{}:e,n=t.targets;this.updateSelection(n)},r.prototype.updateSelection=function(e){var t=e||this.getTargets();t=(0,L.isArray)(t)?t:[t];var n=[];return t&&t.length&&(n=this.getCommonSelectors({targets:t}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(t),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(e){var t=e===void 0?{}:e,n=t.targets,i=t.opts,s=i===void 0?{}:i,l=n||this.getTargets();return this.module.__getCommonSelectors(l,s)},r.prototype._commonSelectors=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.module).__common.apply(e,t)},r.prototype.checkSync=function(){var e=this,t=e.$btnSyncEl,n=e.config,i=e.collection,s=this.getTarget(),l;if(s&&n.componentFirst&&i.length){var u=s.getStyle();l=!(0,L.isEmpty)(u)}t&&t[l?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(e){var t=this.em,n=t&&t.getConfig().avoidInlineStyle,i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(e)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(e){var t=this,n=this.el.querySelector("[data-selected]"),i=[],s=e||this.getTargets();s=(0,L.isArray)(s)?s:[s],s.forEach(function(l){return i.push(t.__getName(l))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},r.prototype.__getName=function(e){var t=this,n=t.pfx,i=t.config,s=t.em,l=i.selectedName,u=i.componentFirst,f;if((0,L.isString)(e))f=Kn(x0||(x0=vc(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,e);else{var d=e==null?void 0:e.getSelectors();if(!d)return"";var v=d.getStyleable(),m=s.get("state"),y=e.getId?Kn(C0||(C0=vc(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,e.getName(),n,e.getId()):"";f=this.collection.getFullString(v),f=f?Kn(S0||(S0=vc(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,f):e.get("selectorsAdd")||y,f=u&&y?y:f,f+=m?Kn(O0||(O0=vc(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,m):"",f=l?l({result:f,state:m,target:e}):f}return f&&'<span class="'.concat(n,'sel">').concat(f,"</span>")},r.prototype.stateChanged=function(e){var t=this.em,n=e.target.value;t.set("state",n)},r.prototype.addNewTag=function(e){var t=e.trim();t&&(this.module.addSelected({label:t}),this.endNewTag())},r.prototype.addToClasses=function(e,t){var n=t,i=this.getClasses(),s=new d3({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(s):i.append(s),s},r.prototype.renderClasses=function(){var e=this,t=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(i){return e.addToClasses(i,t)}),n.append(t)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var e=this,t=e.module,n=e.em,i=n.t("selectorManager.emptyState"),s=t.getStates().map(function(u){var f=n.t("selectorManager.states.".concat(u.id))||u.getLabel()||u.id;return'<option value="'.concat(u.id,'">').concat(f,"</option>")}).join(""),l=this.getStates();l&&l.html('<option value="">'.concat(i,"</option>").concat(s)),this.checkStates()},r.prototype.render=function(){var e=this,t=e.em,n=e.pfx,i=e.ppfx,s=e.config,l=e.$el,u=e.el,f=s.render,d=s.iconSync,v=s.iconAdd,m={iconSync:d,iconAdd:v,labelHead:t.t("selectorManager.label"),labelInfo:t.t("selectorManager.selected"),ppfx:i,pfx:n,el:u};l.html(this.template(m));var y=f&&f(m);return y&&y!==u&&l.empty().append(y),this.$input=l.find("[data-input]"),this.$addBtn=l.find("[data-add]"),this.$classes=l.find("#"+n+"tags-c"),this.$btnSyncEl=l.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),l.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},r}(Ge.Ss);const v3=h3;var w0,x0,C0,S0,O0,g3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Zc=function(){return Zc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zc.apply(this,arguments)},Rh=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},T0=function(o){return(0,L.isString)(o)&&o[0]=="#"},E0=function(o){return(0,L.isString)(o)&&o[0]=="."},k2="selector",uu="".concat(k2,":"),m3="".concat(uu,"add"),y3="".concat(uu,"update"),A2="".concat(uu,"remove"),_3="".concat(A2,":before"),b3="".concat(uu,"custom"),M2="".concat(uu,"state"),w3={all:k2,update:y3,add:m3,remove:A2,removeBefore:_3,state:M2,custom:b3},x3=function(o){g3(r,o);function r(e){var t=o.call(this,e,"SelectorManager",new wa([]),w3,s3(),{skipListen:!0})||this;t.Selector=Mn,t.Selectors=wa,t.storageKey="",(0,L.bindAll)(t,"__updateSelectedByComponents");var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.all=new wa(n.selectors),t.selected=new wa([],{em:e,config:n}),t.states=new Ge.pM(n.states.map(function(u){return new jh(u)}),{model:jh}),t.model=new Ge.Kx({cFirst:n.componentFirst,_undo:!0}),t.__update=(0,L.debounce)(function(){return t.__trgCustom()},0),t.__initListen({collections:[t.states,t.selected],propagate:[{entity:t.states,event:t.events.state}]}),e.on("change:state",function(u,f){return e.trigger(M2,f)}),t.model.on("change:cFirst",function(u,f){return e.trigger("selector:type",f)});var s="".concat(xr.I.update,":classes");e.on("component:toggled ".concat(s),t.__updateSelectedByComponents);var l="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return t.model.listenTo(e,l,function(){return t.__update()}),t}return r.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},r.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?Rh([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(e,t){t===void 0&&(t={});var n=Array.isArray(e)?e:[e],i=this.em.Styles.select(n,t);this.selected.reset(this.__getCommonSelectors(i));var s=this.selectorTags,l=i.filter(function(u){return u}).map(function(u){return(0,Le.isComponent)(u)||(0,Le.isRule)(u)&&!u.get("selectorsAdd")?u:u.getSelectorsString()});return s&&s.componentChanged({targets:l}),this},r.prototype.addSelector=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var i=Zc({},t);(0,L.isObject)(e)?i=e:i.name=e,T0(i.name)?(i.name=i.name.substr(1),i.type=Mn.TYPE_ID):E0(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var s=i.name,l=this.getConfig(),u=this,f=u.all,d=u.em,v=s?this.get(s,i.type):f.where(i)[0];if(!v){var m=i instanceof Mn?i:new Mn(i,Zc(Zc({},n),{config:l,em:d}));return f.add(m,n)}return v},r.prototype.getSelector=function(e,t){return t===void 0&&(t=Mn.TYPE_CLASS),T0(e)?(e=e.substr(1),t=Mn.TYPE_ID):E0(e)&&(e=e.substr(1)),this.all.where({name:e,type:t})[0]},r.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var i=(0,L.isString)(e)?{}:t;return(0,L.isArray)(e)?e.map(function(s){return n.addSelector(s,t,i)}):this.addSelector(e,t,i)},r.prototype.addClass=function(e){var t=this,n=[];return(0,L.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(i){return n.push(t.addSelector(i))}),n},r.prototype.get=function(e,t){var n=this;if((0,L.isArray)(e)){var i=[],s=e.map(function(l){return n.getSelector(l)}).filter(Boolean);return s.forEach(function(l){return i.indexOf(l)<0&&i.push(l)}),i}else return this.getSelector(e,t)},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.rename=function(e,t,n){var i=this.escapeName(t),s=this.get(i);return s||e.set({name:i,label:t},n)},r.prototype.setState=function(e){return this.em.setState(e),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return Rh([],this.states.models,!0)},r.prototype.setStates=function(e,t){return this.states.reset(e.map(function(n){return new jh(n)}),t)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return Rh([],this.selected.models,!0)},r.prototype.addSelected=function(e){var t=this.add(e);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(t)})},r.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(t){!e.get("protected")&&t&&t.getSelectors().remove(e)})},r.prototype.duplicateSelected=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=this.getSelected();if(!(s.indexOf(e)<0)){var l=this.getState(),u=i.getCurrentMedia(),f=i.Css.get(s,l,u),d=f==null?void 0:f.getStyle();if(i.getSelectedAll().forEach(function(m){var y=m.getSelectors();if(y.includes(e)){var b=t.suffix||" copy",w=e.getLabel(),x=n.addSelector("".concat(w).concat(b)),O=y.indexOf(e);y.remove(e),y.add(x,{at:O})}}),d){var v=i.Css.add(this.getSelected(),l,u);v.setStyle(d)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(e){var t=this.getConfig().escapeName;return t?t(e):Mn.escapeName(e)},r.prototype.render=function(e){var t=this.selectorTags,n=this.getConfig(),i=t==null?void 0:t.el;return this.selected.reset(e),this.selectorTags=new v3({el:i,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var e=this,t=e.selectorTags,n=e.model;n.stopListening(),this.__update.cancel(),this.__destroy(),t==null||t.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(e,t){t===void 0&&(t={});var n=e.map(function(i){return i.getSelectors&&i.getSelectors().getValid(t)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?t.length===1?t[0]:t.length===2?t[0].filter(function(i){return t[1].indexOf(i)>=0}):t.slice(1).reduce(function(i,s){return e.__common(i,s)},t[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(Vi);const C3=x3;var S3=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}}};const O3=S3;var jo,uo={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},dl=(jo={},jo[uo.MEDIA_RULE]="media",jo[uo.FONT_FACE_RULE]="font-face",jo[uo.PAGE_RULE]="page",jo[uo.KEYFRAMES_RULE]="keyframes",jo[uo.COUNTER_STYLE_RULE]="counter-style",jo[uo.SUPPORTS_RULE]="supports",jo[uo.DOCUMENT_RULE]="document",jo[uo.FONT_FEATURE_VALUES_RULE]="font-feature-values",jo[uo.VIEWPORT_RULE]="viewport",jo),V2=(0,L.keys)(dl),Lg=[uo.FONT_FACE_RULE,uo.PAGE_RULE,uo.COUNTER_STYLE_RULE,uo.VIEWPORT_RULE],T3=V2.filter(function(o){return Lg.indexOf(Number(o))<0}).map(function(o){return dl[o]}).concat(["container","layer"]),E3=Lg.map(function(o){return dl[o]}),I2=function(o){o===void 0&&(o="");for(var r=[],e=[],t=o.split(","),n=0,i=t.length;n<i;n++){var s=t[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var l=s.split(".").filter(Boolean);e.push(l)}else r.push(s)}return{result:e,add:r}},P3=function(o){for(var r=o.style,e={},t=0,n=r.length;t<n;t++){var i=r[t],s=r.getPropertyValue(i),l=r.getPropertyPriority(i);e[i]="".concat(s).concat(l?" !".concat(l):"")}return e},P0=function(o){var r=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return r.trim()},Wv=function(o,r,e){r===void 0&&(r={}),e===void 0&&(e={});var t={},n=o.length,i=o[n-1],s=i?i.split(/:(.+)/):[],l=s[1],u=e.atRule,f=e.selectorsAdd,d=e.mediaText,v=E3.indexOf(u)>=0;return v&&(t.singleAtRule=!0),u&&(t.atRuleType=u),f&&(t.selectorsAdd=f),d&&(t.mediaText=d),l&&(o[n-1]=s[0],t.state=l,s.splice(s.length-1,1)),t.selectors=o,t.style=r,t},k0=function(o){var r=o.cssText,e=r===void 0?"":r;return T3.find(function(t){return e.indexOf("@".concat(t))===0})},$2=function(o){for(var r=[],e=o.cssRules||[],t=0,n=e.length;t<n;t++){var i=e[t],s=i.type,l=!1,u="",f="",d=i.selectorText||i.keyText||"",v=Lg.indexOf(s)>=0;if(v)l=!0,u=dl[s],f=P0(i);else if(V2.indexOf("".concat(s))>=0||!s&&k0(i)){var m=$2(i),y=dl[s]||k0(i);f=P0(i);for(var b=0,w=m.length;b<w;b++){var x=m[b];f&&(x.mediaText=f),x.atRuleType=y}r=r.concat(m)}if(!(!d&&!v)){for(var O=P3(i),M=I2(d),T=M.add,E=M.result,U=void 0,Z=0,te=E.length;Z<te;Z++){var ee=Wv(E[Z],O,{atRule:dl[s]});r.push(ee),U=ee}if(T.length){var G=T.join(", ");if(U)U.selectorsAdd=G;else{var ee={selectors:[],selectorsAdd:G,style:O};l&&(ee.singleAtRule=l),u&&(ee.atRuleType=u),f&&(ee.mediaText=f),r.push(ee)}}}}return r};const k3=function(o){var r=document.createElement("style");r.innerHTML=o,document.head.appendChild(r);var e=r.sheet;return document.head.removeChild(r),e?$2(e):[]};var A3=function(o,r){return r===void 0&&(r={}),{parse:function(e,t){var n=this,i;t===void 0&&(t={});var s=[],l=r.parserCss,u=o==null?void 0:o.Editor,f=[],d;try{f=l?l(e,u):k3(e)}catch(v){if(d=v,t.throwOnError)throw v}return f.forEach(function(v){return s=s.concat(n.checkNode(v))}),(i=o==null?void 0:o.Parser)===null||i===void 0||i.__emitEvent(hl.css,{input:e,output:s,nodes:f,error:d}),s},checkNode:function(e){var t=e.selectors,n=e.style,i=[e];if((0,L.isString)(t)){var s=[],l=e,u=I2(t),f=u.result,d=u.add.join(", "),v={atRule:l.atRule,mediaText:l.params};if(f.length?f.forEach(function(y){s.push(Wv(y,n,v))}):s.push(Wv([],n,v)),d){var m=s[s.length-1];m.selectorsAdd=d}i=s}return i}}};const M3=A3;var V3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qv=function(){return qv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},qv.apply(this,arguments)},I3=function(o){V3(r,o);function r(e){var t=o.call(this,e,"Parser",O3())||this;t.events=hl;var n=t.config;return t.parserCss=M3(e,n),t.parserHtml=r2(e,n),t}return r.prototype.parseHtml=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.parserHtml;return s.compTypes=i.Components.getTypes()||[],s.parse(e,this.parserCss,t)},r.prototype.parseCss=function(e){return this.parserCss.parse(e)},r.prototype.__emitEvent=function(e,t){var n=this,i=n.em,s=n.events;i.trigger(e,t),i.trigger(s.all,qv({event:e},t))},r.prototype.destroy=function(){},r}(Xn);const $3=I3;var D3=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}}};const L3=D3;var A0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},M0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},j3=function(){function o(){}return o.prototype.store=function(r){return A0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),M0(this,function(n){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(e)),[2,e]})})},o.prototype.load=function(){return A0(this,arguments,void 0,function(r){var e;return r===void 0&&(r={}),M0(this,function(t){return e={},this.hasLocal(r,!0)&&(e=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,e]})})},o.prototype.hasLocal=function(r,e){if(r===void 0&&(r={}),r.checkLocal&&(!(0,Le.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},o}();const R3=j3;function us(o){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},us(o)}function N3(o){var r=this.constructor;return this.then(function(e){return r.resolve(o()).then(function(){return e})},function(e){return r.resolve(o()).then(function(){return r.reject(e)})})}const F3=N3;function B3(o){var r=this;return new r(function(e,t){if(!(o&&typeof o.length<"u"))return t(new TypeError(us(o)+" "+o+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(o);if(n.length===0)return e([]);var i=n.length;function s(u,f){if(f&&(us(f)==="object"||typeof f=="function")){var d=f.then;if(typeof d=="function"){d.call(f,function(v){s(u,v)},function(v){n[u]={status:"rejected",reason:v},--i===0&&e(n)});return}}n[u]={status:"fulfilled",value:f},--i===0&&e(n)}for(var l=0;l<n.length;l++)s(l,n[l])})}const H3=B3;function D2(o,r){this.name="AggregateError",this.errors=o,this.message=r||""}D2.prototype=Error.prototype;function U3(o){var r=this;return new r(function(e,t){if(!(o&&typeof o.length<"u"))return t(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(o);if(n.length===0)return t();for(var i=[],s=0;s<n.length;s++)try{r.resolve(n[s]).then(e).catch(function(l){i.push(l),i.length===n.length&&t(new D2(i,"All promises were rejected"))})}catch(l){t(l)}})}const z3=U3;var W3=setTimeout;function L2(o){return!!(o&&typeof o.length<"u")}function q3(){}function K3(o,r){return function(){o.apply(r,arguments)}}function Cr(o){if(!(this instanceof Cr))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],R2(o,this)}function j2(o,r){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(r);return}o._handled=!0,Cr._immediateFn(function(){var e=o._state===1?r.onFulfilled:r.onRejected;if(e===null){(o._state===1?Kv:au)(r.promise,o._value);return}var t;try{t=e(o._value)}catch(n){au(r.promise,n);return}Kv(r.promise,t)})}function Kv(o,r){try{if(r===o)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(us(r)==="object"||typeof r=="function")){var e=r.then;if(r instanceof Cr){o._state=3,o._value=r,Gv(o);return}else if(typeof e=="function"){R2(K3(e,r),o);return}}o._state=1,o._value=r,Gv(o)}catch(t){au(o,t)}}function au(o,r){o._state=2,o._value=r,Gv(o)}function Gv(o){o._state===2&&o._deferreds.length===0&&Cr._immediateFn(function(){o._handled||Cr._unhandledRejectionFn(o._value)});for(var r=0,e=o._deferreds.length;r<e;r++)j2(o,o._deferreds[r]);o._deferreds=null}function G3(o,r,e){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function R2(o,r){var e=!1;try{o(function(t){e||(e=!0,Kv(r,t))},function(t){e||(e=!0,au(r,t))})}catch(t){if(e)return;e=!0,au(r,t)}}Cr.prototype.catch=function(o){return this.then(null,o)};Cr.prototype.then=function(o,r){var e=new this.constructor(q3);return j2(this,new G3(o,r,e)),e};Cr.prototype.finally=F3;Cr.all=function(o){return new Cr(function(r,e){if(!L2(o))return e(new TypeError("Promise.all accepts an array"));var t=Array.prototype.slice.call(o);if(t.length===0)return r([]);var n=t.length;function i(l,u){try{if(u&&(us(u)==="object"||typeof u=="function")){var f=u.then;if(typeof f=="function"){f.call(u,function(d){i(l,d)},e);return}}t[l]=u,--n===0&&r(t)}catch(d){e(d)}}for(var s=0;s<t.length;s++)i(s,t[s])})};Cr.any=z3;Cr.allSettled=H3;Cr.resolve=function(o){return o&&us(o)==="object"&&o.constructor===Cr?o:new Cr(function(r){r(o)})};Cr.reject=function(o){return new Cr(function(r,e){e(o)})};Cr.race=function(o){return new Cr(function(r,e){if(!L2(o))return e(new TypeError("Promise.race accepts an array"));for(var t=0,n=o.length;t<n;t++)Cr.resolve(o[t]).then(r,e)})};Cr._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){W3(o,0)};Cr._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const Zv=Cr;(0,Le.hasWin)()&&(window.Promise=window.Promise||Zv);const N2=typeof fetch=="function"?fetch.bind():function(o,r){return new Zv(function(e,t){var n=new XMLHttpRequest;n.open(r.method||"get",o),n.withCredentials=r.credentials=="include";for(var i in r.headers||{})n.setRequestHeader(i,r.headers[i]);n.onload=function(s){return e({status:n.status,statusText:n.statusText,text:function(){return Zv.resolve(n.responseText)}})},n.onerror=t,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var Cd=function(){return Cd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Cd.apply(this,arguments)},V0=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},I0=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Z3=function(){function o(){}return o.prototype.store=function(r){return V0(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),I0(this,function(n){switch(n.label){case 0:return[4,this.request(t.urlStore,this.__props(t,e),t)];case 1:return[2,n.sent()]}})})},o.prototype.load=function(){return V0(this,arguments,void 0,function(r){return r===void 0&&(r={}),I0(this,function(e){switch(e.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,e.sent()]}})})},o.prototype.request=function(r,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),N2(r,e).then(function(n){var i=n.text(),s=(n.status/200|0)===1;return s?i:i.then(Promise.reject)}).then(function(n){var i=n&&(0,L.isString)(n);return t.contentTypeJson&&i?JSON.parse(n):n})},o.prototype.__props=function(r,e){r===void 0&&(r={});var t=r.contentTypeJson,n=r.headers||{},i=r.fetchOptions||{},s="X-Requested-With",l="Content-Type",u;if((0,L.isUndefined)(n[s])&&(n[s]="XMLHttpRequest"),(0,L.isUndefined)(n[l])&&t&&(n[l]="application/json; charset=utf-8"),e)if(t)u=JSON.stringify(e);else{u=new FormData;for(var f in e)u.append(f,e[f])}var d={method:u?"POST":"GET",credentials:r.credentials,headers:n,body:u};return Cd(Cd({},d),(0,L.isFunction)(i)?i(d):i)},o}();const X3=Z3;var Xv;(function(o){o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load"})(Xv||(Xv={}));const Tn=Xv;var Y3=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),nl=function(){return nl=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},nl.apply(this,arguments)},Nh=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},Fh=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},af="local",$0="remote",J3=function(o){Y3(r,o);function r(e){var t=o.call(this,e,"StorageManager",L3())||this;t.storages={},t.events=Tn;var n=t.config;return n._disable&&(n.type=void 0),t.storages={},t.add(af,new R3),t.add($0,new X3),t.setCurrent(n.type),t}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},r.prototype.add=function(e,t){return this.storages[e]=t,this},r.prototype.get=function(e){return this.storages[e]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},r.prototype.store=function(e){return Nh(this,arguments,void 0,function(t,n){var i,s,l,u,f,d;return n===void 0&&(n={}),Fh(this,function(v){switch(v.label){case 0:i=this.getCurrentStorage(),s=nl(nl({},this.getCurrentOptions()),n),l=this.getRecoveryStorage(),u=this.getCurrentOptions(af),v.label=1;case 1:return v.trys.push([1,5,,9]),[4,this.__exec(i,s,t)];case 2:return v.sent(),f=l,f?[4,this.__exec(l,u,{})]:[3,4];case 3:f=v.sent(),v.label=4;case 4:return[3,9];case 5:return d=v.sent(),l?[4,this.__exec(l,u,t)]:[3,7];case 6:return v.sent(),[3,8];case 7:throw d;case 8:return[3,9];case 9:return[2,t]}})})},r.prototype.load=function(){return Nh(this,arguments,void 0,function(e){var t,n,i,s,l;return e===void 0&&(e={}),Fh(this,function(u){switch(u.label){case 0:return t=this.getCurrentStorage(),n=nl(nl({},this.getCurrentOptions()),e),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(af))]:[3,5];case 1:if(l=u.sent(),(0,L.isEmpty)(l))return[3,5];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return u.sent(),s=l,[3,5];case 4:return u.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(t,n)];case 6:s=u.sent(),u.label=7;case 7:return[2,s||{}]}})})},r.prototype.__askRecovery=function(){var e=this.em,t=this.getRecovery();return new Promise(function(n,i){(0,L.isFunction)(t)?t(n,i,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?n(null):i()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===$0&&this.get(af)},r.prototype.__exec=function(e,t,n){return Nh(this,void 0,void 0,function(){var i,s,l,u,f,d,v,m,y,b,w,x,O,M;return Fh(this,function(T){switch(T.label){case 0:if(i=n?"store":"load",s=this.getConfig(),l=s.onStore,u=s.onLoad,!e)return[2,n||{}];this.onStart(i,n),T.label=1;case 1:return T.trys.push([1,14,,15]),d=(M=this.em)===null||M===void 0?void 0:M.getEditor(),v=void 0,n?(y=l,y?[4,l(n,d)]:[3,3]):[3,7];case 2:y=T.sent(),T.label=3;case 3:return m=y||n,b=t.onStore,b?[4,t.onStore(m,d)]:[3,5];case 4:b=T.sent(),T.label=5;case 5:return m=b||m,[4,e.store(m,t)];case 6:return v=T.sent(),f=n,[3,13];case 7:return[4,e.load(t)];case 8:return v=T.sent(),f=this.__clearKeys(v),w=t.onLoad,w?[4,t.onLoad(f,d)]:[3,10];case 9:w=T.sent(),T.label=10;case 10:return f=w||f,x=u,x?[4,u(f,d)]:[3,12];case 11:x=T.sent(),T.label=12;case 12:f=x||f,T.label=13;case 13:return this.onAfter(i,f,v),this.onEnd(i,f,v),[3,15];case 14:throw O=T.sent(),this.onError(i,O),O;case 15:return[2,f]}})})},r.prototype.__clearKeys=function(e){e===void 0&&(e={});var t=this.getConfig(),n=new RegExp("^".concat(t.id)),i={};for(var s in e){var l=s.replace(n,"");i[l]=e[s]}return i},r.prototype.getCurrentOptions=function(e){var t=this.getConfig(),n=e||this.getCurrent();return t.options[n]||{}},r.prototype.onStart=function(e,t){var n=this.em;if(n){var i=e==="load"?Tn.startLoad:Tn.startStore;n.trigger(Tn.start,e,t),n.trigger(i,t)}},r.prototype.onAfter=function(e,t,n){var i=this.em;if(i){var s=e==="load"?Tn.afterLoad:Tn.afterStore;i.trigger(Tn.after),i.trigger(s,t,n);var l=e==="load"?Tn.load:Tn.store;i.trigger(l,t,n)}},r.prototype.onEnd=function(e,t,n){var i=this.em;if(i){var s=e==="load"?Tn.endLoad:Tn.endStore;i.trigger(Tn.end,e,t,n),i.trigger(s,t,n)}},r.prototype.onError=function(e,t){var n=this.em;if(n){var i=e==="load"?Tn.errorLoad:Tn.errorStore;n.trigger(Tn.error,t,e),n.trigger(i,t),this.onEnd(e,t)}},r.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(Xn);const Q3=J3;var eM=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const tM=eM;var rM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Xc=function(){return Xc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Xc.apply(this,arguments)},F2=function(o){rM(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.events={},t.appendInput=!0;var n=e.config,i=n===void 0?{}:n,s=t,l=s.model,u=s.eventCapture,f=l.target,d=l.attributes.type;t.config=i,t.em=i.em,t.pfx=i.stylePrefix||"",t.ppfx=i.pStylePrefix||"",t.target=f,t.className=t.pfx+"trait",t.clsField="".concat(t.ppfx,"field ").concat(t.ppfx,"field-").concat(d);var v=[["change:value",t.onValueChange],["remove",t.removeView]];return v.forEach(function(m){var y=m[0],b=m[1];l.off(y,b),t.listenTo(l,y,b)}),l.view=t,t.listenTo(l,"change:label",t.render),t.listenTo(l,"change:placeholder",t.rerender),t.events={},u.forEach(function(m){return t.events[m]="onChange"}),t.delegateEvents(),t.init(),t}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(e){var t=this.ppfx,n=this.getLabel();return'<div class="'.concat(t,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(e){var t=this.clsField;return'<div class="'.concat(t,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(e){},r.prototype.onUpdate=function(e){},r.prototype.onEvent=function(e){},r.prototype.onChange=function(e){var t=this.getInputElem();t&&!(0,L.isUndefined)(t.value)&&this.model.set("value",t.value),this.onEvent(Xc(Xc({},this.getClbOpts()),{event:e}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.value=e)},r.prototype.onValueChange=function(e,t,n){n===void 0&&(n={});var i=this.model,s=this.getValueForTarget();n.fromTarget?(this.setInputValue(s),this.postUpdate()):i.setValue(s,n)},r.prototype.renderLabel=function(){var e=this,t=e.$el,n=e.target,i=this.getLabel(),s=this.templateLabel(n);this.createLabel&&(s=this.createLabel({label:i,component:n,trait:this})||""),t.find("[data-label]").append(s)},r.prototype.getLabel=function(){var e=this.em,t=this.model.attributes,n=t.label,i=t.name;return e.t("traitManager.traits.labels.".concat(i))||(0,Le.capitalize)(n||i).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.em,n=e.model,i=n,s=n.attributes.name,l=i.get("placeholder")||i.get("default")||"",u=i.get("type")||"text",f=i.get("min"),d=i.get("max"),v=this.getModelValue(),m=(0,Xr.default)('<input type="'.concat(u,'">')),y=t.t("traitManager.traits.attributes.".concat(s))||{};m.attr(Xc({placeholder:l},y)),(0,L.isUndefined)(v)||(i.set({value:v},{silent:!0}),m.prop("value",v)),f&&m.prop("min",f),d&&m.prop("max",d),this.$input=m}return this.$input.get(0)},r.prototype.getInputElem=function(){var e=this,t=e.input,n=e.$input;return t||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var e=this,t=e.$el,n=e.appendInput,i=e.model,s=t.find("[data-input]"),l=s[s.length-1],u=i.el;u||(u=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,L.isString)(u)?(l.innerHTML=u,this.elInput=l.firstChild):(n?l.appendChild(u):l.insertBefore(u,l.firstChild),this.elInput=u),i.el=this.elInput},r.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,i=e.ppfx,s=e.model,l=s.attributes,u=l.type,f=l.id,d=this.hasLabel&&this.hasLabel(),v="".concat(n,"trait");delete this.$input;var m='<div class="'.concat(v," ").concat(v,"--").concat(u,`">
      `).concat(d?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(u,`" data-input>
        `).concat(this.templateInput?(0,L.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return t.empty().append(m),d&&this.renderLabel(),this.renderField(),this.el.className="".concat(v,"__wrp ").concat(v,"__wrp-").concat(f),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}(Ge.Ss);const Mi=F2;F2.prototype.eventCapture=["change"];var nM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B2=function(o){nM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&Mi.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var e=this,t=e.model,n=e.ppfx,i=t.props(),s=i.labelButton,l=i.text,u=i.full,f=s||l,d="".concat(n,"btn"),v='<button type="button" class="'.concat(d,"-prim").concat(u?" ".concat(d,"--full"):"",'">').concat(f,"</button>");return v},r}(Mi);const oM=B2;B2.prototype.eventCapture=["click button"];var iM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aM=function(o){iM(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.appendInput=!1,e}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(t,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(e){var t=this.getInputElem();t&&(t.checked=!!e)},r.prototype.getInputEl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!this.$input,i=Mi.prototype.getInputEl.apply(this,e);if(n){var s=void 0,l=void 0,u=this,f=u.model,d=u.target,v=f.attributes.valueFalse,m=f.getName();f.changeProp?(s=d.get(m),l=s):(l=d.get("attributes")[m],s=!!(l||l==="")),!(0,L.isUndefined)(v)&&l===v&&(s=!1),i.checked=s}return i},r}(Mi);const sM=aM;function lM(o,r){if(!(0,Le.hasWin)())return;var e={beforeShow:y,move:y,change:y,show:y,hide:y,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},t=[],n=!!/msie/i.exec(window.navigator.userAgent),i=function(){function K(Ae,be){return!!~(""+Ae).indexOf(be)}var ce=document.createElement("div"),j=ce.style;return j.cssText="background-color:rgba(0,0,0,.5)",K(j.backgroundColor,"rgba")||K(j.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var K="";if(n)for(var ce=1;ce<=6;ce++)K+="<div class='sp-"+ce+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",K,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function u(K,ce,j,Ae){for(var be=[],Ue=0;Ue<K.length;Ue++){var it=K[Ue];if(it){var nt=$(it),Qe=nt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Qe+=$.equals(ce,it)?" sp-thumb-active":"";var pt=nt.toString(Ae.preferredFormat||"rgb"),At=i?"background-color:"+nt.toRgbString():"filter:"+nt.toFilter();be.push('<span title="'+pt+'" data-color="'+nt.toRgbString()+'" class="'+Qe+'"><span class="sp-thumb-inner" style="'+At+';"></span></span>')}else{var Rt="sp-clear-display";be.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+Rt+'"></span>').attr("title",Ae.noColorSelectedText)).html())}}return"<div class='sp-cf "+j+"'>"+be.join("")+"</div>"}function f(){for(var K=0;K<t.length;K++)t[K]&&t[K].hide()}function d(K,ce){var j=o.extend({},e,K);return j.callbacks={move:w(j.move,ce),change:w(j.change,ce),show:w(j.show,ce),hide:w(j.hide,ce),beforeShow:w(j.beforeShow,ce)},j}function v(K,ce){var j=d(ce,K),Ae=j.flat,be=j.showSelectionPalette,Ue=j.localStorageKey,it=j.theme,nt=j.callbacks,Qe=O(no,10),pt=!1,At=!1,Rt=!0,$t=0,hr=0,Lr=0,H=0,ie=0,he=0,De=0,Ye=0,gt=0,St=0,tr=1,Sr=[],rr=[],Yn={},nr=j.selectionPalette.slice(0),ln=j.maxSelectionSize,Dn="sp-dragging",zt=null,Or=K.ownerDocument;Or.body;var Nt=o(K),Qr=!1,wt=o(l,Or).addClass(it),Ln=wt.find(".sp-picker-container"),yn=wt.find(".sp-color"),kr=wt.find(".sp-dragger"),Ar=wt.find(".sp-hue"),cn=wt.find(".sp-slider"),Wt=wt.find(".sp-alpha-inner"),ct=wt.find(".sp-alpha"),Hr=wt.find(".sp-alpha-handle"),sr=wt.find(".sp-input"),Ur=wt.find(".sp-palette"),jt=wt.find(".sp-initial"),Yt=wt.find(".sp-cancel"),jn=wt.find(".sp-clear"),Jn=wt.find(".sp-choose"),He=wt.find(".sp-palette-toggle"),yt=Nt.is("input"),Qn=yt&&Nt.attr("type")==="color"&&M(),R=yt&&!Ae,re=R?o(s).addClass(it).addClass(j.className).addClass(j.replacerClassName):o([]),Ee=R?re:Nt,We=re.find(".sp-preview-inner"),qe=j.color||yt&&Nt.val(),Pt=!1,Dt=j.preferredFormat,or=!j.showButtons||j.clickoutFiresChange,Kt=!qe,Rn=j.allowEmpty&&!Qn;function Di(){if(j.showPaletteOnly&&(j.showPalette=!0),He.text(j.showPaletteOnly?j.togglePaletteMoreText:j.togglePaletteLessText),j.palette){Sr=j.palette.slice(0),rr=o.isArray(Sr[0])?Sr:[Sr],Yn={};for(var vt=0;vt<rr.length;vt++)for(var ht=0;ht<rr[vt].length;ht++){var Ht=$(rr[vt][ht]).toRgbString();Yn[Ht]=!0}}wt.toggleClass("sp-flat",Ae),wt.toggleClass("sp-input-disabled",!j.showInput),wt.toggleClass("sp-alpha-enabled",j.showAlpha),wt.toggleClass("sp-clear-enabled",Rn),wt.toggleClass("sp-buttons-disabled",!j.showButtons),wt.toggleClass("sp-palette-buttons-disabled",!j.togglePaletteOnly),wt.toggleClass("sp-palette-disabled",!j.showPalette),wt.toggleClass("sp-palette-only",j.showPaletteOnly),wt.toggleClass("sp-initial-disabled",!j.showInitial),wt.addClass(j.className).addClass(j.containerClassName),no()}function ai(){if(n&&wt.find("*:not(input)").attr("unselectable","on"),Di(),R&&Nt.after(re).hide(),Rn||jn.hide(),Ae)Nt.after(wt).hide();else{var vt=j.appendTo==="parent"?Nt.parent():o(j.appendTo);vt.length!==1&&(vt=o("body")),vt.append(wt)}si(),Ee.bind("click.spectrum touchstart.spectrum",function(xt){Qr||Ri(),xt.stopPropagation(),o(xt.target).is("input")||xt.preventDefault()}),(Nt.is(":disabled")||j.disabled===!0)&&go(),wt.click(b),sr.change(ko),sr.bind("paste",function(){setTimeout(ko,1)}),sr.keydown(function(xt){xt.keyCode==13&&ko()}),Yt.text(j.cancelText),Yt.bind("click.spectrum",function(xt){xt.stopPropagation(),xt.preventDefault(),Ao(),eo()}),jn.attr("title",j.clearText),jn.bind("click.spectrum",function(xt){xt.stopPropagation(),xt.preventDefault(),Kt=!0,Mo(),Ae&&ro(!0)}),Jn.text(j.chooseText),Jn.bind("click.spectrum",function(xt){xt.stopPropagation(),xt.preventDefault(),n&&sr.is(":focus")&&sr.trigger("change"),vs()&&(ro(!0),eo())}),He.text(j.showPaletteOnly?j.togglePaletteMoreText:j.togglePaletteLessText),He.bind("click.spectrum",function(xt){xt.stopPropagation(),xt.preventDefault(),j.showPaletteOnly=!j.showPaletteOnly,!j.showPaletteOnly&&!Ae&&wt.css("left","-="+(Ln.outerWidth(!0)+5)),Di()}),x(ct,function(xt,lr,Vr){tr=xt/ie,Kt=!1,Vr.shiftKey&&(tr=Math.round(tr*10)/10),Mo()},ci,Uo),x(Ar,function(xt,lr){Ye=parseFloat(lr/H),Kt=!1,j.showAlpha||(tr=1),Mo()},ci,Uo),x(yn,function(xt,lr,Vr){if(!Vr.shiftKey)zt=null;else if(!zt){var fn=gt*$t,mo=hr-St*hr,_n=Math.abs(xt-fn)>Math.abs(lr-mo);zt=_n?"x":"y"}var bn=!zt||zt==="x",Nn=!zt||zt==="y";bn&&(gt=parseFloat(xt/$t)),Nn&&(St=parseFloat((hr-lr)/hr)),Kt=!1,j.showAlpha||(tr=1),Mo()},ci,Uo),qe?(un(qe),to(),Dt=j.preferredFormat||$(qe).getFormat(),li(qe)):to(),Ae&&Mr();function ht(xt){return xt.data&&xt.data.ignore?(un(o(xt.target).closest(".sp-thumb-el").data("color")),Mo()):(un(o(xt.target).closest(".sp-thumb-el").data("color")),Mo(),j.hideAfterPaletteSelect&&(ro(!0),eo())),!1}var Ht=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ur.delegate(".sp-thumb-el",Ht,ht),jt.delegate(".sp-thumb-el:nth-child(1)",Ht,{ignore:!0},ht)}function si(){if(Ue&&window.localStorage){try{var vt=window.localStorage[Ue].split(",#");vt.length>1&&(delete window.localStorage[Ue],o.each(vt,function(ht,Ht){li(Ht)}))}catch{}try{nr=window.localStorage[Ue].split(";")}catch{}}}function li(vt){if(be){var ht=$(vt).toRgbString();if(!Yn[ht]&&o.inArray(ht,nr)===-1)for(nr.push(ht);nr.length>ln;)nr.shift();if(Ue&&window.localStorage)try{window.localStorage[Ue]=nr.join(";")}catch{}}}function Ta(){var vt=[];if(j.showPalette)for(var ht=0;ht<nr.length;ht++){var Ht=$(nr[ht]).toRgbString();Yn[Ht]||vt.push(nr[ht])}return vt.reverse().slice(0,j.maxSelectionSize)}function Li(){var vt=Rr(),ht=o.map(rr,function(Ht,xt){return u(Ht,vt,"sp-palette-row sp-palette-row-"+xt,j)});si(),nr&&ht.push(u(Ta(),vt,"sp-palette-row sp-palette-row-selection",j)),Ur.html(ht.join(""))}function ji(){if(j.showInitial){var vt=Pt,ht=Rr();jt.html(u([vt,ht],ht,"sp-palette-row-initial",j))}}function ci(){(hr<=0||$t<=0||H<=0)&&no(),At=!0,wt.addClass(Dn),zt=null,Nt.trigger("dragstart.spectrum",[Rr()])}function Uo(){At=!1,wt.removeClass(Dn),Nt.trigger("dragstop.spectrum",[Rr()])}function ko(){var vt=sr.val();if((vt===null||vt==="")&&Rn)un(null),ro(!0);else{var ht=$(vt);ht.isValid()?(un(ht),ro(!0)):sr.addClass("sp-validation-error")}}function Ri(){pt?eo():Mr()}function Mr(){var vt=o.Event("beforeShow.spectrum");if(pt){no();return}if(Nt.trigger("beforeShow.spectrum",[Rr()]),!(nt.beforeShow(Rr())===!1||vt.isDefaultPrevented())){f(),pt=!0;var ht=o(Or);ht.bind("keydown.spectrum",jr),ht.bind("click.spectrum",Ea),o(window).bind("resize.spectrum",Qe),re.addClass("sp-active"),wt.removeClass("sp-hidden"),no(),to(),Pt=Rr(),ji(),nt.show(Pt),Nt.trigger("show.spectrum",[Pt])}}function jr(vt){vt.keyCode===27&&eo()}function Ea(vt){vt.button!=2&&(At||(or?ro(!0):Ao(),eo()))}function eo(){!pt||Ae||(pt=!1,o(Or).unbind("keydown.spectrum",jr),o(Or).unbind("click.spectrum",Ea),o(window).unbind("resize.spectrum",Qe),re.removeClass("sp-active"),wt.addClass("sp-hidden"),nt.hide(Rr()),Nt.trigger("hide.spectrum",[Rr()]))}function Ao(){un(Pt,!0)}function un(vt,ht){if($.equals(vt,Rr())){to();return}var Ht,xt;!vt&&Rn?Kt=!0:(Kt=!1,Rt=!vt,Ht=$(vt),xt=Ht.toHsv(),Ye=xt.h%360/360,gt=xt.s,St=xt.v,tr=xt.a),to(),Ht&&Ht.isValid()&&!ht&&(Dt=j.preferredFormat||Ht.getFormat())}function Rr(vt){return vt=vt||{},Rn&&Kt?null:$.fromRatio({h:Ye,s:gt,v:St,a:Math.round(tr*100)/100},{format:vt.format||Dt})}function vs(){return!sr.hasClass("sp-validation-error")}function Mo(){to(),nt.move(Rr()),Nt.trigger("move.spectrum",[Rr()])}function to(){sr.removeClass("sp-validation-error"),ui();var vt=$.fromRatio({h:Ye,s:1,v:1});yn.css("background-color",vt.toHexString());var ht=Dt;tr<1&&!(tr===0&&ht==="name")&&(ht==="hex"||ht==="hex3"||ht==="hex6"||ht==="name")&&(ht="rgb");var Ht=Rr({format:ht}),xt="";if(We.removeClass("sp-clear-display"),We.css("background-color","transparent"),!Ht&&Rn)We.addClass("sp-clear-display");else{var lr=Ht.toHexString(),Vr=Ht.toRgbString();if(i||Ht.alpha===1?We.css("background-color",Vr):(We.css("background-color","transparent"),We.css("filter",Ht.toFilter())),j.showAlpha){var fn=Ht.toRgb();fn.a=0;var mo=$(fn).toRgbString(),_n="linear-gradient(left, "+mo+", "+lr+")";n?Wt.css("filter",$(mo).toFilter({gradientType:1},lr)):(Wt.css("background","-webkit-"+_n),Wt.css("background","-moz-"+_n),Wt.css("background","-ms-"+_n),Wt.css("background","linear-gradient(to right, "+mo+", "+lr+")"))}xt=Ht.toString(ht)}j.showInput&&sr.val(xt),j.showPalette&&Li(),ji()}function ui(){var vt=gt,ht=St;if(Rn&&Kt)Hr.hide(),cn.hide(),kr.hide();else{Hr.show(),cn.show(),kr.show();var Ht=vt*$t,xt=hr-ht*hr;Ht=Math.max(-Lr,Math.min($t-Lr,Ht-Lr)),xt=Math.max(-Lr,Math.min(hr-Lr,xt-Lr)),kr.css({top:xt+"px",left:Ht+"px"});var lr=tr*ie;Hr.css({left:lr-he/2+"px"});var Vr=Ye*H;cn.css({top:Vr-De+"px"})}}function ro(vt){var ht=Rr(),Ht="",xt=Rt?!0:!$.equals(ht,Pt);ht&&(Ht=ht.toString(Dt),!pt&&li(ht)),yt&&Nt.val(Ht),vt&&xt&&(nt.change(ht),Nt.trigger("change",[ht]))}function no(){pt&&($t=yn.width(),hr=yn.height(),Lr=kr.height(),Ar.width(),H=Ar.height(),De=cn.height(),ie=ct.width(),he=Hr.width(),Ae||(wt.css("position","absolute"),j.offset?wt.offset(j.offset):wt.offset(m(wt,Ee))),ui(),j.showPalette&&Li(),Nt.trigger("reflow.spectrum"))}function Pa(){Nt.show(),Ee.unbind("click.spectrum touchstart.spectrum"),wt.remove(),re.remove(),t[Vo.id]=null}function Ni(vt,ht){if(vt===r)return o.extend({},j);if(ht===r)return j[vt];j[vt]=ht,vt==="preferredFormat"&&(Dt=j.preferredFormat),Di()}function fi(){Qr=!1,Nt.attr("disabled",!1),Ee.removeClass("sp-disabled")}function go(){eo(),Qr=!0,Nt.attr("disabled",!0),Ee.addClass("sp-disabled")}function di(vt){j.offset=vt,no()}ai();var Vo={show:Mr,hide:eo,toggle:Ri,reflow:no,option:Ni,enable:fi,disable:go,offset:di,set:function(vt){un(vt),ro()},get:Rr,destroy:Pa,container:wt};return Vo.id=t.push(Vo)-1,Vo}function m(K,ce){for(var j=ce[0],Ae=K[0],be=Ae.parentElement,Ue=j.getBoundingClientRect(),it=Ae.offsetWidth,nt=Ae.offsetHeight,Qe={top:0,left:0,width:j.offsetWidth,height:j.offsetHeight};j&&(Qe.top+=j.offsetTop-j.scrollTop,Qe.left+=j.offsetLeft-j.scrollLeft,!(j===be||!be.contains(j.offsetParent)));)j=j.offsetParent;return Ue.right+it>window.innerWidth-window.scrollX&&Ue.right-it>0&&(Qe.left-=it-Qe.width),Ue.bottom+nt<window.innerHeight-window.scrollY?Qe.top+=Qe.height:Qe.top-=nt,Qe}function y(){}function b(K){K.stopPropagation()}function w(K,ce){var j=Array.prototype.slice,Ae=j.call(arguments,2);return function(){return K.apply(ce,Ae.concat(j.call(arguments)))}}function x(K,ce,j,Ae){ce=ce||function(){},j=j||function(){},Ae=Ae||function(){};var be=document,Ue=!1,it={},nt=0,Qe=0,pt="ontouchstart"in window,At={};At.selectstart=Rt,At.dragstart=Rt,At["touchmove mousemove"]=$t,At["touchend mouseup"]=Lr;function Rt(H){H.stopPropagation&&H.stopPropagation(),H.preventDefault&&H.preventDefault(),H.returnValue=!1}function $t(H){if(Ue){if(n&&be.documentMode<9&&!H.button)return Lr();var ie=H&&H.touches&&H.touches[0],he=ie&&ie.pageX||H.pageX,De=ie&&ie.pageY||H.pageY,Ye=Math.max(0,Math.min(he-it.left,Qe)),gt=Math.max(0,Math.min(De-it.top,nt));pt&&Rt(H),ce.apply(K,[Ye,gt,H])}}function hr(H){var ie=H.which?H.which==3:H.button==2;!ie&&!Ue&&j.apply(K,arguments)!==!1&&(Ue=!0,nt=o(K).height(),Qe=o(K).width(),it=o(K).offset(),o(be).bind(At),o(be.body).addClass("sp-dragging"),$t(H),Rt(H))}function Lr(){Ue&&(o(be).unbind(At),o(be.body).removeClass("sp-dragging"),setTimeout(function(){Ae.apply(K,arguments)},0)),Ue=!1}o(K).bind("touchstart mousedown",hr)}function O(K,ce,j){var Ae;return function(){var be=this,Ue=arguments,it=function(){Ae=null,K.apply(be,Ue)};Ae||(Ae=setTimeout(it,ce))}}function M(){return o.fn.spectrum.inputTypeColorSupport()}var T="spectrum.id";o.fn.spectrum=function(K,ce){if(typeof K=="string"){var j=this,Ae=Array.prototype.slice.call(arguments,1);return this.each(function(){var be=t[o(this).data(T)];if(be){var Ue=be[K];if(!Ue)throw new Error("Spectrum: no such method: '"+K+"'");K=="get"?j=be.get():K=="container"?j=be.container:K=="option"?j=be.option.apply(be,Ae):K=="destroy"?(be.destroy(),o(this).removeData(T)):Ue.apply(be,Ae)}}),j}return this.spectrum("destroy").each(function(){var be=o.extend({},K,o(this).data()),Ue=v(this,be);o(this).data(T,Ue.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=x,o.fn.spectrum.defaults=e,o.fn.spectrum.inputTypeColorSupport=function K(){if(typeof K._cachedResult>"u"){var ce=o("<input type='color'/>")[0];K._cachedResult=ce.type==="color"&&ce.value!==""}return K._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var K=o("input[type=color]");K.length&&!M()&&K.spectrum({preferredFormat:"hex6"})};var E=/^[\s,#]+/,U=/\s+$/,Z=0,te=Math,ee=te.round,G=te.min,q=te.max,D=te.random,$=function(K,ce){if(K=K||"",ce=ce||{},K instanceof $)return K;if(!(this instanceof $))return new $(K,ce);var j=B(K);this._originalInput=K,this._r=j.r,this._g=j.g,this._b=j.b,this._a=j.a,this._roundA=ee(100*this._a)/100,this._format=ce.format||j.format,this._gradientType=ce.gradientType,this._r<1&&(this._r=ee(this._r)),this._g<1&&(this._g=ee(this._g)),this._b<1&&(this._b=ee(this._b)),this._ok=j.ok,this._tc_id=Z++};$.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},setAlpha:function(K){return this._a=st(K),this._roundA=ee(100*this._a)/100,this},toHsv:function(){var K=_e(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=_e(this._r,this._g,this._b),ce=ee(K.h*360),j=ee(K.s*100),Ae=ee(K.v*100);return this._a==1?"hsv("+ce+", "+j+"%, "+Ae+"%)":"hsva("+ce+", "+j+"%, "+Ae+"%, "+this._roundA+")"},toHsl:function(){var K=X(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=X(this._r,this._g,this._b),ce=ee(K.h*360),j=ee(K.s*100),Ae=ee(K.l*100);return this._a==1?"hsl("+ce+", "+j+"%, "+Ae+"%)":"hsla("+ce+", "+j+"%, "+Ae+"%, "+this._roundA+")"},toHex:function(K){return Ve(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(){return le(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:ee(this._r),g:ee(this._g),b:ee(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+ee(this._r)+", "+ee(this._g)+", "+ee(this._b)+")":"rgba("+ee(this._r)+", "+ee(this._g)+", "+ee(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:ee(A(this._r,255)*100)+"%",g:ee(A(this._g,255)*100)+"%",b:ee(A(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+ee(A(this._r,255)*100)+"%, "+ee(A(this._g,255)*100)+"%, "+ee(A(this._b,255)*100)+"%)":"rgba("+ee(A(this._r,255)*100)+"%, "+ee(A(this._g,255)*100)+"%, "+ee(A(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ot[Ve(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var ce="#"+le(this._r,this._g,this._b,this._a),j=ce,Ae=this._gradientType?"GradientType = 1, ":"";if(K){var be=$(K);j=be.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Ae+"startColorstr="+ce+",endColorstr="+j+")"},toString:function(K){var ce=!!K;K=K||this._format;var j=!1,Ae=this._a<1&&this._a>=0,be=!ce&&Ae&&(K==="hex"||K==="hex6"||K==="hex3"||K==="name");return be?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(j=this.toRgbString()),K==="prgb"&&(j=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(j=this.toHexString()),K==="hex3"&&(j=this.toHexString(!0)),K==="hex8"&&(j=this.toHex8String()),K==="name"&&(j=this.toName()),K==="hsl"&&(j=this.toHslString()),K==="hsv"&&(j=this.toHsvString()),j||this.toHexString())},_applyModification:function(K,ce){var j=K.apply(null,[this].concat([].slice.call(ce)));return this._r=j._r,this._g=j._g,this._b=j._b,this.setAlpha(j._a),this},lighten:function(){return this._applyModification(ge,arguments)},brighten:function(){return this._applyModification(Be,arguments)},darken:function(){return this._applyModification(ze,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(xe,arguments)},greyscale:function(){return this._applyModification(Oe,arguments)},spin:function(){return this._applyModification(Me,arguments)},_applyCombination:function(K,ce){return K.apply(null,[this].concat([].slice.call(ce)))},analogous:function(){return this._applyCombination(Se,arguments)},complement:function(){return this._applyCombination(Ne,arguments)},monochromatic:function(){return this._applyCombination(Ze,arguments)},splitcomplement:function(){return this._applyCombination(ae,arguments)},triad:function(){return this._applyCombination(Je,arguments)},tetrad:function(){return this._applyCombination(at,arguments)}},$.fromRatio=function(K,ce){if(typeof K=="object"){var j={};for(var Ae in K)K.hasOwnProperty(Ae)&&(Ae==="a"?j[Ae]=K[Ae]:j[Ae]=me(K[Ae]));K=j}return $(K,ce)};function B(K){var ce={r:0,g:0,b:0},j=1,Ae=!1,be=!1;return typeof K=="string"&&(K=bt(K)),typeof K=="object"&&(K.hasOwnProperty("r")&&K.hasOwnProperty("g")&&K.hasOwnProperty("b")?(ce=W(K.r,K.g,K.b),Ae=!0,be=String(K.r).substr(-1)==="%"?"prgb":"rgb"):K.hasOwnProperty("h")&&K.hasOwnProperty("s")&&K.hasOwnProperty("v")?(K.s=me(K.s),K.v=me(K.v),ce=ue(K.h,K.s,K.v),Ae=!0,be="hsv"):K.hasOwnProperty("h")&&K.hasOwnProperty("s")&&K.hasOwnProperty("l")&&(K.s=me(K.s),K.l=me(K.l),ce=V(K.h,K.s,K.l),Ae=!0,be="hsl"),K.hasOwnProperty("a")&&(j=K.a)),j=st(j),{ok:Ae,format:K.format||be,r:G(255,q(ce.r,0)),g:G(255,q(ce.g,0)),b:G(255,q(ce.b,0)),a:j}}function W(K,ce,j){return{r:A(K,255)*255,g:A(ce,255)*255,b:A(j,255)*255}}function X(K,ce,j){K=A(K,255),ce=A(ce,255),j=A(j,255);var Ae=q(K,ce,j),be=G(K,ce,j),Ue,it,nt=(Ae+be)/2;if(Ae==be)Ue=it=0;else{var Qe=Ae-be;switch(it=nt>.5?Qe/(2-Ae-be):Qe/(Ae+be),Ae){case K:Ue=(ce-j)/Qe+(ce<j?6:0);break;case ce:Ue=(j-K)/Qe+2;break;case j:Ue=(K-ce)/Qe+4;break}Ue/=6}return{h:Ue,s:it,l:nt}}function V(K,ce,j){var Ae,be,Ue;K=A(K,360),ce=A(ce,100),j=A(j,100);function it(pt,At,Rt){return Rt<0&&(Rt+=1),Rt>1&&(Rt-=1),Rt<1/6?pt+(At-pt)*6*Rt:Rt<1/2?At:Rt<2/3?pt+(At-pt)*(2/3-Rt)*6:pt}if(ce===0)Ae=be=Ue=j;else{var nt=j<.5?j*(1+ce):j+ce-j*ce,Qe=2*j-nt;Ae=it(Qe,nt,K+1/3),be=it(Qe,nt,K),Ue=it(Qe,nt,K-1/3)}return{r:Ae*255,g:be*255,b:Ue*255}}function _e(K,ce,j){K=A(K,255),ce=A(ce,255),j=A(j,255);var Ae=q(K,ce,j),be=G(K,ce,j),Ue,it,nt=Ae,Qe=Ae-be;if(it=Ae===0?0:Qe/Ae,Ae==be)Ue=0;else{switch(Ae){case K:Ue=(ce-j)/Qe+(ce<j?6:0);break;case ce:Ue=(j-K)/Qe+2;break;case j:Ue=(K-ce)/Qe+4;break}Ue/=6}return{h:Ue,s:it,v:nt}}function ue(K,ce,j){K=A(K,360)*6,ce=A(ce,100),j=A(j,100);var Ae=te.floor(K),be=K-Ae,Ue=j*(1-ce),it=j*(1-be*ce),nt=j*(1-(1-be)*ce),Qe=Ae%6,pt=[j,it,Ue,Ue,nt,j][Qe],At=[nt,j,j,it,Ue,Ue][Qe],Rt=[Ue,Ue,nt,j,j,it][Qe];return{r:pt*255,g:At*255,b:Rt*255}}function Ve(K,ce,j,Ae){var be=[J(ee(K).toString(16)),J(ee(ce).toString(16)),J(ee(j).toString(16))];return Ae&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0):be.join("")}function le(K,ce,j,Ae){var be=[J(fe(Ae)),J(ee(K).toString(16)),J(ee(ce).toString(16)),J(ee(j).toString(16))];return be.join("")}$.equals=function(K,ce){return!K||!ce?!1:$(K).toRgbString()==$(ce).toRgbString()},$.random=function(){return $.fromRatio({r:D(),g:D(),b:D()})};function N(K,ce){ce=ce===0?0:ce||10;var j=$(K).toHsl();return j.s-=ce/100,j.s=z(j.s),$(j)}function xe(K,ce){ce=ce===0?0:ce||10;var j=$(K).toHsl();return j.s+=ce/100,j.s=z(j.s),$(j)}function Oe(K){return $(K).desaturate(100)}function ge(K,ce){ce=ce===0?0:ce||10;var j=$(K).toHsl();return j.l+=ce/100,j.l=z(j.l),$(j)}function Be(K,ce){ce=ce===0?0:ce||10;var j=$(K).toRgb();return j.r=q(0,G(255,j.r-ee(255*-(ce/100)))),j.g=q(0,G(255,j.g-ee(255*-(ce/100)))),j.b=q(0,G(255,j.b-ee(255*-(ce/100)))),$(j)}function ze(K,ce){ce=ce===0?0:ce||10;var j=$(K).toHsl();return j.l-=ce/100,j.l=z(j.l),$(j)}function Me(K,ce){var j=$(K).toHsl(),Ae=(ee(j.h)+ce)%360;return j.h=Ae<0?360+Ae:Ae,$(j)}function Ne(K){var ce=$(K).toHsl();return ce.h=(ce.h+180)%360,$(ce)}function Je(K){var ce=$(K).toHsl(),j=ce.h;return[$(K),$({h:(j+120)%360,s:ce.s,l:ce.l}),$({h:(j+240)%360,s:ce.s,l:ce.l})]}function at(K){var ce=$(K).toHsl(),j=ce.h;return[$(K),$({h:(j+90)%360,s:ce.s,l:ce.l}),$({h:(j+180)%360,s:ce.s,l:ce.l}),$({h:(j+270)%360,s:ce.s,l:ce.l})]}function ae(K){var ce=$(K).toHsl(),j=ce.h;return[$(K),$({h:(j+72)%360,s:ce.s,l:ce.l}),$({h:(j+216)%360,s:ce.s,l:ce.l})]}function Se(K,ce,j){ce=ce||6,j=j||30;var Ae=$(K).toHsl(),be=360/j,Ue=[$(K)];for(Ae.h=(Ae.h-(be*ce>>1)+720)%360;--ce;)Ae.h=(Ae.h+be)%360,Ue.push($(Ae));return Ue}function Ze(K,ce){ce=ce||6;for(var j=$(K).toHsv(),Ae=j.h,be=j.s,Ue=j.v,it=[],nt=1/ce;ce--;)it.push($({h:Ae,s:be,v:Ue})),Ue=(Ue+nt)%1;return it}$.mix=function(K,ce,j){j=j===0?0:j||50;var Ae=$(K).toRgb(),be=$(ce).toRgb(),Ue=j/100,it=Ue*2-1,nt=be.a-Ae.a,Qe;it*nt==-1?Qe=it:Qe=(it+nt)/(1+it*nt),Qe=(Qe+1)/2;var pt=1-Qe,At={r:be.r*Qe+Ae.r*pt,g:be.g*Qe+Ae.g*pt,b:be.b*Qe+Ae.b*pt,a:be.a*Ue+Ae.a*(1-Ue)};return $(At)},$.readability=function(K,ce){var j=$(K),Ae=$(ce),be=j.toRgb(),Ue=Ae.toRgb(),it=j.getBrightness(),nt=Ae.getBrightness(),Qe=Math.max(be.r,Ue.r)-Math.min(be.r,Ue.r)+Math.max(be.g,Ue.g)-Math.min(be.g,Ue.g)+Math.max(be.b,Ue.b)-Math.min(be.b,Ue.b);return{brightness:Math.abs(it-nt),color:Qe}},$.isReadable=function(K,ce){var j=$.readability(K,ce);return j.brightness>125&&j.color>500},$.mostReadable=function(K,ce){for(var j=null,Ae=0,be=!1,Ue=0;Ue<ce.length;Ue++){var it=$.readability(K,ce[Ue]),nt=it.brightness>125&&it.color>500,Qe=3*(it.brightness/125)+it.color/500;(nt&&!be||nt&&be&&Qe>Ae||!nt&&!be&&Qe>Ae)&&(be=nt,Ae=Qe,j=$(ce[Ue]))}return j};var Ie=$.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=$.hexNames=dt(Ie);function dt(K){var ce={};for(var j in K)K.hasOwnProperty(j)&&(ce[K[j]]=j);return ce}function st(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function A(K,ce){pe(K)&&(K="100%");var j=Ce(K);return K=G(ce,q(0,parseFloat(K))),j&&(K=parseInt(K*ce,10)/100),te.abs(K-ce)<1e-6?1:K%ce/parseFloat(ce)}function z(K){return G(1,q(0,K))}function Y(K){return parseInt(K,16)}function pe(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function Ce(K){return typeof K=="string"&&K.indexOf("%")!=-1}function J(K){return K.length==1?"0"+K:""+K}function me(K){return K<=1&&(K=K*100+"%"),K}function fe(K){return Math.round(parseFloat(K)*255).toString(16)}function ut(K){return Y(K)/255}var Ct=function(){var K="[-\\+]?\\d+%?",ce="[-\\+]?\\d*\\.\\d+%?",j="(?:"+ce+")|(?:"+K+")",Ae="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",be="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?";return{rgb:new RegExp("rgb"+Ae),rgba:new RegExp("rgba"+be),hsl:new RegExp("hsl"+Ae),hsla:new RegExp("hsla"+be),hsv:new RegExp("hsv"+Ae),hsva:new RegExp("hsva"+be),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function bt(K){K=K.replace(E,"").replace(U,"").toLowerCase();var ce=!1;if(Ie[K])K=Ie[K],ce=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var j;return(j=Ct.rgb.exec(K))?{r:j[1],g:j[2],b:j[3]}:(j=Ct.rgba.exec(K))?{r:j[1],g:j[2],b:j[3],a:j[4]}:(j=Ct.hsl.exec(K))?{h:j[1],s:j[2],l:j[3]}:(j=Ct.hsla.exec(K))?{h:j[1],s:j[2],l:j[3],a:j[4]}:(j=Ct.hsv.exec(K))?{h:j[1],s:j[2],v:j[3]}:(j=Ct.hsva.exec(K))?{h:j[1],s:j[2],v:j[3],a:j[4]}:(j=Ct.hex8.exec(K))?{a:ut(j[1]),r:Y(j[2]),g:Y(j[3]),b:Y(j[4]),format:ce?"name":"hex8"}:(j=Ct.hex6.exec(K))?{r:Y(j[1]),g:Y(j[2]),b:Y(j[3]),format:ce?"name":"hex"}:(j=Ct.hex3.exec(K))?{r:Y(j[1]+""+j[1]),g:Y(j[2]+""+j[2]),b:Y(j[3]+""+j[3]),format:ce?"name":"hex"}:!1}window.tinycolor=$,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var cM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),H2=function(o){cM(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.ppfx||"";return t.opts=e,t.ppfx=n,t.em=e.target||{},!e.onChange&&t.listenTo(t.model,"change:value",t.handleModelChange),t}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(e,t){var n=this.model,i=e||n.get("defaults"),s=this.getInputEl();s&&(s.value=i)},r.prototype.handleModelChange=function(e,t,n){this.setValue(t,n)},r.prototype.handleChange=function(e){e.stopPropagation();var t=this.getInputEl().value;this.__onInputChange(t),this.elementUpdated()},r.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var e=this,t=e.model,n=e.opts,i=n.type||"text",s=t.get("placeholder")||t.get("defaults")||t.get("default")||"";this.inputEl=(0,Xr.default)('<input type="'.concat(i,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}(Ge.Ss);const Sd=H2;H2.prototype.events={change:"handleChange"};var uM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yc=function(){return Yc=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Yc.apply(this,arguments)};Xr.default&&lM(Xr.default);var sf=function(o){var r=o.getFormat()==="name"&&o.toName(),e=o.getAlpha()==1?o.toHexString():o.toRgbString();return r||e.replace(/ /g,"")},fM=function(o){uM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(e){e.stopPropagation();var t=e.target.value;(0,L.isUndefined)(t)||this.__onInputChange(t)},r.prototype.__onInputChange=function(e){var t=this,n=t.model,i=t.opts,s=i.onChange,l=e,u=this.getColorEl();if(u){u.spectrum("set",l);var f=u.spectrum("get"),d=l&&sf(f);d&&(l=d)}s?s(l):n.set({value:l},{fromInput:1})},r.prototype.setValue=function(e,t){t===void 0&&(t={});var n=this.model,i=(0,L.isUndefined)(t.def)?n.get("defaults"):t.def,s=(0,L.isUndefined)(e)?(0,L.isUndefined)(i)?"":i:e,l=this.getInputEl(),u=this.getColorEl(),f=s!="none"?s:"";l.value=s,u.get(0).style.backgroundColor=f,(t.fromTarget||t.fromInput&&!t.avoidStore)&&(u.spectrum("set",f),this.noneColor=s=="none",this.movedColor=f)},r.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var t=this,n=t.em,i=t.model,s=t.opts,l=this.ppfx,u=s.onChange,f=(0,Xr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),d=f.get(0).style,v=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var m=!1,y;this.$el.find("[data-colorp-c]").append(f);var b=function(w,x){x===void 0&&(x=!0),u?u(w,!x):(x&&i.setValueFromInput(0,!1),i.setValueFromInput(w,x))};f.spectrum(Yc(Yc(Yc({color:i.getValue()||!1,containerClassName:"".concat(l,"one-bg ").concat(l,"two-color ").concat(l,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},v),i.get("colorPicker")||{}),{move:function(w){var x=sf(w);e.movedColor=x,d.backgroundColor=x,b(x,!1)},change:function(w){m=!0;var x=sf(w);d.backgroundColor=x,b(x),e.noneColor=!1},show:function(w){m=!1,e.movedColor="",y=u?i.getValue({noDefault:!0}):sf(w)},hide:function(){!m&&(y||u)&&(e.noneColor&&(y=""),d.backgroundColor=y,f.spectrum("set",y),b(y,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){e.movedColor&&b(e.movedColor),m=!0,e.movedColor="",f.spectrum("hide")}),this.colorEl=f}return this.colorEl},r.prototype.render=function(){return Sd.prototype.render.call(this),this.getColorEl(),this},r}(Sd);const U2=fM;var dM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),pM=function(o){dM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var e=this.model,t=this.getModelValue(),n=new U2({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=n.render();i.setValue(t,{fromTarget:1}),this.input=i.el}return this.input},r}(Mi);const hM=pM;var vM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),z2=function(o){vM(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;return(0,L.bindAll)(t,"moveIncrement","upIncrement"),t.doc=document,t.listenTo(t.model,"change:unit",t.handleModelChange),t}return r.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},r.prototype.setValue=function(e,t){var n=t||{},i=this.validateInputValue(e,{deepCheck:1}),s={value:i.value,unit:""};(i.unit||i.force)&&(s.unit=i.unit),this.model.set(s,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(e){e.stopPropagation();var t=this.getUnitEl().value;this.model.set("unit",t),this.elementUpdated()},r.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var t=this.getUnitEl();t&&(t.value=e.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,t=e.get("units")||[];if(t.length){var n=['<option value="" disabled hidden>-</option>'];t.forEach(function(s){var l=s==e.get("unit")?"selected":"";n.push("<option ".concat(l,">").concat(s,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n+t)),this.elementUpdated()},r.prototype.downArrowClick=function(){var e=this.model,t=e.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n-t)),this.elementUpdated()},r.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var t=this.model.get("value")||0;t=this.normalizeValue(t),this.current={y:e.pageY,val:t},(0,et.on)(this.doc,"mousemove",this.moveIncrement),(0,et.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(e){this.moved=!0;var t=this.model,n=t.get("step"),i=this.current,s=this.normalizeValue(i.val+(i.y-e.pageY)*n),l=this.validateInputValue(s),u=l.value,f=l.unit;return this.prValue=u,t.set({value:u,unit:f},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var e=this.model,t=e.get("step");if((0,et.AU)(this.doc,"mouseup",this.upIncrement),(0,et.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-t;e.set("value",n,{avoidStore:1}).set("value",n+t),this.elementUpdated()}},r.prototype.normalizeValue=function(e,t){t===void 0&&(t=0);var n=this.model,i=n.get("step"),s=0;if(isNaN(e))return t;if(e=parseFloat(e),Math.floor(e)!==e){var l=i.toString().split(".")[1];s=l?l.length:0}return s?parseFloat(e.toFixed(s)):e},r.prototype.validateInputValue=function(e,t){t===void 0&&(t={});var n=0,i=t||{},s=this.model,l="",u=(0,L.isUndefined)(e)?l:e,f=t.units||s.get("units")||[],d=s.get("unit")||f.length&&f[0]||"",v=(0,L.isUndefined)(t.max)?s.get("max"):t.max,m=(0,L.isUndefined)(t.min)?s.get("min"):t.min,y=!!s.get("limitlessMax"),b=!!s.get("limitlessMin");if(i.deepCheck){var w=s.get("fixedValues")||[];if(u===""&&(d=""),u){var x=new RegExp("^"+w.join("|"),"g");if(w.length&&x.test(u))u=u.match(x)[0],d="",n=1;else{var O=u+"";u+="",u=parseFloat(u.replace(",",".")),u=isNaN(u)?l:u;var M=O.replace(u,"");(0,L.indexOf)(f,M)>=0&&(d=M)}}}return!y&&!(0,L.isUndefined)(v)&&v!==""&&(u=u>v?v:u),!b&&!(0,L.isUndefined)(m)&&m!==""&&(u=u<m?m:u),{force:n,value:u,unit:d}},r.prototype.render=function(){Sd.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},r}(Sd);const W2=z2;z2.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var gM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),mM=function(o){gM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var e=this.model,t=e.attributes,n=t.value,i=t.unit;return!(0,L.isUndefined)(n)&&n!==""?n+i:e.get("default")},r.prototype.getInputEl=function(){if(!this.input){var e=this,t=e.ppfx,n=e.model,i=this.getModelValue(),s=new W2({contClass:"".concat(t,"field-int"),type:"number",model:n,ppfx:t});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,n.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=s.el}return this.input},r}(Mi);const yM=mM;var _M=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),bM=function(o){_M(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.rerender),t}return r.prototype.templateInput=function(){var e=this,t=e.ppfx,n=e.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(t,`sel-arrow">
        <div class="`).concat(t,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var e=this,t=e.model,n=e.em,i=t.get("name"),s=t.get("options")||[],l=[],u="<select>";s.forEach(function(v){var m="",y,b,w;(0,L.isString)(v)?(y=v,b=v):(y=v.name||v.label||v.value,b="".concat((0,L.isUndefined)(v.value)?v.id:v.value).replace(/"/g,"&quot;"),w=v.style?v.style.replace(/"/g,"&quot;"):"",m+=w?' style="'.concat(w,'"'):"");var x=n.t("traitManager.traits.options.".concat(i,".").concat(b))||y;u+='<option value="'.concat(b,'"').concat(m,">").concat(x,"</option>"),l.push(b)}),u+="</select>",this.$input=(0,Xr.default)(u);var f=t.getTargetValue(),d=l.indexOf(f)>=0?f:t.get("default");!(0,L.isUndefined)(d)&&this.$input.val(d)}return this.$input.get(0)},r}(Mi);const wM=bM;var xM=Ut(91),CM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),D0="data-categories",L0="data-no-categories",q2=function(o){CM(r,o);function r(e,t){var n=o.call(this,e)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=t;var i=e.config||{};n.config=i;var s=e.editor;n.em=s;var l=i.pStylePrefix||"";return n.ppfx=l,n.pfx=l+i.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(l,"traits-c"),n.classNoCat="".concat(l,"traits-empty-c"),n.catsClass="".concat(l,"trait-categories"),n.collection=new Jf([],{em:s}),n.listenTo(s,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var e=this,t=e.ppfx,n=e.em,i=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(t,"one-bg ").concat(t,"two-color"),this.collection=(i==null?void 0:i.traits)||new Jf([],{em:n}),this.render()},r.prototype.add=function(e,t){var n=this,i=n.config,s=n.renderedCategories,l=this.itemView,u=e.get(this.itemType);this.itemsView&&this.itemsView[u]&&(l=this.itemsView[u]);var f=new l({config:i,model:e,attributes:e.get("attributes")}),d=f.render().el,v=e.parent.initCategory(e);if(v){var m=v.getId(),y=this.getCategoriesEl(),b=s.get(m);!b&&y&&(b=new E2({model:v},i,"trait").render(),s.set(m,b),y.appendChild(b.el)),b==null||b.append(d);return}t?t.appendChild(d):this.append(d)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(D0,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(L0,"]"))),this.traitsEl},r.prototype.append=function(e){var t=this.getTraitsEl();t==null||t.appendChild(e)},r.prototype.render=function(){var e=this,t=this,n=t.el,i=t.ppfx,s=t.catsClass,l=t.traitContClass,u=t.classNoCat,f=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(s,'" ').concat(D0,`></div>
      <div class="`).concat(u," ").concat(l,'" ').concat(L0,`></div>
    `),this.collection.forEach(function(v){return e.add(v,f)}),this.append(f);var d="".concat(l,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(d),this.rendered=!0,this},r}(xM.A);const j0=q2;q2.prototype.itemView=Mi;var SM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),OM=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},TM=function(o){SM(r,o);function r(e){var t=o.call(this,e,"TraitManager",tM())||this;t.TraitsView=j0,t.events=Zf,t.state=new Ge.Kx({traits:[]}),t.types={text:Mi,number:yM,select:wM,checkbox:sM,color:hM,button:oM};var n=t,i=n.state,s=n.config,l=n.events,u=s.pStylePrefix;u&&(s.stylePrefix="".concat(u).concat(s.stylePrefix)),(0,L.bindAll)(t,"__onSelect");var f=(0,L.debounce)(function(){return t.__upSel()},0),d=(0,L.debounce)(function(){return t.__onUp()},0);return i.listenTo(e,"component:toggled",f),i.listenTo(e,l.value,d),i.on("change:traits",t.__onSelect),t.debounced=[f,d],t}return r.prototype.select=function(e){var t=(e==null?void 0:e.getTraits())||[];this.state.set({component:e,traits:t}),this.__trgCustom()},r.prototype.getCategories=function(){var e,t=this.getComponent(),n=((e=t==null?void 0:t.traits.categories)===null||e===void 0?void 0:e.models)||[];return OM([],n,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(e){return d2(e||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(e,t){var n=this.getType("text");this.types[e]=n.extend(t)},r.prototype.getType=function(e){return this.getTypes()[e]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var e=this.view,t=this.em;return e=new j0({el:e==null?void 0:e.el,collection:[],editor:t,config:this.getConfig()},this.getTypes()),this.view=e,e.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var e=this,t=e.em,n=e.events,i=e.state,s=i.attributes,l=s.component,u=s.traits;t.trigger(n.select,{component:l,traits:u})},r.prototype.__trgCustom=function(e){e===void 0&&(e={});var t=this,n=t.em,i=t.events,s=t.__ctn;this.__ctn=s||e.container,n.trigger(i.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(Xn);const EM=TM;var PM=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const kM=PM;var AM=Ut(3253),MM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),VM=function(o){MM(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(r.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),r}(AM.h);const IM=VM;var $M=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),DM=function(o){$M(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.items=[],t.opt=e;var n=e.config||{};t.config=n,t.module=e.module,t.parentView=e.parentView;var i=n.stylePrefix||"";n.pStylePrefix;var s=t.collection;t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset resetNavigator",t.render),t.listenTo(s,"remove",t.removeChildren),t.className="".concat(i,"layers");var l=n.em;if(n.sortable&&!t.opt.sorter){var u=l.Utils,f=n.sortContainer||t.el,d=t.createPlaceholder(i);t.opt.sorter=new u.ComponentSorter({em:l,treeClass:IM,containerContext:{container:f,containerSel:".".concat(t.className),itemSel:".".concat(i,"layer"),pfx:n.pStylePrefix,document,placeholderElement:d},dragBehavior:{dragDirection:cs.A.Vertical,nested:!0}})}return t.$el.data("collection",s),e.parent&&t.$el.data("model",e.parent),t}return r.prototype.createPlaceholder=function(e){var t=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},r.prototype.removeChildren=function(e){var t=e.viewLayer;t&&(t.remove(),delete e.viewLayer)},r.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},r.prototype.addToCollection=function(e,t,n){var i=this,s=i.parentView,l=i.opt,u=i.config,f=i.el,d=l.ItemView,v=l.opened,m=l.module,y=l.level,b=l.sorter,w=e.viewLayer||new d({ItemView:d,level:y,model:e,parentView:s,config:u,sorter:b,opened:v,module:m}),x=w.render().el;if(t)t.appendChild(x);else{var O=f,M=O.childNodes;if((0,L.isUndefined)(n))O.appendChild(x);else{var T=M.length==n;T&&n--,T||!M.length?O.appendChild(x):O.insertBefore(x,M[n])}}return this.items.push(w),x},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ge.Ss.prototype.remove.apply(this,e),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var e=this,t=this,n=t.el,i=t.module,s=document.createDocumentFragment();return n.innerHTML="",this.collection.map(function(l){return i.__getLayerFromComponent(l)}).forEach(function(l){return e.addToCollection(l,s)}),n.appendChild(s),n.className=this.className,this},r}(Ge.Ss);const LM=DM;var Bh=Ut(5301),jM=function(){return{stylePrefix:"com-",defaults:{},strict:!0}};const RM=jM;var NM=Ut(8351),FM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Od=function(){return Od=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Od.apply(this,arguments)},R0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},N0=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],K2={preserveSelected:1},G2=function(o){return function(r){return o.trigger("".concat(Mg,":start"),r)}},Z2=function(o){return function(r){return o.trigger(Mg,r)}},X2=function(o,r,e){return e===void 0&&(e={}),function(t,n,i){setTimeout(function(){r.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),o.setSelected(r),r[0].emitUpdate()}),o.trigger("".concat(Mg,":end"),i),setTimeout(function(){return o.runDefault(K2)}),(e.altMode||i.cancelled)&&o.set("_cmpDrag",1)}},BM=function(o){FM(r,o);function r(e){var t=o.call(this,e,"Commands",RM())||this;t.CommandAbstract=Bh.default,t.defaultCommands={},t.commands={},t.active={},t.events=NM.A;var n=t.config,i=n.pStylePrefix,s=t.defaultCommands;i&&(n.stylePrefix=i+n.stylePrefix),Object.keys(n.defaults).forEach(function(u){var f=n.defaults[u];f.id&&t.add(f.id,f)}),s["tlb-delete"]={run:function(u){return u.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(u){u.runCommand("core:copy"),u.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(u,f,d){var v;d===void 0&&(d={});var m=u.getModel(),y=d.event,b=d.target,w=Array.isArray(b)?b:b?[b]:R0([],u.getSelectedAll(),!0),x=w.map(function(D){var $,B;return((B=($=D.delegate)===null||$===void 0?void 0:$.move)===null||B===void 0?void 0:B.call($,D))||D}).filter(Boolean),O=x[x.length-1],M=(y==null?void 0:y.type)==="dragstart",T=["absolute","translate"];if(!(O!=null&&O.get("draggable")))return m.logWarning("The element is not draggable");var E=O.get("dmode")||m.get("dmode"),U=function(){return m.stopDefault(K2)},Z=(0,L.includes)(T,E);x.forEach(function(D){return D.trigger("disable",{fromMove:!0})}),M?setTimeout(U,0):U();var te=G2(m),ee=Z2(m),G=X2(m,x,{altMode:Z});if(Z)u.runCommand("core:component-drag",{guidesInfo:1,mode:E,target:O,onStart:te,onDrag:ee,onEnd:G,event:y});else{M&&y.dataTransfer.setDragImage((v=O.view)===null||v===void 0?void 0:v.el,0,0);var q=u.Commands.get("move-comp");q.onStart=te,q.onDrag=ee,q.onEndMoveFromModel=G,q.initSorterFromModels(x)}x.filter(function(D){return D.get("selectable")}).forEach(function(D){return D.set("status","freezed-selected")})}},s["core:undo"]=function(u){return u.UndoManager.undo()},s["core:redo"]=function(u){return u.UndoManager.redo()},N0.forEach(function(u){var f=u[2],d=Ut(585)("./".concat(u[1])).default,v="core:".concat(u[0]);s[v]=d,f&&(s[f]=d,["run","stop"].forEach(function(m){e.on("".concat(m,":").concat(f),function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];return e.trigger.apply(e,R0(["".concat(m,":").concat(v)],y,!1))})}))}),n.model=e.Canvas;for(var l in s)t.add(l,s[l]);return t}return r.prototype.add=function(e,t){var n=(0,L.isFunction)(t)?{run:t}:t;return n.stop||(n.noStop=!0),delete n.initialize,n.id=e,this.commands[e]=Bh.default.extend(n),this},r.prototype.get=function(e){var t=this.commands[e];return(0,L.isFunction)(t)?(t=new t(this.config),this.commands[e]=t):t||this.em.logWarning("'".concat(e,"' command not found")),t},r.prototype.extend=function(e,t){t===void 0&&(t={});var n=this.get(e);if(n){var i=Od(Od({},n.constructor.prototype),t);this.add(e,i);var s=N0.filter(function(l){return"core:".concat(l[0])===e&&l[2]})[0];s&&this.add(s[2],i)}return this},r.prototype.has=function(e){return!!this.commands[e]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(e,t){return t===void 0&&(t={}),this.runCommand(this.get(e),t)},r.prototype.stop=function(e,t){return t===void 0&&(t={}),this.stopCommand(this.get(e),t)},r.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var i=this,s=i.em,l=i.config,u=e.id,f=s.Editor;(!this.isActive(u)||t.force||!l.strict)&&(n=f&&e.callRun(f,t),u&&e.stop&&!e.noStop&&!t.abort&&(this.active[u]=n))}return n},r.prototype.stopCommand=function(e,t){t===void 0&&(t={});var n;if(e&&e.run){var i=this,s=i.em,l=i.config,u=e.id,f=s.Editor;(this.isActive(u)||t.force||!l.strict)&&(u&&delete this.active[u],n=e.callStop(f,t))}return n},r.prototype.create=function(e){e.stop||(e.noStop=!0);var t=Bh.default.extend(e);return new t(this.config)},r.prototype.__onRun=function(e,t){var n=this,i=n.em,s=n.events;i.on("".concat(s.runCommand).concat(e),t)},r.prototype.__onStop=function(e,t){var n=this,i=n.em,s=n.events;i.on("".concat(s.stopCommand).concat(e),t)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(Xn);const HM=BM;var UM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yv=function(){return Yv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Yv.apply(this,arguments)},F0="contentEditable",lf="data-toggle-move",zM=function(o){UM(r,o);function r(e){var t=o.call(this,e)||this;(0,L.bindAll)(t,"__render"),t.opt=e,t.module=e.module,t.config=e.config||{},t.sorter=e.sorter||"",t.parentView=e.parentView;var n=t,i=n.model,s=n.pfx,l=n.ppfx,u=i.get("type")||"default";return t.className="".concat(s,"layer ").concat(s,"layer__t-").concat(u," no-select ").concat(l,"two-color"),t.inputNameCls="".concat(l,"layer-name"),t.clsTitleC="".concat(s,"layer-title-c"),t.clsTitle="".concat(s,"layer-title"),t.clsCaret="".concat(s,"layer-caret"),t.clsCount="".concat(s,"layer-count"),t.clsMove="".concat(s,"layer-move"),t.clsChildren="".concat(s,"layer-children"),t.clsNoChild="".concat(s,"layer-no-chld"),t.clsEdit="".concat(t.inputNameCls,"--edit"),t.clsNoEdit="".concat(t.inputNameCls,"--no-edit"),t.initComponent(),t}return r.prototype.events=function(){var e;return e={},e["mousedown [".concat(lf,"]")]="startSort",e["touchstart [".concat(lf,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},r.prototype.template=function(e){var t=this,n=t.pfx,i=t.ppfx,s=t.config,l=t.clsNoEdit,u=t.module,f=t.opt,d=t.em,v=s.hidable,m=u.getComponents(e).length,y=m?"":this.clsNoChild,b="".concat(this.clsTitle," ").concat(y),w="".concat(this.clsTitleC),x="".concat(this.inputNameCls," ").concat(l," ").concat(i,"no-app"),O=f.level||0,M="".concat(O*10,"px"),T=e.getName(),E=e.getIcon(),U="".concat(n,"layer"),Z=(d==null?void 0:d.getConfig()).icons,te=Z,ee=te.move,G=te.eye,q=te.eyeOff,D=te.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(v?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(G,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(q,`</i>
              </i>`):"",`
          <div class="`).concat(w,`">
            <div class="`).concat(b,'" style="padding-left: ').concat(M,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(T,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(D,`</i>
                  `).concat(E?'<span class="'.concat(U,'__icon">').concat(E,"</span>"):"",`
                <span class="`).concat(x,'" data-name>').concat(T,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(lf,">").concat(ee||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var e=this,t=this,n=t.model,i=t.config,s=i.onInit,l=n.components();this.listenTo(l,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(u){return e.listenTo(n,u[0],u[1])}),this.$el.data("model",n),this.$el.data("collection",l),n.viewLayer=this,s.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var e=this,t=e.pfx,n=e.model,i=e.module,s="".concat(t,"layer-hidden"),l=!i.isVisible(n),u=l?"addClass":"removeClass";this.$el[u](s),this.getVisibilityEl()[u]("".concat(t,"layer-off"))},r.prototype.updateMove=function(){var e=this,t=e.model,n=e.config,i=this.getItemContainer().find("[".concat(lf,"]"))[0];if(i){var s=t.get("draggable")&&n.sortable;i.style.display=s?"":"none"}},r.prototype.toggleVisibility=function(e){e==null||e.stopImmediatePropagation();var t=this,n=t.module,i=t.model;n.setVisible(i,!n.isVisible(i))},r.prototype.handleEdit=function(e){e==null||e.stopPropagation();var t=this,n=t.em,i=t.$el,s=t.clsNoEdit,l=t.clsEdit,u=this.getInputName();u[F0]="true",u.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(s).addClass(l)},r.prototype.handleEditKey=function(e){e.stopPropagation(),((0,et.v$)(e)||(0,et.Ci)(e))&&this.handleEditEnd(e)},r.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var t=this,n=t.em,i=t.$el,s=t.clsNoEdit,l=t.clsEdit,u=t.model,f=this.getInputName(),d=f.textContent;f.scrollLeft=0,f[F0]="false",u.setName(d),n.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(s).removeClass(l),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var e=this,t=e.$el,n=e.model,i=e.pfx,s="open",l="".concat(i,"layer-open"),u=this.getCaret();this.module.isOpen(n)?(t.addClass(s),u.addClass(l)):(t.removeClass(s),u.removeClass(l))},r.prototype.toggleOpening=function(e){var t=this,n=t.model,i=t.module;e==null||e.stopImmediatePropagation(),n.get("components").length&&i.setOpen(n,!i.isOpen(n))},r.prototype.handleSelect=function(e){e==null||e.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{selected:!0},{event:e})},r.prototype.handleHover=function(e){e==null||e.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{hovered:!0})},r.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var t=this,n=t.module,i=t.model;n.setLayerData(i,{hovered:!1})},r.prototype.startSort=function(e){var t,n,i;e.stopPropagation();var s=this,l=s.em,u=s.sorter,f=s.model;if(!(e.button&&e.button!==0)&&u){var d=((n=(t=f.delegate)===null||t===void 0?void 0:t.move)===null||n===void 0?void 0:n.call(t,f))||f;u.eventHandlers=Yv({legacyOnStartSort:G2(l),legacyOnMoveClb:Z2(l),legacyOnEndMove:X2(l,[d])},u.eventHandlers);var v=((i=d.viewLayer)===null||i===void 0?void 0:i.el)||e.target;u.startSort([{element:v}])}},r.prototype.updateStatus=function(){Pr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var e=this,t=e.model,n=e.clsNoChild,i=e.module,s=i.getComponents(t).length,l=this.getItemContainer(),u=l.find(".".concat(this.clsTitle)),f=l.find("[data-count]");u[s?"removeClass":"addClass"](n),f.html("".concat(s||"")),!s&&i.setOpen(t,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(e){var t,n=(0,L.isString)(e)?(t=this.em.getWrapper())===null||t===void 0?void 0:t.find(e)[0]:e;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var e=this.parentView,t=e||this;t.render()},r.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},r.prototype.remove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ge.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var e=this,t=e.model,n=e.config,i=e.pfx,s=e.ppfx,l=e.opt,u=e.sorter;this.__clearItems();var f=l.opened,d=l.module,v=l.ItemView,m=!d.__isLayerable(t),y=this.$el.empty(),b=l.level+1;delete this.inputName,this.items=new LM({ItemView:v,collection:t.get("components"),config:n,sorter:u,opened:f,parentView:this,parent:t,level:b,module:d});var w=this.items.render().$el;return!n.showWrapper&&b===1?y.append(w):(y.html(this.template(t)),y.find(".".concat(this.clsChildren)).append(w)),!d.isVisible(t)&&(this.className+=" ".concat(i,"hide")),m&&(this.className+=" ".concat(s,"hidden")),y.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var e=this,t=e.model,n=e.config,i=e.el,s=n.onRender,l={component:t,el:i};s.bind(this)(l),this.em.trigger("layer:render",l)},r}(Ge.Ss);const WM=zM;var qM=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Jv=function(){return Jv=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Jv.apply(this,arguments)},Y2="layer",jg="".concat(Y2,":"),J2="".concat(jg,"root"),Q2="".concat(jg,"component"),KM="".concat(jg,"custom"),GM={all:Y2,root:J2,component:Q2,custom:KM},Hh={mediaText:""},ZM=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(xr.I.update,":").concat(o)}).join(" "),XM=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},YM=function(o){qM(r,o);function r(e){var t=o.call(this,e,"LayerManager",kM())||this;return t.events=GM,(0,L.bindAll)(t,"componentChanged","__onRootChange","__onComponent"),t.model=new Ca.A(t,{opened:{}}),t.config.stylePrefix=t.config.pStylePrefix,t}return r.prototype.onLoad=function(){var e=this,t=this,n=t.em,i=t.config,s=t.model;s.listenTo(n,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(n,ZM,this.__onComponent),this.componentChanged(),s.listenToOnce(n,"load",function(){e.setRoot(i.root),e.__appendTo()})},r.prototype.setRoot=function(e){var t=this.em.getWrapper(),n=(0,Le.isComponent)(e)?e:t;e&&(0,L.isString)(e)&&(0,Le.hasWin)()&&(n=t.find(e)[0]||t);var i=this.__getLayerFromComponent(n);return this.model.set("root",i),i},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(e){var t=this;return e.components().map(function(n){return t.__getLayerFromComponent(n)}).filter(function(n){return t.__isLayerable(n)})},r.prototype.setOpen=function(e,t){e.set("open",t)},r.prototype.isOpen=function(e){return!!e.get("open")},r.prototype.setVisible=function(e,t){var n="__prev-display",i=e.getStyle(Hh),s=i.display;if(t){var l=e.get(n);delete i.display,l&&(i.display=l,e.unset(n))}else s&&e.set(n,s),i.display="none";e.setStyle(i,Hh),this.updateLayer(e),this.em.trigger("component:toggled")},r.prototype.isVisible=function(e){return!XM(e.getStyle(Hh))},r.prototype.setLocked=function(e,t){e.set("locked",t)},r.prototype.isLocked=function(e){return!!e.get("locked")},r.prototype.setName=function(e,t){e.set("custom-name",t)},r.prototype.getName=function(e){return e.getName()},r.prototype.getLayerData=function(e){var t=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:t==="selected",hovered:t==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},r.prototype.setLayerData=function(e,t,n){var i;n===void 0&&(n={});var s=this,l=s.em,u=s.config,f=t.open,d=t.selected,v=t.hovered,m=t.visible,y=t.locked,b=t.name,w=Jv({fromLayers:!0},n);if((0,Le.isDef)(f)&&this.setOpen(e,f),(0,Le.isDef)(d))if(d){l.setSelected(e,w);var x=u.scrollCanvas;x&&((i=e.views)===null||i===void 0||i.forEach(function(O){return O.scrollIntoView(x)}))}else l.removeSelected(e,w);(0,Le.isDef)(v)&&u.showHover&&(v?l.setHovered(e,w):l.setHovered(null,w)),(0,Le.isDef)(m)&&m!==this.isVisible(e)&&this.setVisible(e,m),(0,Le.isDef)(y)&&this.setLocked(e,y),(0,Le.isDef)(b)&&this.setName(e,b)},r.prototype.componentChanged=function(e,t){var n;if(t===void 0&&(t={}),!t.fromLayers){var i=this,s=i.em,l=i.config,u=l.scrollLayers,f=this.model.get("opened"),d=s.getSelected(),v=d==null?void 0:d.parent();for(var m in f)f[m].set("open",!1),delete f[m];for(;v;)v.set("open",!0),f[v.cid]=v,v=v.parent();if(d&&u){var y=(n=d.viewLayer)===null||n===void 0?void 0:n.el;y==null||y.scrollIntoView(u)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var e,t,n=this,i=n.config,s=n.model,l=WM.extend(i.extend);return this.view=new l({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:l,level:0,config:i,opened:s.get("opened"),model:this.getRoot(),module:this}),(t=this.view)===null||t===void 0?void 0:t.render().el},r.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},r.prototype.__onRootChange=function(){var e,t=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(t),this.em.trigger(J2,t),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(e){var t,n;return((n=(t=e.delegate)===null||t===void 0?void 0:t.layer)===null||n===void 0?void 0:n.call(t,e))||e},r.prototype.__onComponent=function(e){this.updateLayer(e)},r.prototype.__isLayerable=function(e){var t=e.tagName,n=this.config.hideTextnode,i=!n||!e.isInstanceOf("textnode")&&t!=="br";return i&&e.get("layerable")},r.prototype.__trgCustom=function(e){var t=this,n=t.__ctn,i=t.em,s=t.events;this.__ctn=n||(e==null?void 0:e.container),i.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(e,t){this.em.trigger(Q2,e,t)},r}(Xn);const JM=YM;var QM=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const eV=QM;var tV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ex=function(o){tV(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,L.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}(Ge.Kx);const Qv=ex;ex.prototype.idAttribute="src";var rV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Td=function(){return Td=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Td.apply(this,arguments)},nV=function(o){rV(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Td(Td({},Qv.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(Qv);const oV=nV;var iV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),aV=function(o){iV(r,o);function r(e){var t=o.call(this,e)||this;t.options=e,t.collection=e.collection;var n=e.config||{};t.config=n,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.em=n.em,t.className=t.pfx+"asset",t.listenTo(t.model,"destroy remove",t.remove),t.model.view=t;var i=t.init&&t.init.bind(t);return i&&i(e),t}return r.prototype.__getBhv=function(){var e=this.em,t=e==null?void 0:e.Assets;return(t==null?void 0:t.__getBehaviour())||{}},r.prototype.template=function(e,t){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,L.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},r}(Ge.Ss);const sV=aV;var lV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B0=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},tx=function(o){lV(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getPreview=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.model,s=i.get("src");return Kn(H0||(H0=B0([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),t,s,t,n)},r.prototype.getInfo=function(){var e=this,t=e.pfx,n=e.model,i=n.get("name"),s=n.get("width"),l=n.get("height"),u=n.get("unitDim"),f=s&&l?"".concat(s,"x").concat(l).concat(u):"";return i=i||n.getFilename(),Kn(U0||(U0=B0([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),t,i,t,f)},r.prototype.init=function(e){var t=this.pfx;this.className+=" ".concat(t,"asset-image")},r.prototype.onClick=function(){var e=this,t=e.model,n=e.pfx,i=this.__getBhv().select,s=this.config.onClick,l=this.collection;l.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,L.isFunction)(i)?i(t,!1):(0,L.isFunction)(s)?s(t):this.updateTarget(l.target)},r.prototype.onDblClick=function(){var e=this,t=e.em,n=e.model,i=this.__getBhv().select,s=this.config.onDblClick,l=this.collection,u=l.target,f=l.onSelect;(0,L.isFunction)(i)?i(n,!0):(0,L.isFunction)(s)?s(n):(this.updateTarget(u),t==null||t.Modal.close()),(0,L.isFunction)(f)&&f(n)},r.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(sV);const cV=tx;tx.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var H0,U0,Ed=function(){return Ed=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ed.apply(this,arguments)},uV={types:[],initialize:function(o,r){var e=this;r===void 0&&(r={});var t=r.em;this.em=t,this.opts=r,this.model=function(i,s){i===void 0&&(i={}),s===void 0&&(s={});var l,u,f;if(i&&i.type){var d=e.getBaseType();f=e.getType(i.type),l=f?f.model:d.model,u=f?f.view:d.view}else{var v=e.recognizeType(i);f=v.type,l=f.model,u=f.view,i=v.attributes}var m=new l(i,Ed(Ed({},s),{em:t}));return m.typeView=u,e.model.prototype=l.prototype,m};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(o){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e],n=t.isType(o);if(n=typeof n=="boolean"&&n?{type:t.id}:n,n)return{type:t,attributes:n}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var r=this.getTypes(),e=0;e<r.length;e++){var t=r[e];if(t.id===o)return t}},addType:function(o,r){var e=this.getType(o),t=this.getBaseType(),n=e?e.model:t.model,i=e?e.view:t.view,s=r.model,l=r.view,u=r.isType;s=s instanceof Ge.Kx||(0,L.isFunction)(s)?s:n.extend(s||{}),l=l instanceof Ge.Ss||(0,L.isFunction)(l)?l:i.extend(l||{}),this.extendViewApi&&!r.model&&!r.view&&(l=l.extend(r)),e?(e.model=s,e.view=l,e.isType=u||e.isType):(r.id=o,r.model=s,r.view=l,r.isType=u||function(f){if(f&&f.type==o)return!0},this.getTypes().unshift(r))}};const rx=uV;var fV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),dV=Ge.pM.extend(rx),nx=function(o){fV(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(dV);const Uh=nx;nx.prototype.types=[{id:"image",model:oV,view:cV,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var eg;(function(o){o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset"})(eg||(eg={}));const z0=eg;var pV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ox=function(o){pV(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e,t.config=e.config,t.pfx=t.config.stylePrefix||"",t.ppfx=t.config.pStylePrefix||"",t.em=t.config.em;var n=t.collection;return t.listenTo(n,"reset",t.renderAssets),t.listenTo(n,"add",t.addToAsset),t.listenTo(n,"remove",t.removedAsset),t.listenTo(n,"deselectAll",t.deselectAll),t}return r.prototype.template=function(e){var t=e.pfx,n=e.ppfx,i=e.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(t,`add-asset">
            <div class="`).concat(n,"field ").concat(t,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(t,`assets-cont">
      <div class="`).concat(t,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(t,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(e){e.preventDefault();var t=this.getAddInput(),n=t&&t.value.trim(),i=this.config.handleAdd;if(n){t.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},r.prototype.addAsset=function(e,t){t===void 0&&(t=null);var n=t,i=this.collection,s=this.config,l=new e.typeView({model:e,collection:i,config:s}).render().el;if(n)n.appendChild(l);else{var u=this.getAssetsEl();u&&u.insertBefore(l,u.firstChild)}return l},r.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var t=this.$el.find(".".concat(this.pfx,"assets"));if(e)t.empty();else{var n=this.config.noAssets;n&&t.append(n)}},r.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},r.prototype.renderAssets=function(){var e=this,t=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return e.addAsset(i,t)}),n.append(t)},r.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}(Ge.Ss);const hV=ox;ox.prototype.events={submit:"handleSubmit"};var vV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gV=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},mV=function(o){vV(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;t.options=e;var n=e.config||{};t.module=e.module,t.config=n,t.em=t.config.em,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.target=t.options.globalCollection||{},t.uploadId=t.pfx+"uploadFile",t.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,t.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var i=n.uploadFile;return i?t.uploadFile=i.bind(t):!n.upload&&n.embedAsBase64&&(t.uploadFile=r.embedAsBase64),t.delegateEvents(),t}return r.prototype.template=function(e){var t=e.pfx,n=e.title,i=e.uploadId,s=e.disabled,l=e.multiUpload;return Kn(W0||(W0=gV([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),t,n,i,s?"disabled":"",l?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var e=this.module;e==null||e.__propEv(e.events.uploadStart)},r.prototype.onUploadEnd=function(e){var t=this,n=t.$el,i=t.module;i==null||i.__propEv(i.events.uploadEnd,e);var s=n.find("input");s&&s.val("")},r.prototype.onUploadError=function(e){var t=this.module;console.error(e),this.onUploadEnd(e),t==null||t.__propEv(t.events.uploadError,e)},r.prototype.onUploadResponse=function(e,t){var n=this,i=n.module,s=n.config,l=n.target,u;try{u=typeof e=="string"?JSON.parse(e):e}catch{u=e}i==null||i.__propEv(i.events.uploadResponse,u),s.autoAdd&&l&&l.add(u.data,{at:0}),this.onUploadEnd(e),t==null||t(u)},r.prototype.uploadFile=function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s=this.config,l=s.beforeUpload,u=l&&l(i);if(u!==!1){var f=new FormData,d=s.params,v=s.customFetch,m=s.fetchOptions;for(var y in d)f.append(y,d[y]);if(this.multiUpload)for(var b=0;b<i.length;b++)f.append("".concat(s.uploadName).concat(s.multiUploadSuffix),i[b]);else i.length&&f.append(s.uploadName,i[0]);var w=s.upload,x=s.headers,O="X-Requested-With";if(typeof x[O]>"u"&&(x[O]="XMLHttpRequest"),w){this.onUploadStart();var M={method:"post",credentials:s.credentials||"include",headers:x,body:f},T=(m==null?void 0:m(M))||M,E=v?v(w,T):N2(w,T).then(function(U){return(U.status/200|0)==1?U.text():U.text().then(function(Z){return Promise.reject(Z)})});return E.then(function(U){return n.onUploadResponse(U,t)}).catch(function(U){return n.onUploadError(U)})}}},r.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var t=this.uploadForm;"draggable"in t&&(this.uploadForm.ondragover=function(){return t.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return t.className="",!1},this.uploadForm.ondrop=function(n){t.className="",n.preventDefault(),e.uploadFile(n)})}},r.prototype.initDropzone=function(e){var t=this,n=0,i=this.config,s=e.model,l=e.el,u=s.Editor,f=s.Canvas.getBody(),d=this.ppfx,v="".concat(d,"dropzone-active"),m="".concat(d,"dropzone"),y=function(){l.className=l.className.replace(v,"").trim(),n=0},b=function(){return n||(l.className+=" ".concat(v),n=1),!1},w=function(){return y(),!1},x=function(O){if(y(),O.preventDefault(),O.stopPropagation(),t.uploadFile(O),i.openAssetsOnDrop&&u){var M=u.getSelected();u.runCommand("open-assets",{target:M,onSelect:function(){u.Modal.close(),u.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(m,'">').concat(i.dropzoneContent,"</div>")),y(),"draggable"in l&&[l,f].forEach(function(O){O.ondragover=b,O.ondragleave=w,O.ondrop=x})},r.prototype.render=function(){var e=this,t=e.$el,n=e.pfx,i=e.em;return t.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),t.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(e,t){var n=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var l=[],u=/^(.+)\/(.+)$/,f=function(y){var b=new Promise(function(w,x){var O=new FileReader;O.addEventListener("load",function(M){var T,E=y.name,U=u.exec(y.type);if(U?T=U[1]:T=y.type,T==="image"){var Z={src:O.result,name:E,type:T,height:0,width:0},te=new Image;te.addEventListener("error",function(ee){x(ee)}),te.addEventListener("load",function(){Z.height=te.height,Z.width=te.width,w(Z)}),te.src=Z.src}else w(T?{src:O.result,name:E,type:T}:O.result)}),O.addEventListener("error",function(M){x(M)}),O.addEventListener("abort",function(M){x("Aborted")}),O.readAsDataURL(y)});l.push(b)},d=0,v=i;d<v.length;d++){var m=v[d];f(m)}return Promise.all(l).then(function(y){s.data=y,n.onUploadResponse(s,t)},function(y){n.onUploadError(y)})},r}(Ge.Ss);const yV=mV;var W0,_V=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ol=function(){return ol=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ol.apply(this,arguments)},q0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},gc="open-assets",bV=function(o){_V(r,o);function r(e){var t=o.call(this,e,"AssetManager",new Uh([],e),z0,eV())||this;t.storageKey="assets",t.Asset=Qv,t.Assets=Uh,t.events=z0;var n=t,i=n.all,s=n.config;t.assetsVis=new Uh([]);var l=s.pStylePrefix;return l&&(s.stylePrefix="".concat(l).concat(s.stylePrefix)),i.on("add",function(u){return t.getAllVisible().add(u)}),i.on("remove",function(u){return t.getAllVisible().remove(u)}),t.__onAllEvent=(0,L.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.open=function(e){e===void 0&&(e={});var t=this.em.Commands;t.run(gc,ol({types:["image"],select:function(){}},e))},r.prototype.close=function(){var e=this.em.Commands;e.stop(gc)},r.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(gc))},r.prototype.add=function(e,t){return t===void 0&&(t={}),typeof t.at>"u"&&(t.at=0),this.all.add(e,t)},r.prototype.get=function(e){return this.all.where({src:e})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){return this.loadProjectData(e)},r.prototype.getContainer=function(){var e,t=this.__getBehaviour();return t.container||((e=this.am)===null||e===void 0?void 0:e.el)},r.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},r.prototype.render=function(e){if(!this.getConfig().custom){var t=e||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new hV(ol({},n)),this.am.render()}return this.assetsVis.reset(t),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(e,t){this.getAll().addType(e,t)},r.prototype.getType=function(e){return this.getAll().getType(e)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new yV(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var t=this,n=t.em,i=t.events;n.Commands.__onRun(gc,function(){return e.__propEv(i.open)}),n.Commands.__onStop(gc,function(){return e.__propEv(i.close)})},r.prototype.postRender=function(e){var t;this.config.dropzone&&((t=this.fu)===null||t===void 0||t.initDropzone(e))},r.prototype.setTarget=function(e){this.assetsVis.target=e},r.prototype.onSelect=function(e){this.assetsVis.onSelect=e},r.prototype.onClick=function(e){this.config.onClick=e},r.prototype.onDblClick=function(e){this.config.onDblClick=e},r.prototype.__propEv=function(e){for(var t,n,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];(t=this.em).trigger.apply(t,q0([e],i,!1)),(n=this.getAll()).trigger.apply(n,q0([e],i,!1))},r.prototype.__trgCustom=function(){var e=this.__getBehaviour(),t=this.getConfig().custom;!e.container&&!t.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var e=this,t=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:t.types||[],container:t.container,close:function(){return e.close()},remove:function(n,i){return e.remove(n,i)},select:function(n,i){var s=e.add(n);(0,L.isFunction)(t.select)&&t.select(s,i)},options:t.options||{}}},r.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=ol(ol({},this._bhv||{}),e)},r.prototype.__getBehaviour=function(e){return this._bhv||{}},r.prototype.destroy=function(){var e,t;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(t=this.am)===null||t===void 0||t.remove(),this._bhv={}},r}(Vi);const wV=bV;var xV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),CV=function(o){xV(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e,t)||this,i=t.em,s={};n.em=i,e.frames||(s.component=e.component,s.styles=e.styles,["component","styles"].map(function(f){return n.unset(f)}));var l=e.frames||[s],u=new Jw(i.Canvas,l);return u.page=n,n.set("frames",u),!n.getId()&&n.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(u),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(e){return this.set({name:e})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.toJSON=function(e){e===void 0&&(e={});var t=Ge.Kx.prototype.toJSON.call(this,e),n=(0,L.result)(this,"defaults");return(0,L.forEach)(t,function(i,s){s.indexOf("_")===0&&delete t[s]}),(0,L.forEach)(n,function(i,s){t[s]===i&&delete t[s]}),t},r}(Ge.Kx);const tg=CV;var SV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Pd=function(){return Pd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Pd.apply(this,arguments)},OV=function(o){SV(r,o);function r(e,t){var n=o.call(this,e)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(i,s){return s===void 0&&(s={}),new tg(i,Pd(Pd({},s),{em:t}))},n}return r.prototype.onReset=function(e,t){var n=this,i;(i=t==null?void 0:t.previousModels)===null||i===void 0||i.map(function(s){return n.onRemove(s,n,t)})},r.prototype.onRemove=function(e,t,n){n===void 0&&(n={}),!n.fromUndo&&(e==null||e.onRemove())},r}(Ge.pM);const TV=OV;var EV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),PV=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},K0="change:selected",G0="main",kV=function(o){EV(r,o);function r(e){var t=o.call(this,e,"PageManager",new TV([],e),jv)||this;t.events=jv,t.storageKey="pages",(0,L.bindAll)(t,"_onPageChange");var n=new Ca.A(t,{_undo:!0});return t.model=n,t.pages.on("reset",function(i){return i.at(0)&&t.select(i.at(0))}),t.pages.on("all",t.__onChange,t),n.on(K0,t._onPageChange),t}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return PV([],this.all.models,!0)},r.prototype.__onChange=function(e,t,n,i){var s=this,l=s.em,u=s.events,f=i||n;l.trigger(u.all,{event:e,page:t,options:f})},r.prototype.onLoad=function(){var e,t=this,n=t.pages,i=t.config,s=t.em,l={silent:!0},u=((e=i.pages)===null||e===void 0?void 0:e.map(function(d){return new tg(d,{em:s,config:i})}))||[];n.add(u,l);var f=n.length?this._initPage():this.add({type:G0},l);f&&this.select(f,l)},r.prototype._onPageChange=function(e,t,n){var i=this,s=i.em,l=i.events,u=s.Layers,f=t.getMainComponent();u&&f&&u.setRoot(f),s.trigger(l.select,t,e.previous("selected")),this.__onChange(K0,t,n)},r.prototype.postLoad=function(){var e=this,t=e.em,n=e.model,i=e.pages,s=t.UndoManager;s.add(n),s.add(i),i.on("add remove reset change",function(l,u,f){return t.changesUp(f||u)})},r.prototype.add=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.em,l=i.events;e.id=e.id||this._createId();var u=function(){var f=n.pages.add(new tg(e,{em:n.em,config:n.config}),t);return t.select&&n.select(f),f};return!t.silent&&s.trigger(l.addBefore,e,u,t),t.abort?void 0:u()},r.prototype.remove=function(e,t){var n=this;t===void 0&&(t={});var i=this,s=i.em,l=i.events,u=(0,L.isString)(e)?this.get(e):e,f=function(){return u&&n.pages.remove(u,t),u};return!t.silent&&s.trigger(l.removeBefore,u,f,t),!t.abort&&f()},r.prototype.get=function(e){return this.pages.filter(function(t){return t.get(t.idAttribute)===e})[0]},r.prototype.getMain=function(){var e=this.pages;return e.filter(function(t){return t.get("type")===G0})[0]||e.at(0)},r.prototype.getAllWrappers=function(){var e=this.getAll();return(0,L.unique)((0,L.flatten)(e.map(function(t){return t.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.model,l=n.events,u=(0,L.isString)(e)?this.get(e):e;return u&&(i.trigger(l.selectBefore,u,t),s.set("selected",u,t)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(t){return e[t]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(e){var t=this.loadProjectData(e,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),t},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var e=this.getAll(),t=e.length+16,n=this.getAllMap(),i;do i=(0,Le.createId)(t);while(n[i]);return i},r}(Vi);const AV=kV;var zh={placeholder:"eg. Text here"};const MV={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:zh,alt:zh,title:zh,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var VV=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:MV},messagesAdd:void 0}};const IV=VV;var rg;(function(o){o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale"})(rg||(rg={}));const $V=rg;var DV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),LV=function(o){DV(r,o);function r(e){var t=o.call(this,e,"I18n",IV())||this;t.events=$V;var n=t.config.messagesAdd;return n&&t.addMessages(n),t.config.detectLocale&&(t.config.locale=t._localLang()),t}return r.prototype.setLocale=function(e){var t=this,n=t.em,i=t.config,s=t.events;return n.trigger(s.locale,{value:e,valuePrev:i.locale}),i.locale=e,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(e,t){t===void 0&&(t={});var n=this.config.messages;return e&&!n[e]&&this._debug("'".concat(e,"' i18n lang not found"),t),e?n[e]:n},r.prototype.setMessages=function(e){var t=this,n=t.em,i=t.config,s=t.events;return i.messages=e,n.trigger(s.update,e),this},r.prototype.addMessages=function(e){var t=this,n=t.em,i=t.events,s=t.config,l=s.messages;return n.trigger(i.add,e),this.setMessages((0,Le.deepMerge)(l,e)),this},r.prototype.t=function(e,t){t===void 0&&(t={});var n=this.config,i=t.params||{},s=t.l||this.getLocale(),l=t.lFlb||n.localeFallback,u=this._getMsg(e,s,t);return u||(u=this._getMsg(e,l,t)),!u&&this._debug("'".concat(e,"' i18n key not found in '").concat(s,"' lang"),t),u=u&&(0,L.isString)(u)?this._addParams(u,i):u,u},r.prototype._localLang=function(){var e=(0,Le.hasWin)()&&window.navigator||{},t=e.language||e.userLanguage;return t?t.split("-")[0]:"en"},r.prototype._addParams=function(e,t){var n=new RegExp("{([\\w\\d-]*)}","g");return e.replace(n,function(i,s){return t[s]||""}).trim()},r.prototype._getMsg=function(e,t,n){n===void 0&&(n={});var i=this.getMessages(t,n);if(i){var s=i[e];return!s&&e.indexOf(".")>0&&(s=e.split(".").reduce(function(l,u){if(!(0,L.isUndefined)(l))return l[u]},i)),s}},r.prototype._debug=function(e,t){t===void 0&&(t={});var n=this,i=n.em,s=n.config;(t.debug||s.debug)&&i&&i.logWarning(e)},r.prototype.destroy=function(){},r}(Xn);const jV=LV;var es=function(){return es=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},es.apply(this,arguments)},RV=function(o,r){r===void 0&&(r={});var e=r.prefix||"",t=document.createElement("i");return t.className=e+"resizer-h "+e+"resizer-h-"+o,t.setAttribute("data-"+e+"handler",o),t},NV=function(o,r){var e=window,t=o.getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,width:t.width,height:t.height}},FV=function(){function o(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=es({},this.defOpts),this.setOptions(r),(0,L.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(r,e){r===void 0&&(r={}),this.opts=es(es({},e?this.defOpts:this.opts),r),this.setup()},o.prototype.setup=function(){var r=this.opts,e=r.prefix||"",t=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(e,"resizer-c"),t.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(u){return i[u]=r[u]?RV(u,r):null});for(var s in i){var l=i[s];l&&n.appendChild(l)}this.handlers=i,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},o.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,L.each)(e,function(t){return t.style.pointerEvents=r?"none":""})}},o.prototype.isHandler=function(r){var e=this.handlers;for(var t in e)if(e[t]===r)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},o.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},o.prototype.getElementPos=function(r,e){e===void 0&&(e={});var t=this.posFetcher;return t?t(r,e):NV(r)},o.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,et.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,et.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(r){var e=r;if(e.button===0){e.preventDefault(),e.stopPropagation();var t=this.el,n=this.getParentEl(),i=this,s=this.opts||{},l=this.mousePosFetcher,u="data-"+s.prefix+"handler",f=this.getElementPos(t,{avoidFrameZoom:!0,avoidFrameOffset:!0}),d=this.getElementPos(n),v=e.target;this.handlerAttr=v.getAttribute(u),this.clickedHandler=v,this.startDim={t:f.top,l:f.left,w:f.width,h:f.height},this.rectDim={t:f.top,l:f.left,w:f.width,h:f.height},this.startPos=l?l(e):{x:e.clientX,y:e.clientY},this.parentDim={t:d.top,l:d.left,w:d.width,h:d.height};var m=this.getDocumentEl();this.docs=m,(0,et.on)(m,"pointermove",this.move),(0,et.on)(m,"keydown",this.handleKeyDown),(0,et.on)(m,"pointerup",this.stop),(0,L.isFunction)(this.onStart)&&this.onStart(e,{docs:m,config:s,el:t,resizer:i}),this.toggleFrames(!0),this.move(e)}},o.prototype.move=function(r){var e=r,t=this.onMove,n=this.mousePosFetcher,i=n?n(e):{x:e.clientX,y:e.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),t&&t(e)},o.prototype.stop=function(r){var e=this.el,t=this.opts,n=this.docs||this.getDocumentEl();(0,et.AU)(n,"pointermove",this.move),(0,et.AU)(n,"keydown",this.handleKeyDown),(0,et.AU)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,L.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:t,el:e,resizer:this}),delete this.docs},o.prototype.updateRect=function(r){var e=this.el,t=this,n=this.opts,i=this.rectDim,s=this.updateTarget,l=this.getSelectedHandler(),u=n.unitHeight,f=n.unitWidth,d=n.keyWidth,v=n.keyHeight;if((0,L.isFunction)(s))s(e,i,{store:r,selectedHandler:l,resizer:t,config:n});else{var m=e.style;m[d]=i.w+f,m[v]=i.h+u}this.updateContainer()},o.prototype.updateContainer=function(r){var e;r===void 0&&(r={});var t=this,n=t.opts,i=t.container,s=t.el,l=i.style;!n.avoidContainerUpdate&&s&&r.forceShow&&(l.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:i,resizer:this,opts:es(es({},n),r)})},o.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var e in r)if(r[e]===this.selectedHandler)return e}},o.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},o.prototype.handleMouseDown=function(r){var e=r.target;this.isHandler(e)?(this.selectedHandler=e,this.start(r)):e!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(r){var e,t=this.opts||{},n=t.step,i=this.startDim,s=t.minDim,l=t.maxDim,u=r.delta.x,f=r.delta.y,d=this.parentDim.w,v=this.parentDim.h,m=this.opts.unitWidth,y=this.opts.unitHeight,b=m==="%"?i.w/100*d:i.w,w=y==="%"?i.h/100*v:i.h,x={t:i.t,l:i.l,w:b,h:w};if(r){var O=r.handlerAttr;~O.indexOf("r")&&(e=m==="%"?(0,Le.normalizeFloat)((b+u*n)/d*100,.01):(0,Le.normalizeFloat)(b+u*n,n),e=Math.max(s,e),l&&(e=Math.min(l,e)),x.w=e),~O.indexOf("b")&&(e=y==="%"?(0,Le.normalizeFloat)((w+f*n)/v*100,.01):(0,Le.normalizeFloat)(w+f*n,n),e=Math.max(s,e),l&&(e=Math.min(l,e)),x.h=e),~O.indexOf("l")&&(e=m==="%"?(0,Le.normalizeFloat)((b-u*n)/d*100,.01):(0,Le.normalizeFloat)(b-u*n,n),e=Math.max(s,e),l&&(e=Math.min(l,e)),x.w=e),~O.indexOf("t")&&(e=y==="%"?(0,Le.normalizeFloat)((w-f*n)/v*100,.01):(0,Le.normalizeFloat)(w-f*n,n),e=Math.max(s,e),l&&(e=Math.min(l,e)),x.h=e);var M=t.ratioDefault?!r.keys.shift:r.keys.shift;if(O.indexOf("c")<0&&M){var T=i.w/i.h;x.w/x.h>T?x.h=Math.round(x.w/T):x.w=Math.round(x.h*T)}~O.indexOf("l")&&(x.l+=i.w-x.w),~O.indexOf("t")&&(x.t+=i.h-x.h);for(var E in x){var U=E;x[U]=parseInt("".concat(x[U]),10)}return x}},o}();const BV=FV;var co=function(){return co=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},co.apply(this,arguments)};function HV(o,r,e){for(var t={index:0,placement:"before"},n=0,i=0,s=0,l=0,u=0,f=0,d=0,v,m=0,y=o.length;m<y;m++){v=o[m];var b=v.top,w=v.left,x=v.height,O=v.width;if(s=w+O,d=b+x,u=w+O/2,f=b+x/2,!(i&&w>i||l&&f>=l||n&&s<n))if(t.index=m,!v.dir)e<d&&(l=d),r<u?(i=u,t.placement="before"):(n=u,t.placement="after");else if(e<f){t.placement="before";break}else t.placement="after"}return t}function Z0(o){var r=o.getBoundingClientRect();return{top:r.top+document.body.scrollTop,left:r.left+document.body.scrollLeft}}function Rg(o,r){return Le.matches.call(o,r)}function UV(o,r){var e=ng(o),t=ng(r),n=t.filter(function(u){return e.includes(u)}),i=n[0];if(!i)return o.model.index()-r.model.index();var s=t[t.indexOf(i)-1],l=e[e.indexOf(i)-1];return l.index()-s.index()}function ng(o){return o?[o].concat(ng(o.parent())):[]}function zV(o,r){if(o)for(var e=o.parentNode;e&&e.nodeType===1;){if(Rg(e,r))return e;e=e.parentNode}}function WV(o,r){if((0,et.ir)(o))return!1;var e=o.style||{},t=(0,Xr.default)(o),n=(0,Xr.default)(r);if(e.overflow&&e.overflow!=="visible")return!1;var i=t.css("float");return i&&i!=="none"||n.css("display")==="flex"&&n.css("flex-direction")!=="column"||!qV(e.position)?!1:KV(o)||GV(t)}function qV(o){switch(o){case"static":case"relative":case"":return!0;default:return!1}}function KV(o){var r=["TR","TBODY","THEAD","TFOOT"];return r.includes(o.tagName)}function GV(o){var r=o.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(r)}function ZV(o){var r={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:cs.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=co(co(co({},r),o),{containerContext:co(co({},r.containerContext),o.containerContext),positionOptions:co(co({},r.positionOptions),o.positionOptions),dragBehavior:co(co({},r.dragBehavior),o.dragBehavior),eventHandlers:co(co({},r.eventHandlers),o.eventHandlers)});return e}var ix=function(){function o(r){this.timeout=null,this.threshold=r}return o.prototype.updateArgs=function(r){this.lastArgs=r},o.prototype.execute=function(r){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&r(e.lastArgs),e.timeout=null},this.threshold))},o.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},o}(),og=function(){return og=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},og.apply(this,arguments)},XV=function(){function o(r){this.top=r.top,this.left=r.left,this.height=r.height,this.width=r.width,this.offsets=r.offsets,this.dir=r.dir}return o.prototype.calculateDimensionDifference=function(r){var e=r.top-this.top,t=r.left-this.left;return{topDifference:e,leftDifference:t}},o.prototype.adjustDimensions=function(r){return this.top+=r.topDifference,this.left+=r.leftDifference,this},o.prototype.determinePlacement=function(r,e){var t=this.left+this.width/2,n=this.top+this.height/2;return this.dir?e<n?"before":"after":r<t?"before":"after"},o.prototype.equals=function(r){return r?this.top===r.top&&this.left===r.left&&this.height===r.height&&this.width===r.width&&this.dir===r.dir&&JSON.stringify(this.offsets)===JSON.stringify(r.offsets):!1},o.prototype.clone=function(){return new o({top:this.top,left:this.left,height:this.height,width:this.width,offsets:og({},this.offsets),dir:this.dir})},o.prototype.getDropArea=function(r){var e=this.clone(),t=this.adjustDropDimension(this.width,this.left,r),n=t.newSize,i=t.newPosition;e.width=n,e.left=i;var s=this.adjustDropDimension(this.height,this.top,r),l=s.newSize,u=s.newPosition;return e.height=l,e.top=u,e},o.prototype.adjustDropDimension=function(r,e,t){var n=t.ratio,i=t.minUndroppableDimension,s=t.maxUndroppableDimension,l=r*(1-n)/2;l=Math.max(l,i),l=Math.min(l,s);var u=r-l*2,f=e+l;return{newSize:u,newPosition:f}},o.prototype.isWithinBounds=function(r,e){return r>=this.left&&r<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},o}();const YV=XV;var JV=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kd=function(){return kd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},kd.apply(this,arguments)},QV=function(o){JV(r,o);function r(e){var t=o.call(this)||this;return t.sourceNodes=[],t.containerOffset={top:0,left:0},t.moveThreshold=20,t.treeClass=e.treeClass,t.em=e.em,t.containerContext=e.containerContext,t.positionOptions=e.positionOptions,t.dragDirection=e.dragDirection,t.eventHandlers=e.eventHandlers,(0,L.bindAll)(t,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),t.restLastMoveData(),t.rateLimiter=new ix(t.moveThreshold),t}return r.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},r.prototype.bindDragEventHandlers=function(){(0,et.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,et.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,et.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},r.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},r.prototype.handleMove=function(e){var t,n,i,s,l,u;this.adjustForScroll();var f=this.lastMoveData.targetNode;(n=(t=this.eventHandlers).onMouseMove)===null||n===void 0||n.call(t,e);var d=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),v=d.mouseXRelative,m=d.mouseYRelative,y=this.getTargetNode(e),b=!(y!=null&&y.equals(f));if(b&&((s=(i=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(i,f,y)),!y){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(v,m),this.restLastMoveData();return}var w=this.getDropPosition(y,v,m),x=w.index,O=w.placement,M=w.placeholderDimensions,T=!M.equals(this.lastMoveData.placeholderDimensions)||O!==this.lastMoveData.placement;T&&((u=(l=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(l,M,O)),this.lastMoveData=kd(kd({},this.lastMoveData),{targetNode:y,mouseEvent:e,index:x,placement:O,placeholderDimensions:M}),this.triggerMoveEvent(v,m),this.triggerLegacyOnMoveCallback(e,x)},r.prototype.adjustForScroll=function(){var e,t,n=this.lastMoveData.targetNode;if(n!=null&&n.element){var i=this.getDim(n==null?void 0:n.element),s=(e=n.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(i);s&&n.adjustDimensions(s)}var l=this.lastMoveData.hoveredNode;if(l!=null&&l.element){var i=this.getDim(l==null?void 0:l.element),s=(t=l.nodeDimensions)===null||t===void 0?void 0:t.calculateDimensionDifference(i);s&&l.adjustDimensions(s)}},r.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},r.prototype.triggerLegacyOnMoveCallback=function(e,t){var n,i,s,l,u=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(s=(i=this.eventHandlers).legacyOnMoveClb)===null||s===void 0||s.call(i,{event:e,target:u,parent:(l=this.lastMoveData.targetNode)===null||l===void 0?void 0:l.model,index:t})},r.prototype.triggerMoveEvent=function(e,t){var n,i=this.lastMoveData,s=i.targetNode,l=i.placement,u=i.index,f=u?u+(l==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(s==null?void 0:s.element)||null,targetModel:(n=this.lastMoveData.targetNode)===null||n===void 0?void 0:n.model,sourceModel:this.sourceNodes[0].model,dims:(s==null?void 0:s.childrenDimensions)||[],pos:{index:f,indexEl:f,placement:l},x:e,y:t})},r.prototype.getDropPosition=function(e,t,n){var i,s=e.nodeDimensions,l=e.childrenDimensions,u=e.getChildren(),f=u&&u.length>0;s=s||this.getDim(e.element),e.nodeDimensions=s,l=l||this.getChildrenDim(e),e.childrenDimensions=l;var d=s.clone(),v=0,m="inside";return f&&(i=HV(l,t,n),v=i.index,m=i.placement,d=l[v].clone(),v=v+(m=="after"?1:0)),{index:v,placement:m,placeholderDimensions:d}},r.prototype.getTargetNode=function(e){var t;this.cacheContainerPosition(this.containerContext.container);var n=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),i=n.mouseXRelative,s=n.mouseYRelative,l=this.getMouseTargetElement(e),u=this.getFirstElementWithAModel(l);if(u){var f=(t=(0,Xr.default)(u))===null||t===void 0?void 0:t.data("model");if(f){var d=this.getOrCreateHoveredNode(f),v=this.getDropPosition(d,i,s).index,m=this.getValidParent(d,v,i,s);return this.getOrReuseTargetNode(m)}}},r.prototype.getOrCreateHoveredNode=function(e){var t=this.lastMoveData.hoveredNode,n=new this.treeClass(e),i=n.equals(t)?t:n;return this.lastMoveData.hoveredNode=i,i},r.prototype.getOrReuseTargetNode=function(e){var t=this.lastMoveData.targetNode;return e!=null&&e.equals(t)?t:e},r.prototype.getMouseTargetElement=function(e){var t=this.containerContext.customTarget,n=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),i=t?t({event:e}):n;return i},r.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},r.prototype.endDrag=function(){this.dropDragged()},r.prototype.cancelDrag=function(){var e,t,n=this.lastMoveData.targetNode;(t=(e=this.eventHandlers).onTargetChange)===null||t===void 0||t.call(e,n,void 0),this.finalizeMove()},r.prototype.finalizeMove=function(){var e,t,n,i;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(t=(e=this.eventHandlers).onEnd)===null||t===void 0||t.call(e),(i=(n=this.eventHandlers).legacyOnEnd)===null||i===void 0||i.call(n),this.restLastMoveData(),this.rateLimiter.clearTimeout()},r.prototype.dropDragged=function(){var e,t,n=this.lastMoveData,i=n.targetNode,s=n.index;(t=(e=this.eventHandlers).onDrop)===null||t===void 0||t.call(e,i,this.sourceNodes,s),this.finalizeMove()},r.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,t=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:t==null?void 0:t.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(n){return n.element}),srcModel:t==null?void 0:t.model,trg:e==null?void 0:e.element,trgModel:e==null?void 0:e.model,draggable:!0,droppable:!0},dst:e==null?void 0:e.element,srcEl:t==null?void 0:t.element})},r.prototype.getFirstElementWithAModel=function(e){for(var t=function(n){return(0,Xr.default)(n).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(t(e))return e;e=e.parentElement}return null},r.prototype.getValidParent=function(e,t,n,i){if(e){var s=this.lastMoveData.targetNode,l=e.equals(s);if(e.nodeDimensions=l?s.nodeDimensions:this.getDim(e.element),!e.isWithinDropBounds(n,i))return this.handleParentTraversal(e,n,i);var u=l&&t===this.lastMoveData.index;if(u)return s;var f=this.sourceNodes.some(function(d){return e.canMove(d,t)});return this.triggerDragValidation(f,e),f?e:this.handleParentTraversal(e,n,i)}},r.prototype.handleParentTraversal=function(e,t,n){var i=e.getParent();if(i){var s=this.getIndexInParent(i,e,e.nodeDimensions,t,n);return this.getValidParent(i,s,t,n)}},r.prototype.getIndexInParent=function(e,t,n,i,s){var l=e==null?void 0:e.indexOfChild(t);return n.dir=this.getDirection(t.element,e.element),l=l+(n.determinePlacement(i,s)=="after"?1:0),l},r.prototype.triggerDragValidation=function(e,t){var n=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:n==null?void 0:n.element,srcModel:n==null?void 0:n.model,trg:t.element,trgModel:t.model}),n},r.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,et.AU)(e,"dragstart",this.onDragStart),(0,et.AU)(e,"mousemove dragover",this.onMove),(0,et.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},r.prototype.getDirection=function(e,t){var n;return this.dragDirection===cs.A.Vertical?n=!0:this.dragDirection===cs.A.Horizontal?n=!1:n=WV(e,t),n},r.prototype.getChildrenDim=function(e){var t=this,n=[],i=e.element;if(!i)return[];var s=e.getChildren();return!s||s.length===0?[]:((0,L.each)(s,function(l,u){var f=l.element;if(f&&!(!(0,et.ir)(f)&&!Rg(f,t.containerContext.itemSel))){var d=t.getDim(f);d.dir=t.getDirection(f,i),n.push(d)}}),n)},r.prototype.getMousePositionRelativeToContainer=function(e,t){var n=t-this.containerOffset.top+this.containerContext.container.scrollTop,i=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var s=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:t},{noScroll:1});i=s.x,n=s.y}return{mouseXRelative:i,mouseYRelative:n}},r.prototype.cacheContainerPosition=function(e){var t=Z0(e),n=this.positionOptions.windowMargin?Math.abs(t.top):t.top,i=this.positionOptions.windowMargin?Math.abs(t.left):t.left;this.containerOffset={top:n,left:i}},r.prototype.getDim=function(e){var t=this.em,n=this.positionOptions.relative,i=this.positionOptions.windowMargin,s=t==null?void 0:t.Canvas,l=s?s.getElementOffsets(e):{},u,f,d,v;if(this.positionOptions.canvasRelative&&this.em){var m=s.getElementPos(e,{noScroll:1});u=m.top,f=m.left,d=m.height,v=m.width}else{var y=Z0(e);u=n?e.offsetTop:y.top-(i?-1:1)*this.containerOffset.top,f=n?e.offsetLeft:y.left-(i?-1:1)*this.containerOffset.left,d=e.offsetHeight,v=e.offsetWidth}return new YV({top:u,left:f,height:d,width:v,offsets:l})},r}(Ge.Ss),e4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),t4=function(o){e4(r,o);function r(e){var t=o.call(this)||this;return t.pfx=e.pfx||"",t.allowNesting=e.allowNesting||!1,t.container=e.container,t.setElement(e.el),t.offset={top:e.offset.top||0,left:e.offset.left||0},t.moveLimiter=new ix(100),t}return r.prototype.show=function(){this.el.style.display="block"},r.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},r.prototype.move=function(e,t){var n=this,i={elementDimension:e,placement:t};this.moveLimiter.updateArgs(i),this.moveLimiter.execute(function(s){var l=s.elementDimension,u=s.placement;n._move(l,u)})},r.prototype._move=function(e,t){var n=0,i="px",s=0,l=0,u="",f="";this.setOrientationForDimension(e);var d=e.top,v=e.left,m=e.height,y=e.width,b=e.dir,w=e.offsets;if(t==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var x=5,O=(w==null?void 0:w.paddingTop)||x,M=(w==null?void 0:w.paddingLeft)||x,T=(w==null?void 0:w.borderTopWidth)||0,E=(w==null?void 0:w.borderLeftWidth)||0,U=(w==null?void 0:w.borderRightWidth)||0,Z=E+U;s=d+O+T,l=v+M+E,u=Math.max(y-M*2-Z,1)+"px",f="auto"}else b?(u=y+i,f="auto",s=t==="before"?d-n:d+m-n,l=v):(u="auto",f=m-n*2+i,s=d+n,l=t==="before"?v-n:v+y-n,this.setOrientation("vertical"));this.updateStyles(s,l,u,f),this.adjustOffset()},r.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},r.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},r.prototype.updateStyles=function(e,t,n,i){this.el.style.top=e+"px",this.el.style.left=t+"px",n&&(this.el.style.width=n),i&&(this.el.style.height=i)},r.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},r}(Ge.Ss),il=function(){return il=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},il.apply(this,arguments)},r4=function(){function o(r){var e=ZV(r);(0,L.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=il(il({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=r.em,this.treeClass=r.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new QV({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return o.prototype.startSort=function(r){var e,t,n,i,s,l,u,f=this.getSourceNodes(r),d=f.sourceNodes,v=f.sourcesWithModel;this.sourceNodes=d,this.dropLocationDeterminer.startSort(d),this.bindDragEventHandlers(),(t=(e=this.eventHandlers).onStartSort)===null||t===void 0||t.call(e,this.sourceNodes,this.containerContext.container);var m=(n=this.sourceNodes[0])===null||n===void 0?void 0:n.model;(s=(i=this.eventHandlers).legacyOnStartSort)===null||s===void 0||s.call(i,{sorter:this,target:m,parent:m&&((l=m.parent)===null||l===void 0?void 0:l.call(m)),index:m&&((u=m.index)===null||u===void 0?void 0:u.call(m))}),this.em.trigger("sorter:drag:start",r[0],v[0])},o.prototype.validTarget=function(r,e,t){if(!r)return!1;var n=(0,Xr.default)(r).data("model");if(!n)return!1;var i=new this.treeClass(n),s=this.getSourceNodes(e).sourceNodes,l=s.some(function(u){return i.canMove(u,t)});return l},o.prototype.getSourceNodes=function(r){var e=this,t=r.filter(function(l){return!!l.dragSource||e.findValidSourceElement(l.element)}),n=t.map(function(l){var u;return{model:(u=(0,Xr.default)(l.element))===null||u===void 0?void 0:u.data("model"),content:l.dragSource}}),i=n.sort(function(l,u){return UV(l.model,u.model)}),s=i.map(function(l){return new e.treeClass(l.model,l.content)});return{sourceNodes:s,sourcesWithModel:n}},o.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},o.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},o.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},o.prototype.handlePlaceholderMove=function(r,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(r,e)},o.prototype.createPlaceholder=function(){return new t4({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},o.prototype.ensurePlaceholderElement=function(){var r=this.placeholder.el,e=this.containerContext.container;r.ownerDocument.contains(r)||e.append(this.placeholder.el)},o.prototype.updateOffset=function(){var r,e=((r=this.em)===null||r===void 0?void 0:r.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},o.prototype.findValidSourceElement=function(r){return r&&!Rg(r,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(r=zV(r,this.containerContext.itemSel)),r},o.prototype.bindDragEventHandlers=function(){(0,et.on)(this.containerContext.document,"keydown",this.rollback)},o.prototype.updatePlaceholderPosition=function(r,e){this.placeholder.move(r,e)},o.prototype.cleanupEventListeners=function(){(0,et.AU)(this.containerContext.document,"keydown",this.rollback)},o.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},o.prototype.rollback=function(r){(0,et.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";r.key===e&&this.cancelDrag()},o.prototype.triggerNullOnEndMove=function(r){var e,t,n,i,s,l=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,u={target:l,parent:l&&((t=l.parent)===null||t===void 0?void 0:t.call(l)),index:l&&((n=l.index)===null||n===void 0?void 0:n.call(l))};(s=(i=this.eventHandlers).legacyOnEndMove)===null||s===void 0||s.call(i,null,this,il(il({},u),{cancelled:r}))},o}();const ax=r4;var n4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),al=function(){return al=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},al.apply(this,arguments)},o4=Oo.F.Target,Wh={id:"sorter-target",type:o4},i4=function(o){n4(r,o);function r(e){var t=e.em,n=e.treeClass,i=e.containerContext,s=e.dragBehavior,l=e.positionOptions,u=l===void 0?{}:l,f=e.eventHandlers,d=f===void 0?{}:f,v=o.call(this,{em:t,treeClass:n,containerContext:i,positionOptions:u,dragBehavior:s,eventHandlers:al(al({},d),{onStartSort:function(m,y){var b;(b=d.onStartSort)===null||b===void 0||b.call(d,m,y),v.onStartSort()},onDrop:function(m,y,b){var w;(w=d.onDrop)===null||w===void 0||w.call(d,m,y,b),v.onDrop(m,y,b)},onTargetChange:function(m,y){var b;(b=d.onTargetChange)===null||b===void 0||b.call(d,m,y),v.onTargetChange(m,y)},onMouseMove:function(m){var y;(y=d.onMouseMove)===null||y===void 0||y.call(d,m),v.onMouseMove(m)}})})||this;return v.targetIsText=!1,v.onMouseMove=function(m){var y,b=v.targetIsText&&((y=v.sourceNodes)===null||y===void 0?void 0:y.some(function(w){return w.isTextable()}));b&&v.updateTextViewCursorPosition(m)},v.onDrop=function(m,y,b){var w=typeof b=="number"?b:-1;if(m&&y.length>0){var x=v.handleNodeAddition(m,y,w);x.length===0&&v.triggerNullOnEndMove(!1)}else v.triggerNullOnEndMove(!0);m==null||m.restNodeState(),v.placeholder.hide()},v.onTargetChange=function(m,y){var b;m==null||m.restNodeState();var w=v.em.Canvas;if(!y){v.placeholder.hide(),w.removeSpots(Wh);return}y==null||y.setSelectedParentState(),v.targetIsText=y.isTextNode();var x=v.targetIsText&&((b=v.sourceNodes)===null||b===void 0?void 0:b.some(function(E){return E.isTextable()}));x?(y.setContentEditable(!0),v.placeholder.hide()):v.placeholder.show();var O=Oo.F.Select,M=Oo.F.Hover,T=Oo.F.Spacing;[O,M,T].forEach(function(E){return w.removeSpots({type:E})}),w.addSpot(al(al({},Wh),{component:y.model}))},(0,L.bindAll)(v,"handleScrollEvent"),v}return r.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},r.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),o.prototype.bindDragEventHandlers.call(this)},r.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),o.prototype.cleanupEventListeners.call(this)},r.prototype.handleScrollEvent=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(e=t==null?void 0:t[0])===null||e===void 0?void 0:e.frame,s=this.em.Canvas.getCanvasView().frame===i;s&&this.recalculateTargetOnScroll()},r.prototype.handleNodeAddition=function(e,t,n){var i=this;return t.reduce(function(s,l){if(!e.canMove(l,n))return s;if(i.isPositionChanged(e,l,n)){var u=i.moveNode(e,l,n),f=u.index,d=u.addedNode;s.push(d),n=f}return n++,s},[])},r.prototype.isPositionChanged=function(e,t,n){var i=t.getParent(),s=i?i.indexOfChild(t):-1;(i==null?void 0:i.model.cid)===e.model.cid&&s<n&&n--;var l=(i==null?void 0:i.model.cid)===e.model.cid,u=s===n,f=this.targetIsText&&t.isTextable();return!(l&&u&&!f)},r.prototype.moveNode=function(e,t,n){var i=t.getParent();if(i){var s=i.indexOfChild(t);i.removeChildAt(s,{temporary:!0}),i.model.cid===e.model.cid&&s<n&&n--}var l=e.addChildAt(t,n,{action:"move-component"});return this.triggerEndMoveEvent(l),{addedNode:l,index:n}},r.prototype.triggerEndMoveEvent=function(e){var t,n,i,s,l,u;(n=(t=this.eventHandlers).legacyOnEndMove)===null||n===void 0||n.call(t,e.model,this,{target:e.model,parent:e.model&&((s=(i=e.model).parent)===null||s===void 0?void 0:s.call(i)),index:e.model&&((u=(l=e.model).index)===null||u===void 0?void 0:u.call(l))})},r.prototype.finalizeMove=function(){var e,t;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(Wh),(t=this.sourceNodes)===null||t===void 0||t.forEach(function(n){return n.restNodeState()}),this.setAutoCanvasScroll(!1),o.prototype.finalizeMove.call(this)},r.prototype.updateTextViewCursorPosition=function(e){var t=this.em;if(t){var n=t.Canvas,i=n.getDocument(),s=null,l=(0,et.G2)(e);if(i.caretPositionFromPoint){var u=i.caretPositionFromPoint(l.clientX,l.clientY);u&&(s=i.createRange(),s.setStart(u.offsetNode,u.offset))}else i.caretRangeFromPoint?s=i.caretRangeFromPoint(l.clientX,l.clientY):e.rangeParent&&(s=i.createRange(),s.setStart(e.rangeParent,e.rangeOffset));var f=n.getWindow().getSelection();n.getFrameEl().focus(),f==null||f.removeAllRanges(),s&&(f==null||f.addRange(s))}},r.prototype.setAutoCanvasScroll=function(e){var t=this.em,n=t==null?void 0:t.Canvas;n&&(e?n.startAutoscroll():n.stopAutoscroll())},r}(ax);const X0=i4;var a4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ad=function(){return Ad=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ad.apply(this,arguments)},s4=function(o){a4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},r.prototype.getValues=function(e){e===void 0&&(e={});var t=this.get("values");return e.camelCase?Object.keys(t).reduce(function(n,i){return n[(0,Le.camelCase)(i)]=t[i],n},{}):t},r.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},r.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},r.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},r.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},r.prototype.move=function(e){var t;return(t=this.prop)===null||t===void 0?void 0:t.moveLayer(this,e)},r.prototype.getStylePreview=function(e){var t;return e===void 0&&(e={}),(t=this.prop)===null||t===void 0?void 0:t.getStylePreview(this,e)},r.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},r.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",Ad(Ad({},this.getValues()),e))},r}(Ge.Kx);const Rc=s4;var l4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sx=function(o){l4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={}),this.prop=t.prop},r}(Ge.pM);const Nf=sx;sx.prototype.model=Rc;var c4=Ut(3161),u4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),f4=function(o){u4(r,o);function r(e){return o.call(this,e)||this}return r.prototype.getChildren=function(){return this.model instanceof Nf?this.model.models.map(function(e){return new r(e)}):null},r.prototype.getParent=function(){var e=this.model instanceof Rc?this.model.collection:null;return e?new r(e):null},r.prototype.addChildAt=function(e,t){if(this.model instanceof Rc)throw Error("Cannot add a layer model to another layer model");var n=this.model.add(e.model,{at:t});return new r(n)},r.prototype.removeChildAt=function(e){if(this.model instanceof Rc)throw Error("Cannot remove a layer model from another layer model");var t=this.model.at(e);t&&this.model.remove(t)},r.prototype.indexOfChild=function(e){return!(e.model instanceof Rc)||!(this.model instanceof Nf)?-1:this.model.indexOf(e.model)},r.prototype.canMove=function(e,t){return this.model instanceof Nf&&!!e.model},Object.defineProperty(r.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),r}(c4.$),d4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ig=function(){return ig=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ig.apply(this,arguments)},p4=function(o){d4(r,o);function r(e){var t=e.em,n=e.containerContext,i=e.dragBehavior,s=e.positionOptions,l=s===void 0?{}:s,u=e.eventHandlers,f=u===void 0?{}:u,d=o.call(this,{em:t,treeClass:f4,containerContext:n,positionOptions:l,dragBehavior:i,eventHandlers:ig({onStartSort:function(v,m){var y;(y=f.onStartSort)===null||y===void 0||y.call(f,v,m),d.onLayerStartSort(v)},onDrop:function(v,m,y){var b;(b=f.onDrop)===null||b===void 0||b.call(f,v,m,y),d.onLayerDrop(v,m,y)},onEnd:function(){d.placeholder.hide()}},f)})||this;return d.onLayerStartSort=function(v){d.em.clearSelection();var m=v[0];d.em.trigger("sorter:drag:start",m==null?void 0:m.element,m==null?void 0:m.model),d.placeholder.show()},d.onLayerDrop=function(v,m,y){if(v){y=typeof y=="number"?y:-1;for(var b=0;b<m.length;b++){var w=m[b];if(v.canMove(w,b)){var x=w.getParent(),O=-1;x&&(O=x.indexOfChild(w),x.removeChildAt(O)),y=O<y?y-1:y,v.addChildAt(w,y)}}d.placeholder.hide()}},d}return r}(ax);const h4=p4;var v4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ag=function(){return ag=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ag.apply(this,arguments)},g4=function(o){v4(r,o);function r(e){var t=o.call(this,e,"Utils")||this;return t.Sorter=X0,t.Resizer=BV,t.Dragger=g2.A,t.ComponentSorter=X0,t.StyleManagerSorter=h4,t.helpers=ag({},Le),t}return r.prototype.destroy=function(){},r}(Xn);const m4=g4;var Gn,ho={},An={16:!1,18:!1,17:!1,91:!1},lx="all",fs={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},cx={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Ng=function(o){return cx[o]||o.toUpperCase().charCodeAt(0)},ml=[];for(Gn=1;Gn<20;Gn++)cx["f"+Gn]=111+Gn;function Jc(o,r){for(var e=o.length;e--;)if(o[e]===r)return e;return-1}function y4(o,r){if(o.length!=r.length)return!1;for(var e=0;e<o.length;e++)if(o[e]!==r[e])return!1;return!0}var _4={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function b4(o){for(Gn in An)An[Gn]=o[_4[Gn]]}function w4(o){var r,e,t,n,i,s;if(r=o.keyCode,Jc(ml,r)==-1&&ml.push(r),(r==93||r==224)&&(r=91),r in An){An[r]=!0;for(t in fs)fs[t]==r&&(Vn[t]=!0);return}if(b4(o),!!Vn.filter.call(this,o)&&r in ho){for(s=Fg(),n=0;n<ho[r].length;n++)if(e=ho[r][n],e.scope==s||e.scope=="all"){i=e.mods.length>0;for(t in An)(!An[t]&&Jc(e.mods,+t)>-1||An[t]&&Jc(e.mods,+t)==-1)&&(i=!1);(e.mods.length==0&&!An[16]&&!An[18]&&!An[17]&&!An[91]||i)&&e.method(o,e)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function x4(o){var r=o.keyCode,e,t=Jc(ml,r);if(t>=0&&ml.splice(t,1),(r==93||r==224)&&(r=91),r in An){An[r]=!1;for(e in fs)fs[e]==r&&(Vn[e]=!1)}}function C4(){for(Gn in An)An[Gn]=!1;for(Gn in fs)Vn[Gn]=!1}function Vn(o,r,e){var t,n;t=ux(o),e===void 0&&(e=r,r="all");for(var i=0;i<t.length;i++)n=[],o=t[i].split("+"),o.length>1&&(n=fx(o),o=[o[o.length-1]]),o=o[0],o=Ng(o),o in ho||(ho[o]=[]),ho[o].push({shortcut:t[i],scope:r,method:e,key:t[i],mods:n})}function S4(o,r){var e,t,n=[],i,s,l;for(e=ux(o),s=0;s<e.length;s++){if(t=e[s].split("+"),t.length>1&&(n=fx(t)),o=t[t.length-1],o=Ng(o),r===void 0&&(r=Fg()),!ho[o])return;for(i=0;i<ho[o].length;i++)l=ho[o][i],l.scope===r&&y4(l.mods,n)&&(ho[o][i]={})}}function O4(o){return typeof o=="string"&&(o=Ng(o)),Jc(ml,o)!=-1}function T4(){return ml.slice(0)}function E4(o){var r=(o.target||o.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(Gn in fs)Vn[Gn]=!1;function P4(o){lx=o||"all"}function Fg(){return lx||"all"}function k4(o){var r,e,t;for(r in ho)for(e=ho[r],t=0;t<e.length;)e[t].scope===o?e.splice(t,1):t++}function ux(o){var r;return o=o.replace(/\s/g,""),r=o.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function fx(o){for(var r=o.slice(0,o.length-1),e=0;e<r.length;e++)r[e]=fs[r[e]];return r}function qh(o,r,e){o.addEventListener?o.addEventListener(r,e,!1):o.attachEvent&&o.attachEvent("on"+r,function(){e(window.event)})}Vn.setScope=P4;Vn.getScope=Fg;Vn.deleteScope=k4;Vn.filter=E4;Vn.isPressed=O4;Vn.getPressedKeyCodes=T4;Vn.unbind=S4;Vn.handlers=ho;Vn.init=function(o){qh(o.document,"keydown",function(r){w4(r)}),qh(o.document,"keyup",x4),qh(o,"focus",C4)};const Nc=Vn;var A4=function(){return{defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const M4=A4;var V4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Y0=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))};(0,Le.hasWin)()&&Nc.init(window);var I4=function(o){V4(r,o);function r(e){var t=o.call(this,e,"Keymaps",M4())||this;return t.keymaster=Nc,t.keymaps={},t}return r.prototype.onLoad=function(){var e=this.config.defaults;for(var t in e){var n=e[t];this.add(t,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(e,t,n,i){i===void 0&&(i={});var s=this.em,l=s.Commands,u=s.getEditor(),f=s.Canvas,d={id:e,keys:t,handler:n},v=this.keymaps[e];return v&&this.remove(e),this.keymaps[e]=d,Nc(t,function(m,y){var b={event:m,h:y},w=(0,L.isString)(n)?l.get(n):n,x=!s.isEditing()&&!u.Canvas.isInputFocused();if(x||i.force){i.prevent&&f.getCanvasView().preventDefault(m),(0,L.isFunction)(w)?w(u,0,b):l.runCommand(w,b);var O=[e,y.shortcut,m];s.trigger.apply(s,Y0(["keymap:emit"],O,!1)),s.trigger.apply(s,Y0(["keymap:emit:".concat(e)],O,!1))}},void 0),s.trigger("keymap:add",d),d},r.prototype.get=function(e){return this.keymaps[e]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(e){var t=this.em,n=this.get(e);if(n)return delete this.keymaps[e],n.keys.split(", ").forEach(function(i){Nc.unbind(i.trim())}),t==null||t.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(t){return e.remove(t)}),Nc.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(Xn);const $4=I4;var D4=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const L4=D4;var j4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),R4=function(o){j4(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(Ca.A);const N4=R4;var F4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Md=function(){return Md=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Md.apply(this,arguments)},B4=function(o){F4(r,o);function r(e){var t=o.call(this,e)||this,n=t.model;return t.listenTo(n,"change:open",t.updateOpen),t.listenTo(n,"change:title",t.updateTitle),t.listenTo(n,"change:content",t.updateContent),t}return r.prototype.template=function(e){var t=e.pfx,n=e.ppfx,i=e.content,s=e.title;return'<div class="'.concat(t,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(t,`header">
        <div class="`).concat(t,'title">').concat(s,`</div>
        <div class="`).concat(t,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(t,`content">
        <div id="`).concat(t,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(t,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(e){var t=this.config.backdrop;t&&e.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},r.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var e=this.getContent(),t=e.children(),n=this.getCollector(),i=this.model.get("content");t.length&&n.append(t),e.empty().append(i)},r.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(e){var t=this,n=t.pfx,i=t.$el,s=t.el,l=[].slice.call(s.attributes).map(function(u){return u.name});i.removeAttr(l.join(" ")),i.attr(Md(Md({},e||{}),{class:"".concat(n,"container ").concat(e&&e.class||"").trim()}))},r.prototype.render=function(){var e=this.$el,t=this.model.toJSON();return t.pfx=this.pfx,t.ppfx=this.ppfx,e.html(this.template(t)),this.updateAttr(),this.updateOpen(),this},r}(To);const H4=B4;var U4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),z4=function(o){U4(r,o);function r(e){var t=o.call(this,e,"Modal",L4())||this;return t.model=new N4(t),t.model.on("change:open",function(n,i){e.trigger("modal:".concat(i?"open":"close"))}),t.model.on("change",(0,L.debounce)(function(){var n=t._evData(),i=t.config.custom;(0,L.isFunction)(i)&&i(n),e.trigger("modal",n)},0)),t}return r.prototype._evData=function(){var e=this,t=this.getTitle(),n=this.getContent(),i=this.model.attributes,s=i.open,l=i.attributes;return{open:s,attributes:l,title:(0,L.isString)(t)?(0,et.GZ)(t):t,content:(0,L.isString)(n)?(0,et.GZ)(n):n.get?n.get(0):n,close:function(){e.close()}}},r.prototype.postRender=function(e){var t=e.model.config.el||e.el,n=this.render();n&&(t==null||t.appendChild(n))},r.prototype.open=function(e){e===void 0&&(e={});var t=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",t),this.model.open(),this.modal&&this.modal.updateAttr(t),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},r.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(e){return this.model.set("title",e),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var e;if(!this.config.custom){var t=H4.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new t({el:n,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},r.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},r}(Xn);const W4=z4;var J0="sw-visibility",Q0="export-template",e1="open-sm",t1="open-tm",r1="open-layers",n1="open-blocks",Kh="fullscreen",Gh="preview",q4=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:J0,className:"fa fa-square-o",command:"core:component-outline",context:J0,attributes:{title:"View components"}},{id:Gh,className:"fa fa-eye",command:Gh,context:Gh,attributes:{title:"Preview"}},{id:Kh,className:"fa fa-arrows-alt",command:Kh,context:Kh,attributes:{title:"Fullscreen"}},{id:Q0,className:"fa fa-code",command:Q0,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:e1,className:"fa fa-paint-brush",command:e1,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:t1,className:"fa fa-cog",command:t1,togglable:!1,attributes:{title:"Settings"}},{id:r1,className:"fa fa-bars",command:r1,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:n1,className:"fa fa-th-large",command:n1,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const K4=q4;var G4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Z4=function(o){G4(r,o);function r(e,t){var n=o.call(this,e,t)||this;return n.get("buttons").length&&n.set("buttons",new hx(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(Ca.A);const dx=Z4;var X4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),px=function(o){X4(r,o);function r(e,t){return o.call(this,e,t,dx)||this}return r.prototype.deactivateAllExceptOne=function(e,t){this.forEach(function(n,i){n!==e&&(n.set("active",!1),t&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(e,t))})},r.prototype.deactivateAll=function(e,t){var n=e||"";this.forEach(function(i){i.get("context")==n&&i!==t&&i.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(e){var t=e||"";this.forEach(function(n,i){n.get("context")==t&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(e,t){this.forEach(function(n,i){n!==e&&(n.set("disable",!0),t&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(e,t))})},r}(fp);const hx=px;px.prototype.model=dx;var Y4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),J4=function(o){Y4(r,o);function r(e,t){var n=o.call(this,e,t)||this,i=n.get("buttons")||[];return n.buttons=new hx(e,i),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),r}(Ca.A);const vx=J4;var Q4=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gx=function(o){Q4(r,o);function r(e,t){return o.call(this,e,t,vx)||this}return r}(fp);const e7=gx;gx.prototype.model=vx;var t7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sl=function(){return sl=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sl.apply(this,arguments)},r7=function(o){t7(r,o);function r(e){var t=o.call(this,e)||this,n=t,i=n.model,s=n.em,l=n.pfx,u=n.ppfx,f=i.className,d=i.attributes,v=d.command,m=d.listen;if(t.id=l+i.get("id"),t.activeCls="".concat(l,"active ").concat(u,"four-color"),t.disableCls="".concat(u,"disabled"),t.btnsVisCls="".concat(l,"visible"),t.className=l+"btn"+(f?" "+f:""),t.listenTo(i,"change",t.render),t.listenTo(i,"change:active updateActive",t.updateActive),t.listenTo(i,"checkActive",t.checkActive),t.listenTo(i,"change:bntsVis",t.updateBtnsVis),t.listenTo(i,"change:attributes",t.updateAttributes),t.listenTo(i,"change:className",t.updateClassName),t.listenTo(i,"change:disable",t.updateDisable),s&&(0,L.isString)(v)&&m){var y={fromListen:!0};t.listenTo(s,"run:".concat(v),function(){return i.set("active",!0,y)}),t.listenTo(s,"stop:".concat(v),function(){return i.set("active",!1,y)})}return s&&s.get&&(t.commands=s.get("Commands")),t}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var e=this,t=e.model,n=e.pfx,i=t.className,s=t.get("attributes").class,l="".concat(s||""," ").concat(n,"btn ").concat(i||"");this.$el.attr("class",l.trim())},r.prototype.updateAttributes=function(){var e=this,t=e.em,n=e.model,i=e.$el,s=n.get("attributes")||{},l=t&&t.t&&t.t("panels.buttons.titles.".concat(n.id));i.attr(s),l&&i.attr({title:l}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(e,t,n){var i;n===void 0&&(n={});var s=this,l=s.model,u=s.commands,f=s.$el,d=s.activeCls,v=n.fromCollection,m=n.fromListen,y=l.get("context"),b=l.get("options"),w=l.command,x={};w&&(u&&(0,L.isString)(w)?x=u.get(w)||{}:(0,L.isFunction)(w)?x=u.create({run:w}):w!==null&&(0,L.isObject)(w)&&(x=u.create(w)),l.active?(!v&&((i=l.collection)===null||i===void 0||i.deactivateAll(y,l)),l.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&u.runCommand(x,sl(sl({},b),{sender:l})),x.noStop&&l.set("active",!1)):(f.removeClass(d),!m&&u.stopCommand(x,sl(sl({},b),{sender:l,force:1}))))},r.prototype.updateDisable=function(){var e=this,t=e.disableCls,n=e.model,i=n.disable;this.$el[i?"addClass":"removeClass"](t)},r.prototype.checkActive=function(){var e=this,t=e.model,n=e.$el,i=e.activeCls;t.active?n.addClass(i):n.removeClass(i)},r.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},r.prototype.toggleActive=function(){var e=this,t=e.model,n=e.em,i=t.active,s=t.togglable;i&&!s||(t.active=!i,i?t.runDefaultCommand&&n.runDefault():t.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var e=this.model,t=e.get("label"),n=this.$el;return!e.get("el")&&n.empty(),this.updateAttributes(),t&&n.append(t),this.checkActive(),this.updateDisable(),this},r}(To);const n7=r7;var o7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),i7=function(o){o7(r,o);function r(e){var t=o.call(this,{collection:e})||this;return t.listenTo(t.collection,"add",t.addTo),t.listenTo(t.collection,"reset remove",t.render),t.className=t.pfx+"buttons",t}return r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var n=t||null,i=e.get("el"),s=new n7({el:i,model:e}),l=s.render().el;return n?n.appendChild(l):this.$el.append(l),l},r.prototype.render=function(){var e=this,t=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return e.addToCollection(n,t)}),this.$el.append(t),this.$el.attr("class",(0,L.result)(this,"className")),this},r}(To);const a7=i7;var s7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),sg=function(){return sg=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sg.apply(this,arguments)},l7=function(o){s7(r,o);function r(e){var t=o.call(this,{model:e,el:e.get("el")})||this;return t.className=t.pfx+"panel",t.id=t.pfx+e.get("id"),t.listenTo(e,"change:appendContent",t.appendContent),t.listenTo(e,"change:content",t.updateContent),t.listenTo(e,"change:visible",t.toggleVisible),e.view=t,t}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var e=this.em,t=e==null?void 0:e.Editor,n=this.model.get("resizable");if(t&&n){var i=n===!0?[!0,!0,!0,!0]:n,s=i.length,l=void 0,u=void 0,f=void 0,d=!1;if(s==2){var v=i;l=v[0],f=v[0],u=v[1],d=v[1]}else if(s==4){var v=i;l=v[0],u=v[1],f=v[2],d=v[3]}var m=new t.Utils.Resizer(sg({tc:l,cr:u,bc:f,cl:d,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:t.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(y,b){var w=b.target,x=y.style,O=m.getConfig(),M=O.keyWidth,T=O.keyHeight,E=y.getBoundingClientRect(),U=w=="container",Z=x[M],te=x[T],ee=Z&&!U?parseFloat(Z):E.width,G=te&&!U?parseFloat(te):E.height;return{left:0,top:0,width:ee,height:G}}},n&&typeof n!="boolean"?n:{}));m.blur=function(){},m.focus(this.el)}},r.prototype.render=function(){var e=this.model.buttons,t=this.$el,n=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(t.addClass(i),this.toggleVisible(),e.length){var s=new a7(e);t.append(s.render().el)}return t.append(this.model.get("content")),this},r}(To);const c7=l7;var u7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),f7=function(o){u7(r,o);function r(e){var t=o.call(this,{collection:e})||this;return t.listenTo(e,"add",t.addTo),t.listenTo(e,"reset",t.render),t.listenTo(e,"remove",t.onRemove),t.className=t.pfx+"panels",t}return r.prototype.onRemove=function(e){var t=e.view;t&&t.remove()},r.prototype.addTo=function(e){this.addToCollection(e)},r.prototype.addToCollection=function(e,t){var n=t||null,i=e.get("el"),s=new c7(e),l=s.render().el,u=e.get("appendTo");if(!i)if(u){var f=document.querySelector(u);f==null||f.appendChild(l)}else n?n.appendChild(l):this.$el.append(l);return s.initResize(),l},r.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.each(function(i){return e.addToCollection(i,n)}),t.append(n),t.attr("class",this.className),this},r}(To);const d7=f7;var p7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),h7=function(o){p7(r,o);function r(e){var t=o.call(this,e,"Panels",K4())||this;return t.panels=new e7(t,t.config.defaults),t}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},r.prototype.addPanel=function(e){return this.panels.add(e)},r.prototype.removePanel=function(e){return this.panels.remove(e)},r.prototype.getPanel=function(e){var t=this.panels.where({id:e});return t.length?t[0]:null},r.prototype.addButton=function(e,t){var n=this.getPanel(e);return n?n.buttons.add(t):null},r.prototype.removeButton=function(e,t){var n=this.getPanel(e);return n&&n.buttons.remove(t)},r.prototype.getButton=function(e,t){var n=this.getPanel(e);if(n){var i=n.buttons.where({id:t});return i.length?i[0]:null}return null},r.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new d7(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("active")&&t.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(t){t.get("disable")&&t.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(Xn);const v7=h7;var g7=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const m7=g7;var y7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_7=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},b7=function(o){y7(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(e,t){t===void 0&&(t={});var n=t.em,i=_7(t,["em"]),s=i;if(t.cleanId&&n){var l=n.Css.getAll(),u=l.toJSON().map(function(f){var d=f.selectors,v=d&&d.length===1&&d.models[0];return v&&v.isId()&&v.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(f,d){var v=d.id;return v&&v[0]==="i"&&!f.get("script")&&!f.get("script-export")&&!f.get("attributes").id&&u.indexOf(v)<0&&delete d.id,d})}return e.toHTML(s)},r}(Ge.Kx);const w7=b7;var x7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),C7=function(o){x7(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(e){var t=this,n=e.toJSON();return this.beforeEach(n),(0,L.each)(n,function(i,s){var l=n[s];if(l instanceof Ge.Kx)n[s]=t.build(l);else if(l instanceof Ge.pM){var u=l;n[s]=[],u.length&&u.forEach(function(f,d){n[s][d]=t.build(f)})}}),n},r.prototype.beforeEach=function(e){delete e.status},r}(Ge.Kx);const S7=C7;var O7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();function T7(o){var r,e=((r=o.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var E7=function(o){O7(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.mapModel=function(e){var t,n=this,i="",s=e.get("script-export")||e.get("script"),l=e.get("type"),u=e.get("components"),f=e.getId();if(s){var d=e.get("attributes");d=(0,L.extend)({},d,{id:f}),e.set("attributes",d,{silent:!0});var v=e.getScriptString(s),m=e.get("script-props");if(e.get("scriptUpdated")&&!m)this.mapJs[l+"-"+f]={ids:[f],code:v};else{var y=void 0,b=this.mapJs[l];if(m&&(y=e.__getScriptProps()),b)b.ids.push(f),y&&(b.props[f]=y);else{var w={ids:[f],code:v};y&&(w.props=(t={},t[f]=y,t)),this.mapJs[l]=w}}}return u.forEach(function(x){i+=n.mapModel(x)}),i},r.prototype.build=function(e){this.mapJs={},this.mapModel(e);var t="";for(var n in this.mapJs){var i=this.mapJs[n];if(i.code)if(i.props){if(T7(i.code))continue;t+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+i.ids.join(", #");t+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return t},r}(Ge.Kx);const P7=E7;var k7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),lg=function(){return lg=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},lg.apply(this,arguments)},Qc;(0,Le.hasWin)()&&(Qc=Ut(4408),Ut(8253),Ut(7389),Ut(3640));var mx=function(o){k7(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(e){return(0,L.bindAll)(this,"onChange"),this.editor=Qc.fromTextArea(e,lg({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(e){return this.element=e,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},r.prototype.setContent=function(e,t){var n=this;t===void 0&&(t={});var i=this.editor;if(i){i.setValue(e);var s=this.get("autoFormat"),l=i.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));l&&(Qc.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),Qc.commands.goDocStart(i)),!t.noRefresh&&setTimeout(function(){return n.refresh()})}},r}(Ge.Kx);const A7=mx;mx.prototype.CodeMirror=Qc;var M7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),V7=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},I7=function(o){M7(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(e){var t=e.pfx,n=e.codeName,i=e.label;return Kn(o1||(o1=V7([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),t,t,n,t,i,t)},r.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var e,t,n=this,i=n.model,s=n.pfx,l=n.$el,u=i.toJSON(),f=i.get("input")||((t=(e=i).getElement)===null||t===void 0?void 0:t.call(e));return u.pfx=s,l.html(this.template(u)),l.attr("class","".concat(s,"editor-c")),l.find("#".concat(s,"code")).append(f),this},r}(Ge.Ss);const $7=I7;var o1,D7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Vd=function(){return Vd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Vd.apply(this,arguments)},L7="CodeMirror",j7=function(o){D7(r,o);function r(e){var t=o.call(this,e,"CodeManager",m7())||this;t.EditorView=$7;var n=t.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),t.generators={},t.viewers={},t.defGenerators={html:new w7,css:new $A,json:new S7,js:new P7},t.defViewers={CodeMirror:new A7},t.loadDefaultGenerators().loadDefaultViewers(),t}return r.prototype.addGenerator=function(e,t){return this.generators[e]=t,this},r.prototype.getGenerator=function(e){return this.generators[e]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(e,t){return this.viewers[e]=t,this},r.prototype.getViewer=function(e){return this.viewers[e]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(e){e===void 0&&(e={});var t=(0,L.isUndefined)(e.type)?L7:e.type,n=this.getViewer(t)&&this.getViewer(t).clone(),i=document.createElement("div"),s=document.createElement("textarea");return i.appendChild(s),n.set(Vd(Vd({},this.config.optsCodeViewer),e)),n.init(s),n.setElement(i),n},r.prototype.updateViewer=function(e,t){e.setContent(t)},r.prototype.getCode=function(e,t,n){n===void 0&&(n={}),n.em=this.em;var i=this.getGenerator(t);return i?i.build(e,n):""},r.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},r.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},r.prototype.destroy=function(){},r}(Xn);const R7=j7;var N7=Ut(4729),F7=Ut.n(N7),B7=function(){return{maximumStackLength:500,trackSelection:!0}};const H7=B7;var So;(function(o){o.update="update",o.undo="undo",o.redo="redo",o.load="load",o.projectLoad="project:load",o.log="log",o.telemetryInit="telemetry:init",o.destroy="destroy",o.destroyed="destroyed"})(So||(So={}));var U7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ei=function(){return Ei=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ei.apply(this,arguments)},z7=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},cf=function(o){return o.avoidStore||o.noUndo||o.partial},i1=function(o){return Object.keys(o.changedAttributes())},uf=new WeakMap,W7=function(o){U7(r,o);function r(e){var t=o.call(this,e,"UndoManager",H7())||this;t.config._disable&&(t.config.maximumStackLength=0);var n=!0;return t.um=new(F7())(Ei({track:!0,register:[]},t.config)),t.um.changeUndoType("change",{condition:function(i){var s=i.get("_undo");if(s){var l=i.get("_undoexc");if((0,L.isArray)(l)&&i1(i).some(function(u){return l.indexOf(u)>=0}))return!1;if((0,L.isBoolean)(s)||(0,L.isArray)(s)&&i1(i).some(function(u){return s.indexOf(u)>=0}))return!0}return!1},on:function(i,s,l){var u=uf.get(i);u||(u=i.previousAttributes(),uf.set(i,u));var f=l||s||{};if(f.noUndo&&setTimeout(function(){uf.delete(i)}),!cf(f)){var d=i.toJSON({fromUndo:n}),v={object:i,before:u,after:d};return uf.delete(i),(0,L.isEmpty)(d)?void 0:v}}}),t.um.changeUndoType("add",{on:function(i,s,l){if(l===void 0&&(l={}),!(cf(l)||!t.isRegistered(s)))return{object:s,before:void 0,after:i,options:Ei(Ei({},l),{fromUndo:n})}}}),t.um.changeUndoType("remove",{on:function(i,s,l){if(l===void 0&&(l={}),!(cf(l)||!t.isRegistered(s)))return{object:s,before:i,after:void 0,options:Ei(Ei({},l),{fromUndo:n})}}}),t.um.changeUndoType("reset",{undo:function(i,s){i.reset(s,{fromUndo:n})},redo:function(i,s,l){i.reset(l,{fromUndo:n})},on:function(i,s){if(s===void 0&&(s={}),!(cf(s)||!t.isRegistered(i)))return{object:i,before:s.previousModels,after:z7([],i.models,!0),options:Ei(Ei({},s),{fromUndo:n})}}}),t.um.on("undo redo",function(){e.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),[So.undo,So.redo].forEach(function(i){return t.um.on(i,function(){return e.trigger(i)})}),t}return r.prototype.postLoad=function(){var e=this,t=e.config,n=e.em;t.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(e){return this.um.register(e),this},r.prototype.remove=function(e){return this.um.unregister(e),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,i=t.um;return!n.isEditing()&&i.undo(e),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(e){e===void 0&&(e=!0);var t=this,n=t.em,i=t.um;return!n.isEditing()&&i.redo(e),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var e=[],t=[];return this.getStack().forEach(function(n){var i=n.get("magicFusionIndex");t.indexOf(i)<0&&(t.push(i),e.push(n))}),e},r.prototype.skip=function(e){var t=!!this.um.isTracking();t&&this.stop(),e(),t&&this.start()},r.prototype.getGroupedStack=function(){var e={},t=this.getStack(),n=function(i,s){var l=i.attributes,u=l.type,f=l.after,d=l.before,v=l.object,m=l.options,y=m===void 0?{}:m;return{index:s,type:u,after:f,before:d,object:v,options:y}};return t.forEach(function(i,s){var l=i.get("magicFusionIndex"),u=n(i,s);e[l]?e[l].push(u):e[l]=[u]}),Object.keys(e).map(function(i){var s=e[i];return{index:s[s.length-1].index,actions:s,labels:(0,L.unique)(s.reduce(function(l,u){var f,d=(f=u.options)===null||f===void 0?void 0:f.action;return d&&l.push(d),l},[]))}})},r.prototype.goToGroup=function(e){var t=this;if(e){var n=this.getPointer(),i=e.index-n;(0,L.times)(Math.abs(i),function(){t[i<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(Xn);const q7=W7;var K7=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const G7=K7;var ll=function(){return ll=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ll.apply(this,arguments)},Id;(function(o){o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED"})(Id||(Id={}));var Zh="_rte",is={ACTIVE:1,INACTIVE:0,DISABLED:-1},ff=function(o,r){r===void 0&&(r="A");var e=o.selection()||{},t=e.anchorNode,n=e.focusNode,i=t==null?void 0:t.parentNode,s=n==null?void 0:n.parentNode;return(i==null?void 0:i.nodeName)==r||(s==null?void 0:s.nodeName)==r},$d="data-selectme",mc={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&ff(o)?is.ACTIVE:is.INACTIVE},result:function(o){ff(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat($d,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o!=null&&o.selection()&&ff(o,"SPAN")?is.DISABLED:is.INACTIVE},result:function(o){!ff(o,"SPAN")&&o.insertHTML("<span ".concat($d,">").concat(o.selection(),"</span>"),{select:!0})}}},Z7=function(){function o(r,e,t){t===void 0&&(t={});var n=this;if(this.em=r,this.settings=t,e[Zh])return e[Zh];e[Zh]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(t.actions||[]).map(function(d){var v=d;return(0,L.isString)(d)?v=ll({},mc[d]):mc[d.name]&&(v=ll(ll({},mc[d.name]),d)),v}),s=i.length?i:Object.keys(mc).map(function(d){return mc[d]});t.classes=ll({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},t.classes);var l=t.classes,u=t.actionbar;if(this.actionbar=u,this.classes=l,this.actions=s,!u){if(!this.isCustom(t.module)){var f=t.actionbarContainer;u=document.createElement("div"),u.className=l.actionbar,f==null||f.appendChild(u),this.actionbar=u}s.forEach(function(d){return n.addAction(d)})}return t.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(r){var e=r||this.em.RichTextEditor;return!!(e!=null&&e.config.custom||e!=null&&e.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},o.prototype.updateActiveActions=function(){var r=this,e=this.getActions();e.forEach(function(t){var n=t.update,i=t.btn,s=r.classes,l=s.active,u=s.inactive,f=s.disabled,d=t.state,v=t.name,m=r.doc,y=Id.INACTIVE;if(i&&(i.className=i.className.replace(l,"").trim(),i.className=i.className.replace(u,"").trim(),i.className=i.className.replace(f,"").trim()),d){var b=d(r,m);if(y=b,i)switch(b){case is.ACTIVE:i.className+=" ".concat(l);break;case is.INACTIVE:i.className+=" ".concat(u);break;case is.DISABLED:i.className+=" ".concat(f);break}}else m.queryCommandSupported(v)&&m.queryCommandState(v)&&(i&&(i.className+=" ".concat(l)),y=Id.ACTIVE);t.currentState=y,n==null||n(r,t)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(r,e){r===void 0&&(r=!1),e===void 0&&(e={});var t=r?et.on:et.AU,n=this,i=n.el,s=n.doc,l=this.actionbarEl();if(l&&(l.style.display=r?"":"none"),i.contentEditable="".concat(!!r),t(i,"mouseup keyup",this.updateActiveActions),t(s,"keydown",this.__onKeydown),t(s,"paste",this.__onPaste),this.enabled=r,r){var u=e.event;if(this.syncActions(),this.updateActiveActions(),u){var f=null;if(s.caretRangeFromPoint){var d=(0,et.G2)(u);f=s.caretRangeFromPoint(d.clientX,d.clientY)}else u.rangeParent&&(f=s.createRange(),f.setStart(u.rangeParent,u.rangeOffset));var v=s.getSelection();v==null||v.removeAllRanges(),f&&(v==null||v.addRange(f))}i.focus()}return this},o.prototype.__onKeydown=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onKeydown;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var n=this.doc,i=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!i.some(function(s){return n.queryCommandState(s)})&&(n.execCommand("insertLineBreak"),r.preventDefault())},o.prototype.__onPaste=function(r){var e=this.em,t=e.RichTextEditor.getConfig().onPaste;if(t)return t({ev:r,rte:this,editor:e.getEditor()});var n=r.clipboardData,i=n.getData("text"),s=n.getData("text/html");if(i&&!s){r.preventDefault();var l=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,l)}},o.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(e){if(r.actionbar&&(!e.state||e.state&&e.state(r,r.doc)>=0)){var t=e.event||"click",n=e.btn;n&&(n["on".concat(t)]=function(){e.result(r,e),r.updateActiveActions()})}})},o.prototype.addAction=function(r,e){e===void 0&&(e={});var t=e.sync,n=this.actionbarEl();if(n){var i=r.icon,s=r.attributes,l=s===void 0?{}:s,u=document.createElement("span");u.className=this.classes.button,r.btn=u;for(var f in l)u.setAttribute(f,l[f]);typeof i=="string"?u.innerHTML=i:u.appendChild(i),n.appendChild(u)}t&&(this.actions.push(r),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(r,e){this.doc.execCommand(r,!1,e)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(r,e){var t=e===void 0?{}:e,n=t.select,i=this,s=i.em,l=i.doc,u=i.el,f=l.getSelection();if(f&&f.rangeCount){var d=(0,Le.getComponentModel)(u)||s.getSelected(),v=l.createElement("div"),m=f.getRangeAt(0);m.deleteContents(),(0,L.isString)(r)?v.innerHTML=r:r&&v.appendChild(r),Array.prototype.slice.call(v.childNodes).forEach(function(y){m.insertNode(y)}),f.removeAllRanges(),f.addRange(m),u.focus(),n&&d&&(d.once("rte:disable",function(){var y=d.find("[".concat($d,"]"))[0];y&&(s.setSelected(y),y.removeAttributes($d))}),d.trigger("disable"))}},o}();const X7=Z7;var Y7=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Dd=function(){return Dd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Dd.apply(this,arguments)},Xh=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},Yh=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},J7=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Jh="".concat(Lf.refresh," frame:scroll ").concat(xr.I.update),Q7="rte:enable",eI="rte:disable",tI="rte:custom",rI={enable:Q7,disable:eI,custom:tI},nI=function(o){Y7(r,o);function r(e){var t=o.call(this,e,"RichTextEditor",G7())||this;t.events=rI;var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.pfx=n.stylePrefix,t.actions=n.actions||[];var s=new Ge.Kx;return t.model=s,s.on("change:currentView",t.__trgCustom,t),t.__dbdTrgCustom=(0,L.debounce)(function(){return t.__trgCustom()},0),t}return r.prototype.onLoad=function(){if((0,Le.hasWin)()){var e=this.config,t=e.pStylePrefix,n=e.custom,i=(0,et.a_)("div",{class:(0,et.cx)("".concat(t,"rte-toolbar"),!n&&"".concat(t,"one-bg ").concat(t,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,et.a_)("div")),(0,et.on)(i,"mousedown",function(s){return s.stopPropagation()})}},r.prototype.__trgCustom=function(){var e=this,t=e.model,n=e.em,i=e.events;n.trigger(i.custom,{enabled:!!t.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var e,t,n;(e=this.globalRte)===null||e===void 0||e.destroy(),(n=(t=this.customRte)===null||t===void 0?void 0:t.destroy)===null||n===void 0||n.call(t),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,et.YZ)(this.toolbar)},r.prototype.postRender=function(e){var t=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),t.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(e){var t=this.globalRte,n=this,i=n.em,s=n.pfx,l=n.actionbar,u=n.config,f=this.actions||J7([],u.actions,!0),d={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return t?(t.em=i,t.setEl(e)):(t=new X7(i,e,{classes:d,actions:f,actionbar:l,actionbarContainer:this.toolbar,module:this}),this.globalRte=t),t.actionbar&&(this.actionbar=t.actionbar),t.actions&&(this.actions=t.actions),t},r.prototype.add=function(e,t){var n;t===void 0&&(t={}),t.name=e,(n=this.globalRte)===null||n===void 0||n.addAction(t,{sync:!0})},r.prototype.get=function(e){var t,n;return(t=this.globalRte)===null||t===void 0||t.getActions().forEach(function(i){i.name==e&&(n=i)}),n},r.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},r.prototype.remove=function(e){var t,n=this.getAll(),i=this.get(e);if(i){var s=i.btn,l=n.indexOf(i);(t=s==null?void 0:s.parentNode)===null||t===void 0||t.removeChild(s),n.splice(l,1)}return i},r.prototype.run=function(e){var t=this.globalRte,n=(0,L.isString)(e)?this.get(e):e;t&&n&&(n.result(t,n),t.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var e=this,t=e.em,n=e.toolbar,i="px",s=t.Canvas,l=n.style,u=s.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(f){var d=u[f];(0,Le.isDef)(d)&&(l[f]=(0,L.isString)(d)?d:(d||0)+i)})},r.prototype.enable=function(e,t,n){return Xh(this,void 0,void 0,function(){var i,s,l,u,f;return Yh(this,function(d){switch(d.label){case 0:return this.lastEl=e.el,i=this,s=i.customRte,l=i.em,u=e.getChildrenContainer(),this.toolbar.style.display="",[4,s?s.enable(u,t,n):this.initRte(u).enable(n)];case 1:return f=d.sent(),l&&(setTimeout(this.updatePosition.bind(this),0),l.off(Jh,this.updatePosition,this),l.on(Jh,this.updatePosition,this),l.trigger("rte:enable",e,f)),this.model.set({currentView:e}),[2,f]}})})},r.prototype.getContent=function(e,t){return Xh(this,void 0,void 0,function(){var n,i;return Yh(this,function(s){switch(s.label){case 0:return n=this.customRte,i=e.getChildrenContainer(),n&&t&&(0,L.isFunction)(n.getContent)?[4,n.getContent(i,t,{view:e})]:[3,2];case 1:return[2,s.sent()];case 2:return[2,i.innerHTML]}})})},r.prototype.hideToolbar=function(){var e=this.toolbar.style,t="-1000px";e.top=t,e.left=t,e.display="none"},r.prototype.disable=function(e,t){return Xh(this,arguments,void 0,function(n,i,s){var l,u,f,d;return s===void 0&&(s={}),Yh(this,function(v){switch(v.label){case 0:return l={},u=this.em,f=this.customRte,f?[4,f.disable(n.getChildrenContainer(),i,Dd(Dd({},s),{view:n}))]:[3,2];case 1:return d=v.sent(),d&&(l=d),[3,3];case 2:i&&i.disable(),v.label=3;case 3:return this.hideToolbar(),u&&(u.off(Jh,this.updatePosition,this),!s.fromMove&&u.trigger("rte:disable",n,i)),this.model.unset("currentView"),[2,l]}})})},r}(Xn);const oI=nI;var iI=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const aI=iI;var sI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kn=function(){return kn=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},kn.apply(this,arguments)},lI=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},a1=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Bg=function(o){sI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,L.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.em=t.em;var n=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||n).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!i&&this.set("name",(0,Le.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,e,t)},r.prototype.__getParentProp=function(){var e,t;return(t=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||t===void 0?void 0:t.parentProp},r.prototype.__upTargets=function(e,t){var n,i=this;t===void 0&&(t={});var s=this.em,l=s.Styles,u=this.getName(),f=t.__clear,d=f?"":this.__getFullValue(t),v=this.__getParentProp(),m=this.changedAttributes(),y=(0,L.keys)(m).reduce(function(T,E){return T[E]=i.previous(E),T},{}),b=a1(a1([],(0,L.keys)(this.__getClearProps()),!0),["__p"],!1),w=(0,L.keys)(m),x=!t.__up&&!v&&(f||b.some(function(T){return w.indexOf(T)>=0})),O=this.get("onChange"),M={property:this,from:y,to:m,value:d,opts:t};l.__trgEv(l.events.propertyUpdate,M),O&&O(M),x&&this.__upTargetsStyle((n={},n[u]=d,n),t)},r.prototype.__upTargetsStyle=function(e,t){var n,i=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");i==null||i.addStyleTargets(kn(kn({},e),{__p:!!t.avoidStore}),t)},r.prototype._up=function(e,t){t===void 0&&(t={}),t.noTarget&&(t.__up=!0);var n=t.partial,i=lI(t,["partial"]);return e.__p=!!(i.avoidStore||n),this.set(e,kn(kn({},i),{avoidStore:e.__p}))},r.prototype.up=function(e,t){t===void 0&&(t={}),this.set(e,kn(kn({},t),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(e){var t;e===void 0&&(e={});var n=e.locale,i=n===void 0?!0:n,s=this.getId(),l=this.get("name")||this.get("label");return i&&((t=this.em)===null||t===void 0?void 0:t.t("styleManager.properties.".concat(s)))||l},r.prototype.getValue=function(e){e===void 0&&(e={});var t=e.noDefault,n=this.get("value");return!this.hasValue()&&!t?this.getDefaultValue():n},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget(),i=this.get("value");return!(0,L.isUndefined)(i)&&i!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(e){var t;e===void 0&&(e={});var n=this.getName(),i=e.camelCase?(0,Le.camelCase)(n):n;return t={},t[i]=this.__getFullValue(e),t},r.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,L.isUndefined)(e)?this.get("defaults"):e)},r.prototype.upValue=function(e,t){t===void 0&&(t={});var n=e===null||e===""?this.__getClearProps():this.__parseValue(e,t);return this._up(n,t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),kn(kn({},e),{__clear:!0})),this},r.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(e,t){return this.parseValue(e,t)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(e,t,n){t===void 0&&(t=!0),n===void 0&&(n={});var i=this.parseValue(e),s=!t;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(i,kn({avoidStore:s},n))},r.prototype.setValueFromInput=function(e,t,n){n===void 0&&(n={}),this.setValue(e,t,kn(kn({},n),{fromInput:1}))},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var n={value:e},i="!important",s=this.get("functionName")||"";if((0,L.isString)(e)&&e.indexOf(i)!==-1&&(n.value=e.replace(i,"").trim(),n.important=!0),!s&&!t.complete)return n;var l=[],u="".concat(n.value).trim(),f=u.indexOf("(")+1,d=s||u.substring(0,f-1);if(d&&(n.functionName=d),!s||u.indexOf("".concat(s,"("))===0){var v=u.lastIndexOf(")");l.push(f),v>=0&&l.push(v),n.value=String.prototype.substring.apply(u,l)}if(t.numeric){var m=parseFloat(n.value);n.unit=n.value.replace(m,""),n.value=m}return n},r.prototype.__getFullValue=function(e){var t=e===void 0?{}:e,n=t.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(e,t){t===void 0&&(t={});var n=this.get("functionName"),i=this.getDefaultValue(),s=(0,L.isUndefined)(e)?this.get("value"):e,l=!(0,L.isUndefined)(s)&&s!=="";if(s&&i&&s===i)return i;if(n&&l){var u=n==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(n,"(").concat(u,")")}return l&&this.get("important")&&!t.skipImportant&&(s="".concat(s," !important")),s||""},r.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(e){e===void 0&&(e="");var t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(e){var t=e.target,n=e.component,i=e.sectors,s=n||t;if(!s)return!1;var l=this.getId(),u=this.getName(),f=this.get("toRequire"),d=this.get("requires"),v=this.get("requiresParent"),m=s.get("unstylable"),y=s.get("stylable-require"),b=s.get("stylable");if((0,L.isArray)(b)&&(b=b.indexOf(u)>=0),(0,L.isArray)(m)&&(b=m.indexOf(u)<0),f&&(b=!t||y&&(y.indexOf(l)>=0||y.indexOf(u)>=0)),i&&d){var w=(0,L.keys)(d);i.forEach(function(T){T.getProperties().forEach(function(E){if((0,L.includes)(w,E.id)){var U=d[E.id];b=b&&(0,L.includes)(U,E.get("value"))}})})}if(v){var x=n&&n.parent(),O=x&&x.getEl();if(O){var M=(0,Le.hasWin)()?window.getComputedStyle(O):{};(0,L.each)(v,function(T,E){b=b&&M[E]&&(0,L.includes)(T,M[E])})}else b=!1}return!!b},r}(Ge.Kx);const pr=Bg;Bg.callParentInit=function(o,r,e,t){t===void 0&&(t={}),o.prototype.initialize.apply(r,[e,kn(kn({},t),{skipInit:1})])};Bg.callInit=function(o,r,e){e===void 0&&(e={}),!e.skipInit&&o.init(r,e)};var cI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),cl=function(){return cl=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cl.apply(this,arguments)},s1=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},yx=function(o){return o==="integer"||o==="number"},uI=function(o){cI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return cl(cl({},pr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),pr.callParentInit(pr,this,e,t);var n=this.em,i=new Ug(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),pr.callInit(this,e,t)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return s1([],this.get("properties").models,!0)},r.prototype.getProperty=function(e){return this.properties.filter(function(t){return t.getId()===e||t.getName()===e})[0]},r.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(e){var t=e===void 0?{}:e,n=t.byName;return this.getProperties().reduce(function(i,s){var l=n?s.getName():s.getId();return i[l]="".concat(s.__getFullValue()),i},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(e){var t;e===void 0&&(e={});var n=this.getName(),i=this.__getJoin(),s=this.get("toStyle"),l=this.getValues(),u={};if(s)u=s(l,{join:i,name:n,property:this});else if(l=this.getValues({byName:!0}),this.isDetached())u=l;else{var f=this.getProperties().map(function(d){return d.__getFullValue({withDefault:1})}).filter(Boolean).join(i);u=(t={},t[n]=f,t)}return this.isDetached()?u[n]="":(u[n]=u[n]||"",u=cl(cl({},u),this.getProperties().reduce(function(d,v){return d[v.getName()]="",d},{}))),e.camelCase?Object.keys(u).reduce(function(d,v){return d[(0,Le.camelCase)(v)]=u[v],d},{}):u},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(e,t){if(t===void 0&&(t={}),!(t.__up||t.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,t);this.__upTargetsStyleProps(t,e)}},r.prototype.__upTargetsStyleProps=function(e,t){var n;e===void 0&&(e={});var i=this.getStyleFromProps();if(this.isDetached()&&t){var s=t.getName();i=(n={},n[s]=i[s],n)}this.__upTargetsStyle(i,e)},r.prototype._up=function(e,t){return t===void 0&&(t={}),this.__setProperties(this.__getSplitValue(e.value),t),pr.prototype._up.call(this,e,t),this},r.prototype.getStyle=function(e){return this.getStyleFromProps(e)},r.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var t=this.getStyleFromProps()[this.getName()]||"";return Bv(t)},r.prototype.__getJoin=function(){var e=this.get("join");return(0,L.isString)(e)?e:this.get("separator")},r.prototype.__styleHasProps=function(e){e===void 0&&(e={});var t=this.getName(),n=this.getProperties(),i=n.map(function(l){return l.getName()}),s=s1([t],i,!0);return s.some(function(l){return!(0,L.isUndefined)(e[l])&&e[l]!==""})},r.prototype.__splitValue=function(e,t){return Bv(e).split(t).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(e,t,n){var i=e[t];return this.__splitValue(i||"",n)},r.prototype.__getSplitValue=function(e,t){e===void 0&&(e="");var n=t===void 0?{}:t,i=n.byName,s=this.getProperties(),l=s.length===4&&s.every(function(d){return yx(d.getType())}),u=this.__splitValue(e,this.getSplitSeparator()),f={};return s.forEach(function(d,v){var m=u[v],y=(0,L.isUndefined)(m)?"":m;if(l){var b=u.length;y=u[v]||u[v%b+(b!=1&&b%2?1:0)]||y}var w=i?d.getName():d.getId();f[w]=y||""}),f},r.prototype.__getPropsFromStyle=function(e,t){if(e===void 0&&(e={}),t===void 0&&(t={}),!this.__styleHasProps(e))return null;var n=t.byName,i=this.getName(),s=this.getProperties(),l=this.getSplitSeparator(),u=this.get("fromStyle"),f=u?u(e,{property:this,name:i,separator:l}):{};if(!u){var d=e[i];f=this.__getSplitValue(d||"",{byName:n}),s.forEach(function(v){var m=e[v.getName()],y=n?v.getName():v.getId();!(0,L.isUndefined)(m)&&m!==""&&(f[y]=m)})}return f},r.prototype.__setProperties=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.getProperties().forEach(function(i){var s=e[i.getId()];i.__getFullValue()!==s&&i.upValue(s,t)});var n=(0,L.keys)(e).map(function(i){return e[i]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var e=this;return this.getProperties().map(function(t){return t.clear({__clearIn:!e.isDetached()})}),pr.prototype.clear.call(this),this},r.prototype.hasValue=function(e){return this.getProperties().some(function(t){return t.hasValue(e)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},r}(pr);const Xs=uI;var fI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zn=function(){return zn=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zn.apply(this,arguments)},dI=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},pI=/,(?![^\(]*\))/,hI=/\s(?![^(]*\))/,vI=function(o){fI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return zn(zn({},Xs.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Xs.callParentInit(Xs,this,e,t);var n=this.get("layers"),i=new Nf(n,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),Xs.callInit(this,e,t)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},r.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},r.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},r.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t&&this.selectLayer(t)},r.prototype.moveLayer=function(e,t){t===void 0&&(t=0);var n=this.layers,i=e?e.getIndex():-1;i>=0&&(0,L.isNumber)(t)&&t>=0&&t<n.length&&i!==t&&(this.removeLayer(e),n.add(e,{at:t}))},r.prototype.addLayer=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n={};this.getProperties().forEach(function(s){var l=s.getId(),u=e[l];n[l]=(0,L.isUndefined)(u)?s.getDefaultValue():u});var i=this.layers.push({values:n},t);return i},r.prototype.removeLayer=function(e){return this.layers.remove(e)},r.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var t=this.getLayer(e);return t?this.removeLayer(t):null},r.prototype.getLayerLabel=function(e){var t="";if(e){var n=this.get("layerLabel"),i=e.getValues(),s=e.getIndex();if(n)t=n(e,{index:s,values:i,property:this});else{var l=[];this.getProperties().map(function(u){l.push(i[u.getId()])}),t=l.filter(Boolean).join(" ")}}return t},r.prototype.getStyleFromLayer=function(e,t){var n;t===void 0&&(t={});var i=this.__getJoin(),s=this.__getJoinLayers(),l=this.get("toStyle"),u=this.getName(),f=e.getValues(),d;if(l)d=l(f,{join:i,joinLayers:s,name:u,layer:e,property:this});else{var v=this.getProperties().map(function(m){var y=m.getName(),b=f[m.getId()],w=(0,L.isUndefined)(b)?m.getDefaultValue():b;if(t.number&&yx(m.getType())){var x=m.parseValue(b,t.number);w="".concat(x.value).concat(x.unit)}return{name:y,value:w}});d=this.isDetached()?v.reduce(function(m,y){return m[y.name]=y.value,m},{}):(n={},n[this.getName()]=v.map(function(m){return m.value}).join(i),n)}return t.camelCase?Object.keys(d).reduce(function(m,y){return m[(0,Le.camelCase)(y)]=d[y],m},{}):d},r.prototype.getStylePreview=function(e,t){t===void 0&&(t={});var n={},i=this.get("preview");return i&&(n=this.getStyleFromLayer(e,t)),n},r.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,L.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(e,t){var n;t===void 0&&(t={});var i=this.getSelectedLayer();i&&(i.upValues((n={},n[e.getId()]=e.__getFullValue(),n)),!t.__up&&this.__upTargetsStyleProps(t))},r.prototype.__upLayers=function(e,t,n){this.__upTargetsStyleProps(n||t)},r.prototype.__upTargets=function(e,t){if(t===void 0&&(t={}),!t.__select)return pr.prototype.__upTargets.call(this,e,t)},r.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},r.prototype.__upTargetsStyle=function(e,t){return pr.prototype.__upTargetsStyle.call(this,e,t)},r.prototype.__upSelected=function(e,t){var n=e===void 0?{}:e,i=n.noEvent;t===void 0&&(t={});var s=this.em.Styles,l=this.getSelectedLayer(),u=l==null?void 0:l.getValues();u&&this.getProperties().forEach(function(f){var d,v=(d=u[f.getId()])!==null&&d!==void 0?d:"";f.__getFullValue()!==v&&f.upValue(v,zn(zn({},t),{__up:!0}))}),!i&&s.__trgEv(s.events.layerSelect,{property:this})},r.prototype._up=function(e,t){t===void 0&&(t={});var n=e.__layers,i=n===void 0?[]:n,s=dI(e,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},t),pr.prototype._up.call(this,s,t),this},r.prototype.__setLayers=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=this.layers,i=e.map(function(s){return{values:s}});n.length===i.length?i.map(function(s,l){var u;return(u=n.at(l))===null||u===void 0?void 0:u.upValues(s.values)}):n.reset(i),this.set({isEmptyValue:!!t.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(e){var t=this,n=this.parseValue(e);return n.__layers=e.split(pI).map(function(i){return i.trim()}).map(function(i){return t.__parseLayer(i)}).filter(Boolean),n},r.prototype.__parseLayer=function(e){var t=this.get("parseLayer"),n=e.split(hI),i=this.getProperties();return t?t({value:e,values:n}):i.reduce(function(s,l,u){var f=n[u];return s[l.getId()]=(0,L.isUndefined)(f)?l.getDefaultValue():f,s},{})},r.prototype.__getLayersFromStyle=function(e){var t=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var n=this.getName(),i=this.getProperties(),s=this.getLayerSeparator(),l=this.attributes.fromStyle,u=l?l(e,{property:this,name:n,separatorLayers:s}):[];if(!l){var f=this.__splitStyleName(e,n,s).map(function(d){return d.split(t.getSplitSeparator())}).map(function(d){var v={};return i.forEach(function(m,y){var b=d[y];v[m.getId()]=(0,L.isUndefined)(b)?m.getDefaultValue():b}),v});i.forEach(function(d){var v=d.getId();t.__splitStyleName(e,d.getName(),s).map(function(m){var y;return y={},y[v]=m||d.getDefaultValue(),y}).forEach(function(m,y){f[y]=f[y]?zn(zn({},f[y]),m):m})}),u=f}return(0,L.isArray)(u)?u:[u]},r.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},r.prototype.getStyleFromLayers=function(e){var t=this;e===void 0&&(e={});var n={},i=this.getName(),s=this.getLayers(),l=this.getProperties(),u=s.map(function(d){return t.getStyleFromLayer(d,e)});if(u.forEach(function(d){(0,L.keys)(d).map(function(v){n[v]||(n[v]=[]),n[v].push(d[v])})}),(0,L.keys)(n).map(function(d){n[d]=n[d].join(t.__getJoinLayers())}),this.isDetached())n[i]="",!s.length&&l.map(function(d){n[d.getName()]=""});else{var f=l.reduce(function(d,v){return d[v.getName()]="",d},{});n[i]=n[i]||"",n=zn(zn({},n),f)}return zn(zn({},n),e.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.getEmptyValueStyle({force:!0}),n=(0,L.keys)(t);return!!n.length&&n.every(function(i){return t[i]===e[i]})},r.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var t=this.attributes.emptyValue;if(t&&(!this.hasLayers()||e.force)){var n=this.getName(),i=this.getProperties(),s=(0,L.isString)(t)?t:t({property:this});if((0,L.isString)(s)){var l={};return this.isDetached()?i.map(function(u){l[u.getName()]=s}):l[n]=s,l}else return s}else return{}},r.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),t=this.get("layerSeparator");return e||((0,L.isString)(t)?t:e)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Bv(e[this.getName()])},r.prototype.hasValue=function(e){e===void 0&&(e={});var t=e.noParent,n=t&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},r.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(zn(zn({},e),{__clear:!0})),pr.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(Xs);const gI=vI;var mI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ld=function(){return Ld=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ld.apply(this,arguments)},yI=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},_I=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Qh="data-clear-style",bI=function(o){mI(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this;(0,L.bindAll)(t,"__change","__updateStyle");var n=e.config||{},i=n.em;t.config=n,t.em=i,t.pfx=n.stylePrefix||"",t.ppfx=n.pStylePrefix||"",t.__destroyFn=t.destroy?t.destroy.bind(t):function(){};var s=t.model;s.view=t,t.onValueChange=(0,L.debounce)(t.onValueChange.bind(t),10),t.updateStatus=(0,L.debounce)(t.updateStatus.bind(t),0),t.listenTo(s,"destroy remove",t.remove),t.listenTo(s,"change:visible",t.updateVisibility),t.listenTo(s,"change:name change:className change:full",t.render),t.listenTo(s,"change:value",t.onValueChange),t.listenTo(s,"change:parentTarget",t.updateStatus),t.listenTo(i,"change:device",t.onValueChange);var l=t.init&&t.init.bind(t);return l&&l(),t}return r.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(Qh,"]")]="clear",e},r.prototype.template=function(e){var t=this,n=t.pfx,i=t.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(e){var t=this,n=t.pfx,i=t.em,s=e.parent,l=e.attributes,u=l.icon,f=u===void 0?"":u,d=l.info,v=d===void 0?"":d,m=i==null?void 0:i.getConfig().icons,y=(m==null?void 0:m.close)||"";return`
      <span class="`.concat(n,"icon ").concat(f,'" title="').concat(v,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(Qh,">").concat(y,"</div>"),`
    `)},r.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var e=this;return Ge.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(t){return e[t]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var e,t=this,n=t.model,i=t.pfx,s=t.ppfx,l=t.config,u="".concat(s,"four-color"),f="".concat(s,"color-warn"),d=this.$el.children(".".concat(i,"label")),v=this.getClearEl(),m=v?v.style:{};d.removeClass("".concat(u," ").concat(f)),m.display="none",n.hasValue({noParent:!0})&&l.highlightChanged?(d.addClass(u),l.clearProperties&&(m.display="")):n.hasValue()&&l.highlightComputed&&d.addClass(f),(e=this.parent)===null||e===void 0||e.updateStatus()},r.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Qh,"]"))),this.clearEl},r.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},r.prototype.onValueChange=function(e,t,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(e){var t=this.model,n=(0,L.isUndefined)(e)||e===""?t.getDefaultValue():e;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(e){var t=this.getInputEl();t&&(t.value=e)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},r.prototype.__update=function(e){var t=this.update&&this.update.bind(this);t&&t(Ld(Ld({},this._getClbOpts()),{value:e}))},r.prototype.__change=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,_I([this._getClbOpts()],e,!1))},r.prototype.__updateStyle=function(e,t){t===void 0&&(t={});var n=t.complete,i=t.partial;yI(t,["complete","partial"]);var s=this.model,l=n!==!1&&i!==!0;(0,Le.isObject)(e)?s.__upTargetsStyle(e,{avoidStore:!l}):s.upValue(e,{partial:!l})},r.prototype._getClbOpts=function(){var e=this,t=e.model,n=e.el,i=e.createdEl;return{el:n,createdEl:i,property:t,props:t.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var e=this,t=e.pfx,n=e.model,i=e.el,s=e.$el,l=n.getName(),u=n.getType(),f=n.get("className")||"",d="".concat(t,"property"),v=u==="number"?"".concat(t).concat(u," ").concat(t,"integer"):"".concat(t).concat(u);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(n)),s.find("[data-sm-label]").append(this.templateLabel(n));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),i.className="".concat(d," ").concat(v," ").concat(d,"__").concat(l," ").concat(f).trim(),i.className+=n.isFull()?" ".concat(d,"--full"):"";var y=this.onRender&&this.onRender.bind(this);return y&&y(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}(Ge.Ss);const ki=bI;var wI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),xI=function(o){wI(r,o);function r(e){var t=o.call(this,e)||this;t.config=e.config||{},t.pfx=t.config.stylePrefix||"",t.properties=[],t.parent=e.parent;var n=t.collection;return t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.render),t}return r.prototype.addTo=function(e,t,n){this.add(e,null,n)},r.prototype.add=function(e,t,n){n===void 0&&(n={});var i=this,s=i.parent,l=i.config,u=t||this.el,f=new e.typeView({model:e,config:l});s&&(f.parent=s),f.render();var d=f.el;this.properties.push(f),(0,et.Sc)(u,d,n.at)},r.prototype.remove=function(){return Ge.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(l){return e.add(l,s)}),n.empty(),n.append(s),n.attr("class","".concat(i,"properties")),this},r}(Ge.Ss);const Hg=xI;var CI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),jd=function(){return jd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},jd.apply(this,arguments)},SI=function(o){CI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),ki.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.get("properties");if(n.length&&!this.props){var i=t.isDetached(),s=new Hg({config:jd(jd({},this.config),{highlightComputed:i,highlightChanged:i}),collection:n,parent:this});s.render(),this.$el.find("#".concat(e,"input-holder")).append(s.el),this.props=s}},r.prototype.clearCached=function(){ki.prototype.clearCached.apply(this,arguments),delete this.props},r}(ki);const Fc=SI;var OI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),TI=function(o){OI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var e=this,t=e.pfx,n=e.ppfx,i=e.em,s=i==null?void 0:i.getConfig().icons,l=(s==null?void 0:s.close)||"",u=(s==null?void 0:s.move)||"";return`
      <div class="`.concat(t,`label-wrp">
        <div id="`).concat(t,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(u,`
        </div>
        <div id="`).concat(t,`label" data-label></div>
        <div id="`).concat(t,'preview-box" class="').concat(t,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(t,'preview" class="').concat(t,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(t,'close-layer" class="').concat(t,`btn-close" data-close-layer>
          `).concat(l,`
        </div>
      </div>
      <div id="`).concat(t,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(e){e===void 0&&(e={});var t=this.model,n=e.config||{};this.em=n.em,this.config=n,this.sorter=e.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=e.propertyView;var i=this.propertyView.model;this.listenTo(t,"destroy remove",this.remove),this.listenTo(t,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),t.view=this,t.set({droppable:0,draggable:1}),this.$el.data("model",t)},r.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},r.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var e=this.model,t=e.getLabel();if(this.getLabelEl().innerHTML=t,e.hasPreview()){var n=this.getPreviewEl(),i=e.getStylePreview({number:{min:-3,max:3}}),s=(0,L.keys)(i).map(function(l){return"".concat(l,":").concat(i[l])}).join(";");n.setAttribute("style",s)}},r.prototype.updateVisibility=function(){var e,t=this,n=t.pfx,i=t.model,s=t.propertyView,l=this.getPropertiesWrapper(),u=i.isSelected();l.style.display=u?"":"none",this.$el[u?"addClass":"removeClass"]("".concat(n,"active")),u&&l.appendChild((e=s.props)===null||e===void 0?void 0:e.el)},r.prototype.render=function(){var e=this,t=e.el,n=e.pfx,i=e.model;return t.innerHTML=this.template(),t.className="".concat(n,"layer"),i.hasPreview()&&(t.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}(Ge.Ss);const EI=TI;var PI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),kI=function(o){PI(r,o);function r(e){var t=o.call(this,e)||this,n=t.collection,i=e.config||{},s=i.em,l=i.stylePrefix||"",u=i.pStylePrefix||"";t.config=i,t.pfx=l,t.ppfx=u,t.propertyView=e.propertyView,t.className="".concat(l,"layers ").concat(u,"field"),t.listenTo(n,"add",t.addTo),t.listenTo(n,"reset",t.reset),t.items=[];var f=t.createPlaceholder(i.pStylePrefix);t.$el.append(f);var d=s==null?void 0:s.Utils;return t.sorter=d?new d.StyleManagerSorter({em:s,containerContext:{container:t.el,containerSel:".".concat(l,"layers"),itemSel:".".concat(l,"layer"),pfx:i.pStylePrefix,document,placeholderElement:f},dragBehavior:{dragDirection:cs.A.Vertical,nested:!1}}):void 0,n.view=t,t.$el.data("model",n),t.$el.data("collection",n),t}return r.prototype.addTo=function(e){var t=this.collection.indexOf(e);this.addToCollection(e,null,t)},r.prototype.addToCollection=function(e,t,n){var i=t||null,s=this,l=s.propertyView,u=s.config,f=s.sorter,d=s.$el,v=new EI({model:e,config:u,sorter:f,propertyView:l}),m=v.render().el;if(this.items.push(v),i)i.appendChild(m);else if(typeof n<"u"){var y="before";d.children().length===n&&(n--,y="after"),n<0?d.append(m):d.children().eq(n)[y](m)}else d.append(m);return m},r.prototype.reset=function(e,t){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),Ge.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},r.prototype.render=function(){var e=this,t=this.$el,n=document.createDocumentFragment();return t.empty(),this.collection.forEach(function(i){return e.addToCollection(i,n)}),t.append(n),t.attr("class",this.className),this},r.prototype.createPlaceholder=function(e){var t=document.createElement("div"),n=document.createElement("div");return this.el.parentNode,t.className=e+"placeholder",t.style.display="none",t.style.pointerEvents="none",n.className=e+"placeholder-int",t.appendChild(n),t},r}(Ge.Ss);const AI=kI;var MI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ul=function(){return ul=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ul.apply(this,arguments)},VI=function(o){MI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return ul(ul({},Fc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.em,i=n==null?void 0:n.getConfig().icons,s=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(t,"field ").concat(t,`stack">
        <button type="button" id="`).concat(t,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Fc.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){Fc.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var e=this,t=e.model,n=e.el,i=e.config,s=t.get("properties");if(s.length&&!this.props){var l=new Hg({config:ul(ul({},i),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});l.render();var u=new AI({collection:t.layers,config:i,propertyView:this});u.render();var f=n.querySelector("[data-layers-wrapper]");f.appendChild(u.el),this.props=l,this.layersView=u}},r}(Fc);const II=VI;var $I=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rd=function(){return Rd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Rd.apply(this,arguments)},DI=function(o){$I(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return Rd(Rd({},ki.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var e,t=this,n=t.pfx,i=t.em,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,l=s==null?void 0:s.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(l,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(e){var t=this,n=t.model,i=t.el,s=n.getDefaultValue(),l=i.querySelector("[data-preview-box]"),u=i.querySelector("[data-preview]");l.style.display=!e||e===s?"none":"",u.style.backgroundImage=e||n.getDefaultValue()},r.prototype.openAssetManager=function(){var e=this,t,n=(t=this.em)===null||t===void 0?void 0:t.Assets;n==null||n.open({select:function(i,s){var l=(0,L.isString)(i)?i:i.get("src");e.model.upValue(l,{partial:!s}),s&&n.close()},types:["image"],accept:"image/*"})},r}(ki);const LI=DI;var jI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),RI=function(o){jI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(e){return""},r.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},r.prototype.setValue=function(e){},r.prototype.onRender=function(){var e=this,t=e.ppfx,n=e.model,i=e.el;if(!this.inputInst){var s=n.input;s.ppfx=t,s.render();var l=i.querySelector(".".concat(t,"fields"));l.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},r.prototype.clearCached=function(){ki.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(ki);const Pi=RI;var NI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),FI=function(o){NI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.setValue=function(e){var t;(t=this.inputInst)===null||t===void 0||t.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var e=this;Pi.prototype.remove.apply(this,arguments);var t=this.inputInst;return t&&t.remove&&t.remove(),["inputInst","$color"].forEach(function(n){return e[n]=null}),this},r.prototype.__handleChange=function(e,t){this.model.upValue(e,{partial:t})},r.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var t=this,n=t.ppfx,i=t.model,s=t.em,l=t.el,u=new U2({target:s,model:i,ppfx:n,onChange:this.__handleChange}),f=u.render();l.querySelector(".".concat(n,"fields")).appendChild(f.el),this.input=(e=f.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=f}},r}(Pi);const BI=FI;var HI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Nd=function(){return Nd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Nd.apply(this,arguments)},l1=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},UI=function(o){HI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Nd(Nd({},pr.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var e=this.attributes,t=e.options,n=e.list;return(t&&t.length?t:n)||[]},r.prototype.getOption=function(e){var t=this,n=(0,Le.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return t.getOptionId(i)===n})[0]||null},r.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},r.prototype.addOption=function(e){if(e){var t=this.getOptions();this.setOptions(l1(l1([],t,!0),[e],!1))}return this},r.prototype.getOptionId=function(e){return(0,Le.isDef)(e.id)?e.id:e.value},r.prototype.getOptionLabel=function(e,t){var n;t===void 0&&(t={});var i=t.locale,s=i===void 0?!0:i,l=((0,L.isString)(e)?this.getOption(e):e)||{},u=this.getOptionId(l),f=l.label||l.name||u,d=t.property||this.getId();return s&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(d,".").concat(u)))||f},r.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];pr.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(pr);const cg=UI;var zI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),WI=function(o){zI(r,o);function r(e){var t=o.call(this,e)||this;return t.listenTo(t.model,"change:options",t.updateOptions),t}return r.prototype.templateInput=function(){var e=this,t=e.pfx,n=e.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(t,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var e=this.pfx,t=this.model,n=t.getOptions();if(!this.input){var i=[];n.forEach(function(l){var u=t.getOptionId(l),f=t.getOptionLabel(u),d=l.style?l.style.replace(/"/g,"&quot;"):"",v=d?'style="'.concat(d,'"'):"",m=u.replace(/"/g,"&quot;");i.push('<option value="'.concat(m,'" ').concat(v,">").concat(f,"</option>"))});var s=this.el.querySelector("#".concat(e,"input-holder"));s.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=s.firstChild}},r.prototype.__setValueInput=function(e){var t=this.model,n=this.getInputEl(),i=t.getOptions()[0],s=i?t.getOptionId(i):"";n&&(n.value=e||s)},r}(ki);const _x=WI;var qI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Fd=function(){return Fd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Fd.apply(this,arguments)},KI=function(o){qI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Fd(Fd({},cg.getDefaults()),{full:1})},r}(cg);const GI=KI;var ZI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),XI=function(o){ZI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},r.prototype.onRender=function(){var e=this,t=e.pfx,n=e.ppfx,i=this.model,s="".concat(n,"radio-item-label"),l=i.getName(),u=i.getOptions(),f="".concat(t,"radio ").concat(t,"radio-").concat(l),d=i.cid;if(!this.input){var v=[];u.forEach(function(y){var b=y.className?"".concat(y.className," ").concat(t,"icon ").concat(s):"",w=i.getOptionId(y),x="".concat(l,"-").concat(w,"-").concat(d),O=b?"":i.getOptionLabel(w),M=y.title?'title="'.concat(y.title,'"'):"",T=i.getValue()===w?"checked":"";v.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(f,'" id="').concat(x,'" name="').concat(l,"-").concat(d,'" value="').concat(w,'" ').concat(T,`/>
            <label class="`).concat(b||s,'" ').concat(M,' for="').concat(x,'">').concat(O,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(n,"field"));m.innerHTML='<div class="'.concat(n,'radio-items">').concat(v.join(""),"</div>"),this.input=m.firstChild}},r.prototype.__setValueInput=function(e){var t,n=this.model,i=e||n.getDefaultValue(),s=(t=this.getInputEl())===null||t===void 0?void 0:t.querySelector('[value="'.concat(i,'"]'));s&&(s.checked=!0)},r}(_x);const YI=XI;var JI=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ts=function(){return ts=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ts.apply(this,arguments)},QI=function(o){JI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return ts(ts({},pr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(e,t){return t===void 0&&(t={}),this._up({unit:e},t)},r.prototype.initialize=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),pr.callParentInit(pr,this,e,t);var n=this.get("unit"),i=this.getUnits();this.input=(0,Le.hasWin)()?new W2({model:this}):void 0,i.length&&!n&&this.set("unit",i[0],{silent:!0}),pr.callInit(this,e,t)},r.prototype.__getClearProps=function(){return ts(ts({},pr.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(e,t){t===void 0&&(t={});var n=pr.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(n.value,ts({deepCheck:1},t)),s=i.value,l=i.unit;return n.value=s,n.unit=l,n},r.prototype.getFullValue=function(){var e=this.get("value"),t=this.get("unit"),n=(0,L.isUndefined)(e)?"":"".concat(e),i=!(0,L.isUndefined)(t)&&n?t:"",s="".concat(n).concat(i);return pr.prototype.getFullValue.apply(this,[s])},r}(pr);const Bd=QI;var e$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Hd=function(){return Hd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Hd.apply(this,arguments)},t$=function(o){e$(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Hd(Hd({},Bd.getDefaults()),{showInput:1})},r}(Bd);const r$=t$;var n$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ud=function(){return Ud=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ud.apply(this,arguments)},o$=function(o){n$(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return Ud(Ud({},Pi.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(e){var t=this.ppfx;return`
      <div class="`.concat(t,"field ").concat(t,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(e){var t=this.model,n=t.parseValue(e);this.getSliderEl().value=e===""?t.getDefaultValue():parseFloat(n.value),Pi.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){Pi.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){Pi.prototype.clearCached.apply(this,arguments),delete this.slider},r}(Pi);const i$=o$;var a$=Ge.pM.extend(rx),s$=a$.extend({extendViewApi:1,init:function(){var o=this,r=o.opts,e=o.em,t=r.module||(e==null?void 0:e.get("StyleManager"));t&&(t.__listenAdd(this,t.events.propertyAdd),t.__listenRemove(this,t.events.propertyRemove))},types:[{id:"stack",model:gI,view:II,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:Xs,view:Fc,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:pr,view:LI,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:pr,view:BI,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:cg,view:_x,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:GI,view:YI,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:r$,view:i$,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:Bd,view:Pi,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:Bd,view:Pi,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:pr,view:ki,isType:function(o){return o.type="base",o}}]});const Ug=s$;var l$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),zd=function(){return zd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zd.apply(this,arguments)},c$=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},u$=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},f$=function(o){l$(r,o);function r(e,t){t===void 0&&(t={});var n=o.call(this,e)||this,i=t.em;n.em=i;var s=e||{},l=n.buildProperties(s.buildProps),u=n.get("name")||"",f=[];!n.get("id")&&n.set("id",u.replace(/ /g,"_").toLowerCase()),l?f=n.extendProperties(l):f=n.get("properties").map(function(v){return(0,L.isString)(v)?n.buildProperties(v)[0]:v}).filter(Boolean),f=f.map(function(v){return n.checkExtend(v)});var d=new Ug(f,{em:i});return d.sector=n,n.set("properties",d),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var e,t=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(t)))||this.get("name")},r.prototype.setName=function(e){return this.set("name",e)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(e){return this.set("open",e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(e){e===void 0&&(e={});var t=this.properties,n=t.models?u$([],t.models,!0):t;return n.filter(function(i){var s=!0;if(e.withValue&&(s=i.hasValue({noParent:!0})),e.withParentValue){var l=i.hasValue({noParent:!0});s=!l&&i.hasValue()}return s})},r.prototype.getProperty=function(e){return this.getProperties().filter(function(t){return t.get("id")===e})[0]||void 0},r.prototype.addProperty=function(e,t){return this.properties.add(this.checkExtend(e),t)},r.prototype.extendProperties=function(e,t,n){n===void 0&&(n=!1);for(var i=e.length,s=t||this.get("properties"),l=this.get("extendBuilded"),u=[],f=0,d=s.length;f<d;f++){for(var v=s[f],m=0,y=0;y<i;y++){var b=e[y];if(v.property==b.property||v.id==b.property){var w=v.properties;w&&w.length&&(v.properties=this.extendProperties(b.properties||[],w,1)),e[y]=l?(0,L.extend)(b,v):v,u[y]=e[y],m=1;continue}}m||(e.push(v),u.push(v))}return n?u.filter(function(x){return x}):e},r.prototype.checkExtend=function(e){var t=((0,L.isString)(e)?{extend:e}:e)||{},n=t.extend,i=c$(t,["extend"]);return n?zd(zd({},this.buildProperties([n])[0]||{}),i):e},r.prototype.buildProperties=function(e){var t,n=e||[];if(!n.length)return[];var i=(t=this.em)===null||t===void 0?void 0:t.Styles.builtIn;return i==null?void 0:i.build(n)},r}(Ge.Kx);const bx=f$;var d$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Wd=function(){return Wd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Wd.apply(this,arguments)},p$=function(o){d$(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(e,t){t===void 0&&(t={});var n=t.module,i=t.em;this.em=i,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(e,t){t===void 0&&(t={});var n=t.collection.em;return new bx(e,Wd(Wd({},t),{em:n}))},r.prototype.onReset=function(e,t){t===void 0&&(t={});var n=t.previousModels||[];n.forEach(function(i){return i.get("properties").reset()})},r}(Ge.pM);const h$=p$;var _a=function(){return _a=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},_a.apply(this,arguments)},v$=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Na=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},Zr=function(o){return o.map(function(r){return{id:r}})},g$=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",e=["flex-start","flex-end","center"],t=Na(Na([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Zr(["auto","cover","contain"]),this.optsBgAttach=Zr(["scroll","fixed","local"]),this.optsBgRepeat=Zr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Zr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Zr(["visible","hidden","scroll","auto"]),this.optsDir=Zr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Zr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Zr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Zr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Zr(["none","left","right"]),this.optsPos=Zr(["static","relative","absolute","fixed"]),this.optsTextAlign=Zr(["left","center","right","justify"]),this.optsFlexAlign=Zr(t),this.optsJustCont=Zr(Na(Na([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Zr(Na(Na([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Zr(Na(["auto"],t,!0)),this.optsTransitProp=Zr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Zr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Zr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(r){var e=this;return function(){return r.map(function(t){if((0,L.isString)(t))return e.get(t);var n=t.extend,i=v$(t,["extend"]);return _a(_a({},e.get(n)),i)})}},o.prototype.init=function(){var r=this,e=this,t=e.fixedValues,n=e.requireFlex,i=e.typeNumber;this.props={};var s=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:t},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(l,u){var f=u.values,d=f["box-shadow-h"],v=f["box-shadow-v"],m=f["box-shadow-blur"],y=f["box-shadow-spread"];return"".concat(d," ").concat(v," ").concat(m," ").concat(y)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(l,u){var f=u.values,d=f["text-shadow-h"],v=f["text-shadow-v"],m=f["text-shadow-blur"];return"".concat(d," ").concat(v," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(l,u){var f=u.values,d=f["background-repeat-sub"]||"",v=f["background-position-sub"]||"",m=f["background-attachment-sub"]||"",y=f["background-size-sub"]||"";return[d,v,m,y].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(l,u){var f=u.property,d=u.name,v=l[d]||"",m=f.getLayerSeparator();return v?v.split(m).map(function(y){var b=f.__parseFn(y),w=b.name,x=b.value;return{"transform-type":w,"transform-value":x}}):[]},toStyle:function(l,u){var f,d=u.name;return f={},f[d]="".concat(l["transform-type"],"(").concat(l["transform-value"],")"),f},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(l){var u=l.property,f=l.to;if(f.value){var d=u.getOption(),v=_a({},d.propValue||{}),m=u.getParent().getProperty("transform-value"),y=m.getUnit();(!y||(v==null?void 0:v.units.indexOf(y))<0)&&(v.unit=(v==null?void 0:v.units[0])||""),m.up(v)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(l){var u=l[0],f=l[1],d=l[2];r.add(u,f||{},{from:d})}),this},o.prototype.add=function(r,e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=t.from||"",i=this.props[n||r]||{},s=_a(_a(_a({},i),{property:r}),e);return s.properties&&(0,L.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[r]=s,s},o.prototype.get=function(r){return this.props[r]},o.prototype.build=function(r){var e=this,t=[],n=(0,L.isString)(r)?[r]:r;return n.forEach(function(i){t.push(e.get(i)||{property:i})}),t},o}();const m$=g$;var y$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),_$=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},b$=function(o){y$(r,o);function r(e){var t=o.call(this,e)||this,n=e.config||{},i=t.model,s=n.em;return t.config=n,t.em=s,t.pfx=n.stylePrefix||"",t.listenTo(i,"destroy remove",t.remove),t.listenTo(i,"change:open",t.updateOpen),t.listenTo(i,"change:visible",t.updateVisibility),t}return r.prototype.template=function(e){var t,n=e.pfx,i=e.label,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,l=(s==null?void 0:s.caret)||"",u="".concat(n,"sector-");return Kn(c1||(c1=_$([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),u,u,l,u,i)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var e=this,t=e.$el,n=e.model,i=e.pfx,s=n.isOpen();t[s?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=s?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var e=this,t=e.$el,n=e.pfx;return t.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},r.prototype.renderProperties=function(){var e=this,t=e.model,n=e.config,i=t.get("properties");if(i){var s=new Hg({collection:i,config:n});this.$el.append(s.render().el)}},r.prototype.render=function(){var e=this,t=e.pfx,n=e.model,i=e.$el,s=n.getId(),l=n.getName();return i.html(this.template({pfx:t,label:l})),this.renderProperties(),i.attr("class","".concat(t,"sector ").concat(t,"sector__").concat(s," no-select")),this.updateOpen(),this},r}(Ge.Ss);const w$=b$;var c1,x$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),C$=function(o){x$(r,o);function r(e){e===void 0&&(e={});var t=o.call(this,e)||this,n=e.module,i=e.config,s=t.collection;return t.pfx=(i==null?void 0:i.stylePrefix)||"",t.ppfx=(i==null?void 0:i.pStylePrefix)||"",t.config=i,t.module=n,t.listenTo(s,"add",t.addTo),t.listenTo(s,"reset",t.render),t}return r.prototype.remove=function(){var e=this;return Ge.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(t){return e[t]={}}),this},r.prototype.addTo=function(e,t,n){n===void 0&&(n={}),this.addToCollection(e,null,n)},r.prototype.addToCollection=function(e,t,n){n===void 0&&(n={});var i=this,s=i.config,l=i.el,u=t||l,f=new w$({model:e,config:s}).render().el;return(0,et.Sc)(u,f,n.at),f},r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.pfx,s=t.ppfx;n.empty();var l=document.createDocumentFragment();return this.collection.each(function(u){return e.addToCollection(u,l)}),n.append(l),n.addClass("".concat(i,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},r}(Ge.Ss);const S$=C$;var O$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ba=function(){return ba=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ba.apply(this,arguments)},u1=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},wx="style",fu="".concat(wx,":"),zg="".concat(fu,"sector"),T$="".concat(zg,":add"),E$="".concat(zg,":remove"),P$="".concat(zg,":update"),Wg="".concat(fu,"property"),k$="".concat(Wg,":add"),A$="".concat(Wg,":remove"),M$="".concat(Wg,":update"),xx="".concat(fu,"layer:select"),ug="".concat(fu,"target"),V$="".concat(fu,"custom"),f1=function(o){return o||o===0},I$={all:wx,sectorAdd:T$,sectorRemove:E$,sectorUpdate:P$,propertyAdd:k$,propertyRemove:A$,propertyUpdate:M$,layerSelect:xx,target:ug,custom:V$},$$=function(o){O$(r,o);function r(e){var t=o.call(this,e,"StyleManager",new h$([],{em:e}),I$,aI())||this;t.Sector=bx,t.storageKey="",(0,L.bindAll)(t,"__clearStateTarget");var n=t.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),t.builtIn=new m$,t.properties=new Ug([],{em:e,module:t}),t.sectors=t.all;var s=new Ge.Kx({targets:[]});t.model=s;var l=xr.I.update,u="component:toggled ".concat(l,":classes change:state change:device frame:resized selector:type");t.upAll=(0,L.debounce)(function(){return t.__upSel()},0),s.listenTo(e,u,t.upAll),s.listenTo(e,"component:toggled",t.__clearStateTarget);var f=(0,L.debounce)(function(){t.__upProps(),t.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",f);var d=(0,L.debounce)(function(){return t.__trgCustom()},0);return s.listenTo(e,"".concat(xx," ").concat(ug),d),s.on("change:lastTarget",function(){return e.trigger(ug,t.getSelected())}),t}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(t=this.em).trigger.apply(t,u1([e],n,!1))},r.prototype.__clearStateTarget=function(){var e=this,t=this.em,n=this.__getStateTarget();n&&(t==null||t.skip(function(){t.Css.remove(n),e.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(e,t,n){n===void 0&&(n={});var i=this.getSector(e);return i||(t.id=e,i=this.sectors.add(t,n)),i},r.prototype.getSector=function(e,t){t===void 0&&(t={});var n=this.sectors.where({id:e})[0];return!n&&t.warn&&this._logNoSector(e),n||null},r.prototype.getSectors=function(e){e===void 0&&(e={});var t=this.sectors,n=t&&t.models?e.array?u1([],t.models,!0):t:[];return e.visible?n.filter(function(i){return i.isVisible()}):n},r.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},r.prototype.addProperty=function(e,t,n){n===void 0&&(n={});var i=this.getSector(e,{warn:!0}),s;return i&&(s=i.addProperty(t,n)),s},r.prototype.getProperty=function(e,t){var n=this.getSector(e,{warn:!0}),i;return n&&(i=n.properties.filter(function(s){return s.get("property")===t||s.get("id")===t})[0]),i},r.prototype.getProperties=function(e){var t,n=this.getSector(e,{warn:!0});return n&&(t=n.properties),t},r.prototype.removeProperty=function(e,t){var n=this.getProperties(e);return n?n.remove(this.getProperty(e,t)):null},r.prototype.select=function(e,t){var n=this;t===void 0&&(t={});var i=this.em,s=(0,L.isArray)(e)?e:[e],l=t.stylable,u=i.Css,f=[];s.filter(Boolean).forEach(function(w){var x=w;if((0,L.isString)(w)){var O=u.getRule(w)||u.setRule(w);!(0,L.isUndefined)(l)&&O.set({stylable:l}),x=O}f.push(x)});var d=t.component||f.filter(function(w){return(0,Le.isComponent)(w)}).reverse()[0];f=f.map(function(w){return n.getModelToStyle(w)});var v=i.getState(),m=f.slice().reverse()[0],y=this.getParentRules(m,{state:v,component:d}),b=this.__getStateTarget();return i.skip(function(){var w;if(v&&(!((w=m==null?void 0:m.getState)===null||w===void 0)&&w.call(m))){var x=m.getStyle();b?b.setStyle(x):b=u.getAll().add({selectors:"gjs-selected",style:x,shallow:!0,important:!0})}else b&&(u.remove(b),b=void 0)}),this.model.set({targets:f,lastTarget:m,lastTargetParents:y,stateTarget:b,component:d}),this.__upProps(t),f},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(e,t){this.getSelectedAll().map(function(s){return s.addStyle(e,t)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(e);var i=this.__getStateTarget();n&&(i==null||i.setStyle(n.getStyle(),t))},r.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(e,t){return this.builtIn.add(e,t)},r.prototype.getModelToStyle=function(e,t){t===void 0&&(t={});var n=this.em,i=t.skipAdd;if(n&&(e!=null&&e.toHTML)){var s=n.getConfig(),l=n.UndoManager,u=n.Css,f=n.Selectors,d=f?f.getConfig():{},v=s.devicePreviewMode?"":n.get("state"),m=e.get("classes"),y=m.getStyleable(),b=y.length,w=!d.componentFirst||t.useClasses,x={noCount:1},O={state:v,addOpts:x};l.skip(function(){var M;if(b&&w){var T=n.getCurrentMedia();M=u.get(y,v,T),!M&&!i&&(M=u.add(y,v,T,{},x))}else if(s.avoidInlineStyle){var E=e.getId();M=u.getIdRule(E,O),!M&&!i&&(M=u.setIdRule(E,{},O)),e.is("wrapper")&&M.set("wrapper",1,x)}M&&(e=M)})}return e},r.prototype.getParentRules=function(e,t){var n=t===void 0?{}:t,i=n.state,s=n.component,l=this.em,u=[];if(l&&e){var f=s,d=l.Css,v=l.CodeManager.getGenerator("css"),m=e.toHTML?e:e.getComponent(),y={array:!0},b=[],w=[],x=[],O=[],M=[],T=function(ee){return ee.length?d.getRules().filter(function(G){var q=G.getSelectors().map(function(D){return D.getFullName()});return q.length===0?!1:q.every(function(D){return ee.indexOf(D)>=0})}):[]},E=function(ee){return ee?d.getRules().filter(function(G){return G.selectorsToString()===ee}):[]};if(m)b=d.getRules("#".concat(m.getId())),w=E(m.get("tagName")),O=f?T(f.getSelectors().getFullName(y)):[],M=O.concat(w).concat(b);else{b=f?d.getRules("#".concat(f.getId())):[],w=E((f==null?void 0:f.get("tagName"))||"");var U=(f==null?void 0:f.getSelectors().getFullName(y))||[],Z=U.filter(function(ee){return e.getSelectors().getFullName(y).findIndex(function(G){return G===ee})===-1});x=T(Z.concat(e.getSelectors().getFullName(y))),M=w.concat(b).concat(x)}var te=M.filter(function(ee){return(0,L.isUndefined)(i)?1:ee.get("state")===i}).sort(v.sortRules).reverse();u=te.slice(te.indexOf(e)+1)}return u},r.prototype.addType=function(e,t){this.properties.addType(e,t)},r.prototype.getType=function(e){return this.properties.getType(e)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(e,t){var n=t===void 0?{}:t,i=n.model,s=i===void 0?{}:i,l=n.view,u=l===void 0?{}:l,f=this.config,d=this.getType(e);if(d)return new d.view(ba({model:new d.model(s),config:f},u))},r.prototype.render=function(){var e=this,t=e.config,n=e.em,i=e.SectView,s=i&&i.el;return this.SectView=new S$({el:s,em:n,config:t,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(e){var t=this.em;t&&t.logWarning("'".concat(e,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(e,t){t===void 0&&(t={});var n=this.em;if(!e.__p){var i=this.getSelectedAll(),s=t.components||n.getSelectedAll(),l=Array.isArray(s)?s:[s],u=ba({},e);delete u.__p,l.forEach(function(f){return!i.includes(f)&&f.__onStyleChange(u)})}},r.prototype.__upProps=function(e){var t=this;e===void 0&&(e={});var n=this.getSelected();if(n){var i=this.sectors,s=this.model.get("component"),l=this.getSelectedParents(),u=n.getStyle(),f=l.map(function(d){return{target:d,style:d.getStyle()}});i.map(function(d){d.getProperties().map(function(v){t.__upProp(v,u,f,e)})}),i.forEach(function(d){var v=d.getProperties();v.forEach(function(y){var b=y.__checkVisibility({target:n,component:s,sectors:i});y.set("visible",b)});var m=v.some(function(y){return y.isVisible()});d.set("visible",m)})}},r.prototype.__upProp=function(e,t,n,i){var s=this,l=e.getName(),u=t[l],f=f1(u),d=e.getType()==="stack",v=e.getType()==="composite",m=ba(ba({},i),{__up:!0}),y=!v&&!d,b=e,w=e,x=d?b.__getLayersFromStyle(t):[],O=v?w.__getPropsFromStyle(t):{},M=f?u:null,T=null;if(d&&x===null||v&&O===null){var E=d?"__getLayersFromStyle":"__getPropsFromStyle",U=n.filter(function(q){return b[E](q.style)!==null})[0];if(U){M=U.style[l],T=U.target;var Z=b[E](U.style);d?x=Z:O=Z}}else if(!f){M=null;var U=n.filter(function(D){return f1(D.style[l])})[0];U&&(M=U.style[l],T=U.target)}if(e.__setParentTarget(T),y&&e.__getFullValue()!==M&&e.upValue(M,m),d&&b.__setLayers(x||[],{isEmptyValue:b.isEmptyValueStyle(t)}),v){var te=w.getProperties();if(w.isDetached()){var ee=w.__getPropsFromStyle(t,{byName:!0})||{},G=n.map(function(q){return ba(ba({},q),{style:w.__getPropsFromStyle(q.style,{byName:!0})||{}})});te.map(function(q){return s.__upProp(q,ee,G,i)})}else w.__setProperties(O||{},m),w.getProperties().map(function(q){return q.__setParentTarget(T)})}},r.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(t){t.reset(),t.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},r}(Vi);const D$=$$;var L$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),qd=function(){return qd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},qd.apply(this,arguments)},j$=function(o){L$(r,o);function r(e,t){t===void 0&&(t={});var n,i=o.call(this,e,t)||this;return i.mutable=(n=e.mutable)!==null&&n!==void 0?n:!0,i.on("change",i.handleChange),i}return Object.defineProperty(r.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),r.prototype.handleChange=function(){var e=this,t=this.changedAttributes();(0,L.keys)(t).forEach(function(n){return e.triggerChange(n)})},r.prototype.getPath=function(e,t){t===void 0&&(t={});var n=this,i=n.dataSource,s=n.id,l=n.index,u=i.id,f=e?".".concat(e):"";return"".concat(u,".").concat(t.useIndex?l:s).concat(f)},r.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},r.prototype.triggerChange=function(e){var t=this,n=t.dataSource,i=t.em,s={dataSource:n,dataRecord:this},l=this.getPaths(e);l.forEach(function(u){return i.trigger("".concat(vl.path,":").concat(u),qd(qd({},s),{path:u}))})},r.prototype.set=function(e,t,n){var i=this,s,l;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var u=(l=(s=this.dataSource)===null||s===void 0?void 0:s.transformers)===null||l===void 0?void 0:l.onRecordSetValue,f=function(x,O,M){M===void 0&&(M={});var T=M!=null&&M.avoidTransformers||!u?O:u({id:i.id,key:x,value:O});o.prototype.set.call(i,x,T,M),o.prototype.set.call(i,{__p:M.partial?!0:void 0},M)};if(typeof e=="object"&&e!==null)for(var d=e,v=0,m=Object.entries(d);v<m.length;v++){var y=m[v],b=y[0],w=y[1];f(b,w,t)}else f(e,t,n);return this},r}(Ge.Kx);const R$=j$;var N$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Cx=function(o){N$(r,o);function r(e,t){var n=o.call(this,e,t)||this;return n.dataSource=t.dataSource,n}return r}(Ge.pM);const d1=Cx;Cx.prototype.model=R$;var F$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kd=function(){return Kd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Kd.apply(this,arguments)},B$=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},H$=function(o){F$(r,o);function r(e,t){var n=o.call(this,Kd(Kd({},e),{records:[]}),t)||this,i=e.records,s=e.transformers;return n.transformers=s||{},i instanceof d1||n.set({records:new d1(i,{dataSource:n})}),n.listenTo(n.records,"add",n.onAdd),n.listenTo(n.records,Ge.e2,n.handleChanges),n}return r.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(r.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),r.prototype.onAdd=function(e){e.triggerChange()},r.prototype.addRecord=function(e,t){return this.records.add(e,t)},r.prototype.getRecord=function(e){return this.records.get(e)},r.prototype.getRecords=function(){var e=this;return B$([],this.records.models,!0).map(function(t){return e.getRecord(t.id)})},r.prototype.removeRecord=function(e,t){var n=this.getRecord(e);if((n==null?void 0:n.mutable)===!1&&!(t!=null&&t.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(e,t)},r.prototype.setRecords=function(e){var t=this;this.records.reset([],{silent:!0}),e.forEach(function(n){t.records.add(n)})},r.prototype.handleChanges=function(e,t,n){this.em.changesUp(n||t)},r}(Ge.Kx);const U$=H$;var z$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gd=function(){return Gd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Gd.apply(this,arguments)},W$=function(o){z$(r,o);function r(e,t){var n=o.call(this,e,t)||this;return n.em=t,n.model=function(i,s){return s===void 0&&(s={}),new U$(i,Gd(Gd({},s),{em:t}))},n}return r}(Ge.pM);const q$=W$;var K$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),G$=function(o){K$(r,o);function r(e){var t=o.call(this,e,"DataSources",new q$([],e),vl)||this;return t.storageKey="dataSources",t.events=vl,Object.assign(t,zf.Events),t}return r.prototype.destroy=function(){},r.prototype.add=function(e,t){t===void 0&&(t={});var n=this.all;return e.id=e.id||this._createId(),n.add(e,t)},r.prototype.get=function(e){return this.all.get(e)},r.prototype.getValue=function(e,t){return(0,Le.get)(this.getContext(),e,t)},r.prototype.getContext=function(){return this.all.reduce(function(e,t){return e[t.id]=t.records.reduce(function(n,i,s){var l=i;return n[l.id||s]=l.attributes,n},{}),e},{})},r.prototype.remove=function(e,t){return this.__remove(e,t)},r.prototype.fromPath=function(e){var t=[],n=(0,Le.stringToPath)(e||""),i=n[0],s=n[1],l=n.slice(2),u=this.get(i),f=u==null?void 0:u.records.get(s);return u&&t.push(u),f&&(t.push(f),l.length&&t.push(l.join("."))),t},r.prototype.store=function(){var e,t=[];return this.all.forEach(function(n){var i=n.get("skipFromStorage");i||t.push({id:n.id,name:n.get("name"),records:n.records.toJSON(),skipFromStorage:i})}),e={},e[this.storageKey]=t,e},r.prototype.load=function(e){return this.loadProjectData(e)},r.prototype.postLoad=function(){var e=this,t=e.em,n=e.all;t.listenTo(n,Ge.e2,function(i,s,l){return t.changesUp(l||s)})},r}(Vi);const Sx=G$;var Z$=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),gn=function(){return gn=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},gn.apply(this,arguments)},ev=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},tv=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},X$=function(o,r){var e={};for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(o);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(o,t[n])&&(e[t[n]]=o[t[n]]);return e},Y$=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))};ZO().$=Xr.default;var J$=[m4,jV,$4,q7,Q3,bT,$3,D$,C3,W4,R7,v7,oI,EM,JM,lP,HM,i3,Sx],Q$=[wV,UA,AV,EA,Sx];XO({$:Xr.default});var p1={debug:console.log,info:console.info,warning:console.warn,error:console.error},e6=function(o){Z$(r,o);function r(e){e===void 0&&(e={});var t=o.call(this)||this;t.Model=Ge.Kx,t.Collection=Ge.pM,t.__skip=!1,t.defaultRunning=!1,t.destroyed=!1,t._config=e;var n=t.config;t.set("Config",e),t.set("modules",[]),t.set("toLoad",[]),t.set("storables",[]),t.set("selected",new QO),t.set("dmode",n.dragMode);var i=n.el,s=n.log,l=s===!0?(0,L.keys)(p1):(0,L.isArray)(s)?s:[];return(0,L.bindAll)(t,"initBaseColorPicker"),i&&n.fromElement&&(n.components=i.innerHTML),t.attrsOrig=i?(0,L.toArray)(i.attributes).reduce(function(u,f){return u[f.nodeName]=f.nodeValue,u},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),J$.forEach(function(u){return t.loadModule(u)}),Q$.forEach(function(u){return t.loadStorableModule(u)}),t.on("change:componentHovered",t.componentHovered,t),t.on("change:changesCount",t.updateChanges,t),t.on("change:readyLoad change:readyCanvas",t._checkReady,t),l.forEach(function(u){return t.listenLog(u)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(u){var f=u.from,d=u.to;t.listenTo(t,f,function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];t.trigger.apply(t,Y$([d],v,!1)),t.logWarning("The event '".concat(f,"' is deprecated, replace it with '").concat(d,"'"))})}),t}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),p1[e])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(e){var t=this.config;return(0,L.isUndefined)(e)?t:t[e]},r.prototype.loadOnStart=function(){var e=this,t=this.config,n=t.projectData,i=t.headless,s={initial:!0},l=this.Storage;this.toLoad.reverse().forEach(function(d){return d.onLoad()});var u=function(){e.modules.forEach(function(d){return d.postLoad&&d.postLoad(e)}),e.set("readyLoad",1)};i?(n&&this.loadData(n,s),u()):this._storageTimeout=setTimeout(function(){return ev(e,void 0,void 0,function(){var d;return tv(this,function(v){switch(v.label){case 0:return n?(this.loadData(n,s),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.load({},s)];case 3:return v.sent(),[3,5];case 4:return d=v.sent(),this.logError(d),[3,5];case 5:return u(),[2]}})})});var f=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});f.set({isShallow:!0}),f.Pages.onLoad(),f.Canvas.postLoad(),this.set("shallow",f)},r.prototype.updateChanges=function(e,t,n){var i=this,s=this.Storage,l=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger(So.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=l?function(){return!0}:null),s.isAutosave()&&l>=s.getStepsBeforeSave()&&this.store().catch(function(u){return i.logError(u)})},r.prototype.loadModule=function(e){var t=new e(this);return this.set(t.name,t),t.onLoad&&this.toLoad.push(t),this.modules.push(t),t},r.prototype.loadStorableModule=function(e){var t=this.loadModule(e);return this.storables.push(t),t},r.prototype.init=function(e,t){t===void 0&&(t={}),this.destroyed&&(this.initialize(t),this.destroyed=!1),this.set("Editor",e)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(e,t,n){var i=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||n.partial||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=i.getDirtyCount()||0;n.unset;var l=X$(n,["unset"]);i.set("changesCount",s+1,l)},0))},r.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},r.prototype.componentHovered=function(e,t,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),t&&this.trigger("component:hovered",t,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(e,t){var n=this;t===void 0&&(t={});var i=t.event,s=i&&(i.ctrlKey||i.metaKey),l=(i||{}).shiftKey,u=((0,L.isArray)(e)?e:[e]).map(function(m){var y,b;return((b=(y=m==null?void 0:m.delegate)===null||y===void 0?void 0:y.select)===null||b===void 0?void 0:b.call(y,m))||m}).filter(Boolean),f=this.getSelectedAll(),d=this.getConfig().multipleSelection,v=(0,L.isArray)(e);(v||!e)&&this.removeSelected(f.filter(function(m){return!(0,L.contains)(u,m)})),u.forEach(function(m){if(m&&(n.trigger(xr.I.selectBefore,m,t),!m.get("selectable")||t.abort))if(t.useValid){for(var y=m.parent();y&&!y.get("selectable");)y=y.parent();m=y}else return;if(s&&d)return n.toggleSelected(m);if(l&&d){n.clearSelection(n.Canvas.getWindow());var b=m.collection,w=m.index(),x,O;if(n.getSelectedAll().forEach(function(M){var T=M.collection,E=M.index();T===b&&(E<w?x=(0,L.isUndefined)(x)?E:Math.max(x,E):E>w&&(O=(0,L.isUndefined)(O)?E:Math.min(O,E)))}),!(0,L.isUndefined)(x))for(;x!==w;)n.addSelected(b.at(x),t),x++;if(!(0,L.isUndefined)(O))for(;O!==w;)n.addSelected(b.at(O),t),O--;return n.addSelected(m,t)}!v&&n.removeSelected(f.filter(function(M){return M!==m})),n.addSelected(m,t)})},r.prototype.addSelected=function(e,t){var n=this;t===void 0&&(t={});var i=(0,L.isArray)(e)?e:[e];i.forEach(function(s){var l=n.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(f){return l.hasComponent(f)}))){t.forceChange&&n.removeSelected(s,t);var u=l.allComponents().filter(function(f){return(0,L.contains)(f.parents(),s)});u.forEach(function(f){return n.removeSelected(f,t)}),l.addComponent(s,t),n.trigger(xr.I.select,s,t),n.Canvas.addSpot({type:Oo.F.Select,component:s})}})},r.prototype.removeSelected=function(e,t){var n=this;t===void 0&&(t={}),this.selected.removeComponent(e,t);var i=(0,L.isArray)(e)?e:[e];i.forEach(function(s){return n.Canvas.removeSpots({type:Oo.F.Select,component:s})})},r.prototype.toggleSelected=function(e,t){var n=this;t===void 0&&(t={});var i=(0,L.isArray)(e)?e:[e];i.forEach(function(s){n.selected.hasComponent(s)?n.removeSelected(s,t):n.addSelected(s,t)})},r.prototype.setHovered=function(e,t){var n=this;t===void 0&&(t={});var i=function(u,f){var d=n,v=d.config,m=d.Canvas,y=n.getHovered(),b=n.getSelectedAll(),w=Oo.F.Hover,x=Oo.F.Spacing;n.set("componentHovered",u||null,f),y&&(m.removeSpots({type:w,component:y}),m.removeSpots({type:x,component:y})),u&&(m.addSpot({type:w,component:u}),(!b.includes(u)||v.showOffsetsSelected)&&m.addSpot({type:x,component:u}))};if(!e)return i();var s="component:hover";if(t.forceChange&&i(),this.trigger("".concat(s,":before"),e,t),!e.get("hoverable"))if(t.useValid&&!t.abort){for(var l=e.parent();l&&!l.get("hoverable");)l=l.parent();e=l}else return;t.abort||(i(e,t),this.trigger(s,e,t))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(e,t){return t===void 0&&(t={}),this.Components.setComponents(e,t)},r.prototype.getComponents=function(){var e=this.Components,t=this.CodeManager;if(!(!e||!t)){var n=e.getComponents();return t.getCode(n,"json")}},r.prototype.setStyle=function(e,t){t===void 0&&(t={});var n=this.Css;return n.clear(t),n.getAll().add(e,t),this},r.prototype.addStyle=function(e,t){t===void 0&&(t={});var n=this.getStyle().add(e,t);return(0,L.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(e){return this.set("state",e),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(e){e===void 0&&(e={});var t=this.config,n=t.optsHtml,i=t.jsInHtml?this.getJs(e):"",s=e.component||this.Components.getComponent(),l=s?this.CodeManager.getCode(s,"html",gn(gn({},n),e)):"";return l+=i?"<script>".concat(i,"<\/script>"):"",l},r.prototype.getCss=function(e){e===void 0&&(e={});var t=this.config,n=t.optsCss,i=e.avoidProtected,s=(0,L.isUndefined)(e.keepUnusedStyles)?t.keepUnusedStyles:e.keepUnusedStyles,l=this.Css,u=e.component||this.Components.getComponent(),f=i?"":t.protectedCss,d=u&&this.CodeManager.getCode(u,"css",gn(gn({cssc:l,keepUnusedStyles:s},n),e));return u?e.json?d:f+d:""},r.prototype.getJs=function(e){e===void 0&&(e={});var t=e.component||this.Components.getWrapper();return t?this.CodeManager.getCode(t,"js").trim():""},r.prototype.store=function(e){return ev(this,void 0,void 0,function(){var t;return tv(this,function(n){switch(n.label){case 0:return t=this.storeData(),[4,this.Storage.store(t,e)];case 1:return n.sent(),this.clearDirtyCount(),[2,t]}})})},r.prototype.load=function(e){return ev(this,arguments,void 0,function(t,n){var i;return n===void 0&&(n={}),tv(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(t)];case 1:return i=s.sent(),this.loadData(i,n),[4,(0,Le.wait)()];case 2:return s.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},r.prototype.storeData=function(){var e={},t=this.getEditing();return t&&t.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){e=gn(gn({},e),n.store(1))}),JSON.parse(JSON.stringify(e))},r.prototype.loadData=function(e,t){e===void 0&&(e={}),t===void 0&&(t={});var n=!1;return(0,Le.isEmptyObj)(e)||(this.storables.forEach(function(i){return i.clear()}),this.storables.forEach(function(i){return i.load(e)}),n=!0),this.trigger(So.projectLoad,{project:e,loaded:n,initial:!!t.initial}),e},r.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},r.prototype.runDefault=function(e){e===void 0&&(e={});var t=this.get("Commands").get(this.config.defaultCommand);!t||this.defaultRunning||(t.stop(this,this,e),t.run(this,this,e),this.defaultRunning=!0)},r.prototype.stopDefault=function(e){e===void 0&&(e={});var t=this.get("Commands");if(t){var n=t.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,e),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},r.prototype.clearSelection=function(e){var t,n=e||window;(t=n.getSelection())===null||t===void 0||t.removeAllRanges()},r.prototype.getCurrentMedia=function(){var e=this.config,t=this.getDeviceModel(),n=e.mediaCondition,i=e.devicePreviewMode,s=t&&t.get("widthMedia");return t&&s&&!i?"(".concat(n,": ").concat(s,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},r.prototype.getIcon=function(e){var t=this.config.icons||{};return t[e]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(e){return this.set("dmode",e)},r.prototype.getDragMode=function(e){var t=(e==null?void 0:e.getDragMode())||this.get("dmode");return t||""},r.prototype.t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,e)},r.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},r.prototype.destroyAll=function(){var e=this,t=this,n=t.config,i=t.view;this.trigger(So.destroy);var s=this.getEditor(),l=(n.grapesjs||{}).editors,u=l===void 0?[]:l,f=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),f==null||f.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(d){return d.destroy()}),i!=null&&i.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(d){return e[d]={}}),u.splice(u.indexOf(s),1),(0,Le.hasWin)()&&(0,Xr.default)(n.el).empty().attr(this.attrsOrig),this.trigger(So.destroyed)},r.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},r.prototype.setEditing=function(e){return this.set("editing",e),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(e,t){t===void 0&&(t={});var n=So.log,i=t.ns,s=t.level,l=s===void 0?"debug":s;if(this.trigger(n,e,t),l&&this.trigger("".concat(n,":").concat(l),e,t),i){var u="".concat(n,"-").concat(i);this.trigger(u,e,t),l&&this.trigger("".concat(u,":").concat(l),e,t)}},r.prototype.logInfo=function(e,t){this.log(e,gn(gn({},t),{level:"info"}))},r.prototype.logWarning=function(e,t){this.log(e,gn(gn({},t),{level:"warning"}))},r.prototype.logError=function(e,t){this.log(e,gn(gn({},t),{level:"error"}))},r.prototype.initBaseColorPicker=function(e,t){t===void 0&&(t={});var n=this.config,i=n.colorPicker,s=i===void 0?{}:i,l=n.el,u=n.stylePrefix;return(0,Xr.default)(e).spectrum(gn(gn({containerClassName:"".concat(u,"one-bg ").concat(u,"two-color"),appendTo:l||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},t),s))},r.prototype.skip=function(e){this.__skip=!0;var t=this.UndoManager;t?t.skip(e):e(),this.__skip=!1},r.prototype.data=function(e,t,n){var i="_gjs-data";if(e[i]||(e[i]={}),(0,L.isUndefined)(n))return e[i][t];e[i][t]=n},r}(Ge.Kx);const t6=e6;function r6(){return window.location.hostname}var n6=function(){var o=function(r,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},o(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),o6=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},i6=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},a6=function(o){n6(r,o);function r(e){var t=o.call(this,{model:e})||this,n=e.Panels,i=e.UndoManager;return e.view=t,e.once("change:ready",function(){n.active(),n.disableButtons(),i.clear(),e.getConfig().telemetry&&t.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(So.load,e.Editor),e.clearDirtyCount()})}),t}return r.prototype.render=function(){var e=this,t=this,n=t.$el,i=t.model,s=i.Panels,l=i.Canvas,u=i.config,f=i.modules,d=u.stylePrefix,v=["".concat(d,"editor")];!u.customUI&&v.push("".concat(d,"one-bg ").concat(d,"two-color"));var m=(0,Xr.default)(u.el||"body ".concat(u.container));u.cssIcons&&(0,Le.appendStyles)(u.cssIcons,{unique:!0,prepand:!0}),n.empty(),u.width&&m.css("width",u.width),u.height&&m.css("height",u.height),n.append(l.render()),n.append(s.render());var y=i.shallow,b=y.Canvas.render();return b.style.display="none",n.append(b),n.attr("class",v.join(" ")),m.addClass("".concat(d,"editor-cont")).empty().append(n),f.forEach(function(w){var x;return(x=w.postRender)===null||x===void 0?void 0:x.call(w,e)}),this},r.prototype.sendTelemetryData=function(){return o6(this,void 0,void 0,function(){var e,t,n,i,s,l,u,f;return i6(this,function(d){switch(d.label){case 0:return e=r6(),e==="localhost"||e.includes("localhost")?[2]:(t="gjs_telemetry_sent_",n=this.model.version,i="".concat(t).concat(n),sessionStorage.getItem(i)?[2]:(s="https://app.grapesjs.com",[4,fetch("".concat(s,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:n})})]));case 1:return l=d.sent(),l.ok?[3,3]:(u=Error.bind,f="Failed to send telemetry data ".concat,[4,l.text()]);case 2:throw new(u.apply(Error,[void 0,f.apply("Failed to send telemetry data ",[d.sent()])]));case 3:return sessionStorage.setItem(i,"true"),Object.keys(sessionStorage).forEach(function(v){v.startsWith(t)&&v!==i&&sessionStorage.removeItem(v)}),this.trigger(So.telemetryInit),[2]}})})},r}(Ge.Ss);const s6=a6;var eu=function(){return eu=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},eu.apply(this,arguments)},h1=function(o,r,e,t){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function l(d){try{f(t.next(d))}catch(v){s(v)}}function u(d){try{f(t.throw(d))}catch(v){s(v)}}function f(d){d.done?i(d.value):n(d.value).then(l,u)}f((t=t.apply(o,r||[])).next())})},v1=function(o,r){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,n,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(d){return u([f,d])}}function u(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(e=0)),e;)try{if(t=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,n=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){e.label=f[1];break}if(f[0]===6&&e.label<i[1]){e.label=i[1],i=f;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(f);break}i[2]&&e.ops.pop(),e.trys.pop();continue}f=r.call(o,e)}catch(d){f=[6,d],n=0}finally{t=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},l6=function(o,r,e){if(e||arguments.length===2)for(var t=0,n=r.length,i;t<n;t++)(i||!(t in r))&&(i||(i=Array.prototype.slice.call(r,0,t)),i[t]=r[t]);return o.concat(i||Array.prototype.slice.call(r))},c6=function(){function o(r,e){r===void 0&&(r={}),e===void 0&&(e={});var t;this.events=So,this.html=Kn;var n=GO();this.config=eu(eu(eu({},n),r),{pStylePrefix:(t=r.stylePrefix)!==null&&t!==void 0?t:n.stylePrefix}),this.em=new t6(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return this.em.getConfig(r)},o.prototype.getHtml=function(r){return this.em.getHtml(r)},o.prototype.getCss=function(r){return this.em.getCss(r)},o.prototype.getJs=function(r){return this.em.getJs(r)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(r,e){return e===void 0&&(e={}),this.em.setComponents(r,e),this},o.prototype.addComponents=function(r,e){return this.getWrapper().append(r,e)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(r,e){return e===void 0&&(e={}),this.em.setStyle(r,e),this},o.prototype.addStyle=function(r,e){return e===void 0&&(e={}),this.em.addStyle(r,e)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},o.prototype.select=function(r,e){return this.em.setSelected(r,e),this},o.prototype.selectAdd=function(r){return this.em.addSelected(r),this},o.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},o.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(r){return this.em.set("device",r),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(r,e){return e===void 0&&(e={}),this.Commands.run(r,e)},o.prototype.stopCommand=function(r,e){return e===void 0&&(e={}),this.Commands.stop(r,e)},o.prototype.store=function(r){return h1(this,void 0,void 0,function(){return v1(this,function(e){switch(e.label){case 0:return[4,this.em.store(r)];case 1:return[2,e.sent()]}})})},o.prototype.load=function(r){return h1(this,arguments,void 0,function(e,t){return t===void 0&&(t={}),v1(this,function(n){switch(n.label){case 0:return[4,this.em.load(e,t)];case 1:return[2,n.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(r){return this.em.loadData(r)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(r){return this.em.loadData(r)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(r){this.em.refreshCanvas(r)},o.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},o.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},o.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},o.prototype.log=function(r,e){return e===void 0&&(e={}),this.em.log(r,e),this},o.prototype.t=function(){for(var r,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(r=this.em).t.apply(r,e)},o.prototype.on=function(r,e){return this.em.on(r,e),this},o.prototype.once=function(r,e){return this.em.once(r,e),this},o.prototype.off=function(r,e){return this.em.off(r,e),this},o.prototype.trigger=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return this.em.trigger.apply(this.em,l6([r],e,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new s6(this.em),this.editorView.render().el},o.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},o}();const u6=c6;var f6=function(o,r){var e=r.get(o);if(!e){var t=(0,Le.getGlobal)()[o];e=(t==null?void 0:t.default)||t}return e},Ox=function(o,r){return(0,L.isString)(o)?f6(o,r):(o==null?void 0:o.default)||o},Tx=function(o,r){o.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},d6=function(){function o(){this.plugins={}}return o.prototype.add=function(r,e){var t=this.get(r);return t||(this.plugins[r]=e,e)},o.prototype.get=function(r){return this.plugins[r]},o.prototype.getAll=function(){return this.plugins},o}();const p6=d6,h6=function(){var o=function(){for(var e,t=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length;i++){var s=n[i];if(e=s[1].exec(t),e)break}return!!e};if((0,Le.hasWin)()&&o()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),r.apply(document.implementation,[e])}}};var Zd=function(){return Zd=Object.assign||function(o){for(var r,e=1,t=arguments.length;e<t;e++){r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zd.apply(this,arguments)};h6();var fg=new p6,g1=[],Ex=function(o,r){var e=Ox(o,fg);return function(t){e?e(t,r||{}):Tx(t,o)}},Px={$:Xr.default,editors:g1,plugins:fg,usePlugin:Ex,version:"0.22.5",init:function(o){o===void 0&&(o={});var r=o.headless,e=o.container;if(!e&&!r)throw new Error("'container' is required");var t=Zd(Zd({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:r?void 0:(0,L.isElement)(e)?e:document.querySelector(e)}),n=new u6(t,{$:Xr.default}),i=n.getModel();return t.plugins.forEach(function(s){var l=Ox(s,fg),u=t.pluginsOpts[s]||{};l?l(n,u):Tx(n,s)}),i.loadOnStart(),t.autorender&&!r&&n.render(),g1.push(n),n}};const v6=Px;var g6=cp.Ay;cp.I0;cp.nu;var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eo(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var m6={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(o,r){(function(e,t){o.exports=t()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:ri,()=>(()=>{var e={d:(l,u)=>{for(var f in u)e.o(u,f)&&!e.o(l,f)&&Object.defineProperty(l,f,{enumerable:!0,get:u[f]})},o:(l,u)=>Object.prototype.hasOwnProperty.call(l,u),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>s});var n=function(){return n=Object.assign||function(l){for(var u,f=1,d=arguments.length;f<d;f++)for(var v in u=arguments[f])Object.prototype.hasOwnProperty.call(u,v)&&(l[v]=u[v]);return l},n.apply(this,arguments)},i=function(){return i=Object.assign||function(l){for(var u,f=1,d=arguments.length;f<d;f++)for(var v in u=arguments[f])Object.prototype.hasOwnProperty.call(u,v)&&(l[v]=u[v]);return l},i.apply(this,arguments)};const s=function(l,u){u===void 0&&(u={}),function(f,d){var v=f.BlockManager,m=d.category,y=d.blocks,b=d.stylePrefix,w=d.flexGrid,x=d.rowHeight,O=d.addBasicStyle,M="".concat(b,"row"),T="".concat(b,"cell"),E=w?`
    .`.concat(M,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(M,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(M,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(b,"cell, .").concat(b,"cell30, .").concat(b,`cell70 {
        width: 100%;
        display: block;
      }
    }`),U=w?`
    .`.concat(T,` {
      min-height: `).concat(x,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(T,` {
      width: 8%;
      display: table-cell;
      height: `).concat(x,`px;
    }`),Z=`
  .`.concat(b,`cell30 {
    width: 30%;
  }`),te=`
  .`.concat(b,`cell70 {
    width: 70%;
  }`),ee=1,G={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:ee},q=n(n({},G),{cr:1,bc:0,currentUnit:1,minDim:ee,step:.2});w&&(q.keyWidth="flex-basis");var D={class:M,"data-gjs-droppable":".".concat(T),"data-gjs-resizable":G,"data-gjs-name":"Row"},$={class:T,"data-gjs-draggable":".".concat(M),"data-gjs-resizable":q,"data-gjs-name":"Cell"};w&&($["data-gjs-unstylable"]=["width"],$["data-gjs-stylable-require"]=["flex-basis"]);var B=[".".concat(M),".".concat(T)];f.on("selector:add",function(Ve){return B.indexOf(Ve.getFullName())>=0&&Ve.set("private",1)});var W=function(Ve){var le=[];for(var N in Ve){var xe=Ve[N];xe=xe instanceof Array||xe instanceof Object?JSON.stringify(xe):xe,le.push("".concat(N,"=").concat("'".concat(xe,"'")))}return le.length?" ".concat(le.join(" ")):""},X=function(Ve){return y.indexOf(Ve)>=0},V=W(D),_e=W($),ue={category:m,select:!0};X("column1")&&v.add("column1",n(n({},ue),{label:d.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(V,`>
        <div `).concat(_e,`></div>
      </div>
      `).concat(O?`<style>
          `.concat(E,`
          `).concat(U,`
        </style>`):"")})),X("column2")&&v.add("column2",n(n({},ue),{label:d.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(V,`>
        <div `).concat(_e,`></div>
        <div `).concat(_e,`></div>
      </div>
      `).concat(O?`<style>
          `.concat(E,`
          `).concat(U,`
        </style>`):"")})),X("column3")&&v.add("column3",n(n({},ue),{label:d.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(V,`>
        <div `).concat(_e,`></div>
        <div `).concat(_e,`></div>
        <div `).concat(_e,`></div>
      </div>
      `).concat(O?`<style>
          `.concat(E,`
          `).concat(U,`
        </style>`):"")})),X("column3-7")&&v.add("column3-7",n(n({},ue),{label:d.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(V,`>
        <div `).concat(_e," style='").concat(w?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(_e," style='").concat(w?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(O?`<style>
          `.concat(E,`
          `).concat(U,`
          `).concat(Z,`
          `).concat(te,`
        </style>`):"")})),X("text")&&v.add("text",n(n({},ue),{activate:!0,label:d.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),X("link")&&v.add("link",n(n({},ue),{label:d.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),X("image")&&v.add("image",n(n({},ue),{activate:!0,label:d.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),X("video")&&v.add("video",n(n({},ue),{label:d.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),X("map")&&v.add("map",n(n({},ue),{label:d.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(l,i({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},u))};return t})())})(m6);var y6={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(o,r){(function(e,t){o.exports=t()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:ri,()=>(()=>{var e={d:(x,O)=>{for(var M in O)e.o(O,M)&&!e.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:O[M]})},o:(x,O)=>Object.prototype.hasOwnProperty.call(x,O),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>w});var n="form",i="input",s="textarea",l="select",u="checkbox",f="radio",d="button",v="label",m="option",y=function(){return y=Object.assign||function(x){for(var O,M=1,T=arguments.length;M<T;M++)for(var E in O=arguments[M])Object.prototype.hasOwnProperty.call(O,E)&&(x[E]=O[E]);return x},y.apply(this,arguments)},b=function(){return b=Object.assign||function(x){for(var O,M=1,T=arguments.length;M<T;M++)for(var E in O=arguments[M])Object.prototype.hasOwnProperty.call(O,E)&&(x[E]=O[E]);return x},b.apply(this,arguments)};const w=function(x,O){O===void 0&&(O={});var M=b({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},O);(function(T){var E=T.Components,U={name:"name"},Z={name:"placeholder"},te={type:"checkbox",name:"required"},ee=function(q,D){return{type:m,content:D,attributes:{value:q}}},G=function(q){T.Commands.isActive("preview")||q.preventDefault()};E.addType(n,{isComponent:function(q){return q.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(q){return q.preventDefault()}}}}),E.addType(i,{isComponent:function(q){return q.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[U,Z,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},te]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),E.addType(s,{extend:i,isComponent:function(q){return q.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[U,Z,te]}}}),E.addType(m,{isComponent:function(q){return q.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),E.addType(l,{isComponent:function(q){return q.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[ee("opt1","Option 1"),ee("opt2","Option 2")],traits:[U,{name:"options",type:"select-options"},te]}},view:{events:{mousedown:G}}}),E.addType(u,{extend:i,isComponent:function(q){return q.tagName=="INPUT"&&q.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},U,{name:"value"},te,{type:"checkbox",name:"checked"}]}},view:{events:{click:G},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var q;this.el.checked=!!(!((q=this.model.get("attributes"))===null||q===void 0)&&q.checked)}}}),E.addType(f,{extend:u,isComponent:function(q){return q.tagName=="INPUT"&&q.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),E.addType(d,{extend:i,isComponent:function(q){return q.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var q=this.components(),D=q.length===1&&q.models[0],$=D&&D.is("textnode")&&D.get("content")||"",B=$||this.get("text");this.set("text",B),this.on("change:text",this.__onTextChange),B!==$&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:G}}}),E.addType(v,{extend:"text",isComponent:function(q){return q.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(x),function(T){T.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var E,U=this.model,Z=this.target,te=U.get("value").trim().split(`
`),ee=[],G=0;G<te.length;G++){var q=te[G].split("::");ee.push({type:m,components:q[1]||q[0],attributes:{value:q[0]}})}Z.components().reset(ee),(E=Z.view)===null||E===void 0||E.render()},getInputEl:function(){if(!this.$input){for(var E=[],U=this.target.components(),Z=0;Z<U.length;Z++){var te=U.models[Z],ee=te.get("attributes"),G=(ee==null?void 0:ee.value)||"",q=te.components().models[0],D=q&&q.get("content")||"";E.push("".concat(G,"::").concat(D))}var $=document.createElement("textarea");$.value=E.join(`
`),this.$input=$}return this.$input}})}(x),function(T,E){var U=E,Z=T.BlockManager,te=function(ee,G){var q;((q=U.blocks)===null||q===void 0?void 0:q.indexOf(ee))>=0&&Z.add(ee,y(y(y({},G),{category:U.category,select:!0}),E.block(ee)))};te(n,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:n,components:[{components:[{type:v,components:"Name"},{type:i}]},{components:[{type:v,components:"Email"},{type:i,attributes:{type:"email"}}]},{components:[{type:v,components:"Gender"},{type:u,attributes:{value:"M"}},{type:v,components:"M"},{type:u,attributes:{value:"F"}},{type:v,components:"F"}]},{components:[{type:v,components:"Message"},{type:s}]},{components:[{type:d}]}]}}),te(i,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:i}}),te(s,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:s}}),te(l,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:l}}),te(d,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:d}}),te(v,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:v}}),te(u,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:u}}),te(f,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:f}})}(x,M)};return t})())})(y6);/*! js-cookie v3.0.5 | MIT */function df(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)o[t]=e[t]}return o}var _6={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function dg(o,r){function e(n,i,s){if(!(typeof document>"u")){s=df({},r,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var u in s)s[u]&&(l+="; "+u,s[u]!==!0&&(l+="="+s[u].split(";")[0]));return document.cookie=n+"="+o.write(i,n)+l}}function t(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var i=document.cookie?document.cookie.split("; "):[],s={},l=0;l<i.length;l++){var u=i[l].split("="),f=u.slice(1).join("=");try{var d=decodeURIComponent(u[0]);if(s[d]=o.read(f,d),n===d)break}catch{}}return n?s[n]:s}}return Object.create({set:e,get:t,remove:function(n,i){e(n,"",df({},i,{expires:-1}))},withAttributes:function(n){return dg(this.converter,df({},this.attributes,n))},withConverter:function(n){return dg(df({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(o)}})}var b6=dg(_6,{path:"/"});const bl=(o,r)=>{const e=o.__vccOpts||o;for(const[t,n]of r)e[t]=n;return e},m1=Vue.setBlockTracking,y1=Vue.createElementVNode,w6=Vue.openBlock,x6=Vue.createElementBlock,C6={class:"builder-container"},S6=Vue.ref,O6=Vue.onMounted;Vue.onBeforeUnmount;const T6=_app_.router.useRoute;_app_.router.useRouter;const E6={__name:"GrapesJSEditor",props:{pageId:{type:String}},setup(o){let r=null;const e=S6(null),t=T6(),n=(l,u,f)=>{const d=b6.get("XSRF-TOKEN");if(!d){console.error("CSRF token is missing!");return}r=g6.init({container:"#gjs",fromElement:!0,storageManager:!1,autorender:!1,assetManager:{upload:"/api/saas/upload-image",uploadName:"image",autoAdd:!0,headers:{"X-Xsrf-token":d},handleUpload:m=>m.urls?m.urls.map(y=>({src:y,type:"image"})):[],assets:[]},canvas:{styles:l||[],scripts:u||[]},allowScripts:1}),r.on("load",()=>{const m=r.Canvas.getWindow();if(m){const y=new Event("load");m.dispatchEvent(y)}else console.warn("Canvas window not accessible")}),r.on("asset:add",m=>{console.log("New asset added:",m)});const v=r.BlockManager;v.add("header",{label:"Header",category:"Basic",content:'<header style="padding: 20px; background: #f0f0f0; text-align: center;">Welcome to My Website</header>'}),v.add("button",{label:"Button",category:"Basic",content:'<button style="padding: 10px 20px; background: #007bff; color: #fff; border: none; border-radius: 5px;">Click Me</button>'}),v.add("image",{id:"image",label:"Image",media:`<svg style="width:24px;height:24px" viewBox="0 0 24 24">
         <path d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z" />
     </svg>`,content:{type:"image",src:""},activate:!0}),v.add("text",{label:"Text",category:"Basic",content:'<p style="font-size: 16px; color: #333;">This is a sample text block. You can edit it!</p>'}),v.add("footer",{label:"Footer",category:"Basic",content:'<footer style="padding: 20px; background: #333; color: #fff; text-align: center;"> 2023 My Company</footer>'}),v.add("input",{label:"Input",category:"Forms",content:'<input type="text" placeholder="Enter text" style="padding: 10px; width: 100%;">'}),v.add("textarea",{label:"Textarea",category:"Forms",content:'<textarea placeholder="Enter text" style="padding: 10px; width: 100%;"></textarea>'}),v.add("select",{label:"Select",category:"Forms",content:'<select style="padding: 10px; width: 100%;"><option value="1">Option 1</option><option value="2">Option 2</option></select>'}),v.add("checkbox",{label:"Checkbox",category:"Forms",content:'<input type="checkbox" style="margin-right: 10px;"> Checkbox'}),v.add("radio",{label:"Radio",category:"Forms",content:'<input type="radio" style="margin-right: 10px;"> Radio'}),v.add("video",{label:"Video",category:"Extras",content:'<iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>'}),v.add("map",{label:"Map",category:"Extras",content:'<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.8354345093747!2d144.9537353153166!3d-37.816279742021665!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642af0f11fd81%3A0xf577d8a32f7f8c8!2sMelbourne%20VIC%2C%20Australia!5e0!3m2!1sen!2sus!4v1625061234567!5m2!1sen!2sus" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>'}),v.add("icon",{label:"Icon",category:"Extras",content:'<i class="fa fa-star" style="font-size: 24px; color: gold;"></i>'}),f||r.setComponents(`
        <header style="padding: 20px; background: #0073e6; color: white; text-align: center; font-size: 24px; font-weight: bold;">
            My Awesome Website
        </header>
        <nav style="background: #005bb5; padding: 10px; text-align: center;">
            <a href="#" style="color: white; text-decoration: none; margin: 0 15px;">Home</a>
            <a href="#" style="color: white; text-decoration: none; margin: 0 15px;">About</a>
            <a href="#" style="color: white; text-decoration: none; margin: 0 15px;">Contact</a>
        </nav>
        <div style="padding: 40px; text-align: center;">
            <h1 style="color: #333;">Welcome to My Website</h1>
            <p style="color: #666; max-width: 600px; margin: auto;">
                This is your starting template. You can edit any part of this page using the drag-and-drop editor.
            </p>
            <button style="padding: 10px 20px; background: #0073e6; color: white; border: none; margin-top: 20px; cursor: pointer;">
                Get Started
            </button>
        </div>
        <section style="background: #f8f8f8; padding: 40px; text-align: center;">
            <h2 style="color: #333;">Features</h2>
            <p style="color: #666; max-width: 600px; margin: auto;">
                Add custom blocks, styles, and elements to build the perfect page.
            </p>
        </section>
        <footer style="padding: 20px; background: #333; color: white; text-align: center;">
            &copy; 2025 My Company. All rights reserved.
        </footer>
    `)},i=async()=>{try{const l=await ar.get(`/api/saas/pages/${t.params.id}`),u=l.data.html,f=l.data.inline_css,d=l.data.external_css,v=l.data.external_scripts;if(document.getElementById("gjs").innerHTML=u,n(d,v,u),r.setStyle(f),r.render(),!u)return}catch(l){console.error("Error loading page:",l)}},s=async()=>{if(!t.params.id)return;const l=r.getHtml(),u=r.getCss();try{await ar.put(`/api/saas/pages/${t.params.id}`,{name:e.value,html:l,css:u,status:"draft"})}catch(f){console.error("Error saving page:",f)}};return O6(async()=>{await i()}),(l,u)=>(w6(),x6("div",C6,[u[0]||(m1(-1,!0),(u[0]=y1("div",{id:"gjs"})).cacheIndex=0,m1(1),u[0]),y1("button",{onClick:s,class:"save-button"}," Save Template")]))}},_1=bl(E6,[["__scopeId","data-v-a5333cf5"]]);function P6(){this.__data__=[],this.size=0}var k6=P6;function A6(o,r){return o===r||o!==o&&r!==r}var du=A6,M6=du;function V6(o,r){for(var e=o.length;e--;)if(M6(o[e][0],r))return e;return-1}var vp=V6,I6=vp,$6=Array.prototype,D6=$6.splice;function L6(o){var r=this.__data__,e=I6(r,o);if(e<0)return!1;var t=r.length-1;return e==t?r.pop():D6.call(r,e,1),--this.size,!0}var j6=L6,R6=vp;function N6(o){var r=this.__data__,e=R6(r,o);return e<0?void 0:r[e][1]}var F6=N6,B6=vp;function H6(o){return B6(this.__data__,o)>-1}var U6=H6,z6=vp;function W6(o,r){var e=this.__data__,t=z6(e,o);return t<0?(++this.size,e.push([o,r])):e[t][1]=r,this}var q6=W6,K6=k6,G6=j6,Z6=F6,X6=U6,Y6=q6;function wl(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}wl.prototype.clear=K6;wl.prototype.delete=G6;wl.prototype.get=Z6;wl.prototype.has=X6;wl.prototype.set=Y6;var gp=wl,J6=gp;function Q6(){this.__data__=new J6,this.size=0}var e8=Q6;function t8(o){var r=this.__data__,e=r.delete(o);return this.size=r.size,e}var r8=t8;function n8(o){return this.__data__.get(o)}var o8=n8;function i8(o){return this.__data__.has(o)}var a8=i8,s8=typeof ri=="object"&&ri&&ri.Object===Object&&ri,kx=s8,l8=kx,c8=typeof self=="object"&&self&&self.Object===Object&&self,u8=l8||c8||Function("return this")(),Ho=u8,f8=Ho,d8=f8.Symbol,xl=d8,b1=xl,Ax=Object.prototype,p8=Ax.hasOwnProperty,h8=Ax.toString,yc=b1?b1.toStringTag:void 0;function v8(o){var r=p8.call(o,yc),e=o[yc];try{o[yc]=void 0;var t=!0}catch{}var n=h8.call(o);return t&&(r?o[yc]=e:delete o[yc]),n}var g8=v8,m8=Object.prototype,y8=m8.toString;function _8(o){return y8.call(o)}var b8=_8,w1=xl,w8=g8,x8=b8,C8="[object Null]",S8="[object Undefined]",x1=w1?w1.toStringTag:void 0;function O8(o){return o==null?o===void 0?S8:C8:x1&&x1 in Object(o)?w8(o):x8(o)}var Cl=O8;function T8(o){var r=typeof o;return o!=null&&(r=="object"||r=="function")}var Po=T8;const Mx=Eo(Po);var E8=Cl,P8=Po,k8="[object AsyncFunction]",A8="[object Function]",M8="[object GeneratorFunction]",V8="[object Proxy]";function I8(o){if(!P8(o))return!1;var r=E8(o);return r==A8||r==M8||r==k8||r==V8}var qg=I8,$8=Ho,D8=$8["__core-js_shared__"],L8=D8,rv=L8,C1=function(){var o=/[^.]+$/.exec(rv&&rv.keys&&rv.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function j8(o){return!!C1&&C1 in o}var R8=j8,N8=Function.prototype,F8=N8.toString;function B8(o){if(o!=null){try{return F8.call(o)}catch{}try{return o+""}catch{}}return""}var Vx=B8,H8=qg,U8=R8,z8=Po,W8=Vx,q8=/[\\^$.*+?()[\]{}|]/g,K8=/^\[object .+?Constructor\]$/,G8=Function.prototype,Z8=Object.prototype,X8=G8.toString,Y8=Z8.hasOwnProperty,J8=RegExp("^"+X8.call(Y8).replace(q8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q8(o){if(!z8(o)||U8(o))return!1;var r=H8(o)?J8:K8;return r.test(W8(o))}var eD=Q8;function tD(o,r){return o==null?void 0:o[r]}var rD=tD,nD=eD,oD=rD;function iD(o,r){var e=oD(o,r);return nD(e)?e:void 0}var ps=iD,aD=ps,sD=Ho,lD=aD(sD,"Map"),Kg=lD,cD=ps,uD=cD(Object,"create"),mp=uD,S1=mp;function fD(){this.__data__=S1?S1(null):{},this.size=0}var dD=fD;function pD(o){var r=this.has(o)&&delete this.__data__[o];return this.size-=r?1:0,r}var hD=pD,vD=mp,gD="__lodash_hash_undefined__",mD=Object.prototype,yD=mD.hasOwnProperty;function _D(o){var r=this.__data__;if(vD){var e=r[o];return e===gD?void 0:e}return yD.call(r,o)?r[o]:void 0}var bD=_D,wD=mp,xD=Object.prototype,CD=xD.hasOwnProperty;function SD(o){var r=this.__data__;return wD?r[o]!==void 0:CD.call(r,o)}var OD=SD,TD=mp,ED="__lodash_hash_undefined__";function PD(o,r){var e=this.__data__;return this.size+=this.has(o)?0:1,e[o]=TD&&r===void 0?ED:r,this}var kD=PD,AD=dD,MD=hD,VD=bD,ID=OD,$D=kD;function Sl(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}Sl.prototype.clear=AD;Sl.prototype.delete=MD;Sl.prototype.get=VD;Sl.prototype.has=ID;Sl.prototype.set=$D;var DD=Sl,O1=DD,LD=gp,jD=Kg;function RD(){this.size=0,this.__data__={hash:new O1,map:new(jD||LD),string:new O1}}var ND=RD;function FD(o){var r=typeof o;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?o!=="__proto__":o===null}var BD=FD,HD=BD;function UD(o,r){var e=o.__data__;return HD(r)?e[typeof r=="string"?"string":"hash"]:e.map}var yp=UD,zD=yp;function WD(o){var r=zD(this,o).delete(o);return this.size-=r?1:0,r}var qD=WD,KD=yp;function GD(o){return KD(this,o).get(o)}var ZD=GD,XD=yp;function YD(o){return XD(this,o).has(o)}var JD=YD,QD=yp;function eL(o,r){var e=QD(this,o),t=e.size;return e.set(o,r),this.size+=e.size==t?0:1,this}var tL=eL,rL=ND,nL=qD,oL=ZD,iL=JD,aL=tL;function Ol(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}Ol.prototype.clear=rL;Ol.prototype.delete=nL;Ol.prototype.get=oL;Ol.prototype.has=iL;Ol.prototype.set=aL;var Gg=Ol,sL=gp,lL=Kg,cL=Gg,uL=200;function fL(o,r){var e=this.__data__;if(e instanceof sL){var t=e.__data__;if(!lL||t.length<uL-1)return t.push([o,r]),this.size=++e.size,this;e=this.__data__=new cL(t)}return e.set(o,r),this.size=e.size,this}var dL=fL,pL=gp,hL=e8,vL=r8,gL=o8,mL=a8,yL=dL;function Tl(o){var r=this.__data__=new pL(o);this.size=r.size}Tl.prototype.clear=hL;Tl.prototype.delete=vL;Tl.prototype.get=gL;Tl.prototype.has=mL;Tl.prototype.set=yL;var _p=Tl;function _L(o,r){for(var e=-1,t=o==null?0:o.length;++e<t&&r(o[e],e,o)!==!1;);return o}var Ix=_L,bL=ps,wL=function(){try{var o=bL(Object,"defineProperty");return o({},"",{}),o}catch{}}(),$x=wL,T1=$x;function xL(o,r,e){r=="__proto__"&&T1?T1(o,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):o[r]=e}var Zg=xL,CL=Zg,SL=du,OL=Object.prototype,TL=OL.hasOwnProperty;function EL(o,r,e){var t=o[r];(!(TL.call(o,r)&&SL(t,e))||e===void 0&&!(r in o))&&CL(o,r,e)}var Dx=EL,PL=Dx,kL=Zg;function AL(o,r,e,t){var n=!e;e||(e={});for(var i=-1,s=r.length;++i<s;){var l=r[i],u=t?t(e[l],o[l],l,e,o):void 0;u===void 0&&(u=o[l]),n?kL(e,l,u):PL(e,l,u)}return e}var pu=AL;function ML(o,r){for(var e=-1,t=Array(o);++e<o;)t[e]=r(e);return t}var VL=ML;function IL(o){return o!=null&&typeof o=="object"}var Ii=IL,$L=Cl,DL=Ii,LL="[object Arguments]";function jL(o){return DL(o)&&$L(o)==LL}var RL=jL,E1=RL,NL=Ii,Lx=Object.prototype,FL=Lx.hasOwnProperty,BL=Lx.propertyIsEnumerable,HL=E1(function(){return arguments}())?E1:function(o){return NL(o)&&FL.call(o,"callee")&&!BL.call(o,"callee")},bp=HL,UL=Array.isArray,$n=UL;const zL=Eo($n);var Xd={exports:{}};function WL(){return!1}var qL=WL;Xd.exports;(function(o,r){var e=Ho,t=qL,n=r&&!r.nodeType&&r,i=n&&!0&&o&&!o.nodeType&&o,s=i&&i.exports===n,l=s?e.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||t;o.exports=f})(Xd,Xd.exports);var wp=Xd.exports,KL=9007199254740991,GL=/^(?:0|[1-9]\d*)$/;function ZL(o,r){var e=typeof o;return r=r??KL,!!r&&(e=="number"||e!="symbol"&&GL.test(o))&&o>-1&&o%1==0&&o<r}var Xg=ZL,XL=9007199254740991;function YL(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=XL}var Yg=YL,JL=Cl,QL=Yg,ej=Ii,tj="[object Arguments]",rj="[object Array]",nj="[object Boolean]",oj="[object Date]",ij="[object Error]",aj="[object Function]",sj="[object Map]",lj="[object Number]",cj="[object Object]",uj="[object RegExp]",fj="[object Set]",dj="[object String]",pj="[object WeakMap]",hj="[object ArrayBuffer]",vj="[object DataView]",gj="[object Float32Array]",mj="[object Float64Array]",yj="[object Int8Array]",_j="[object Int16Array]",bj="[object Int32Array]",wj="[object Uint8Array]",xj="[object Uint8ClampedArray]",Cj="[object Uint16Array]",Sj="[object Uint32Array]",fr={};fr[gj]=fr[mj]=fr[yj]=fr[_j]=fr[bj]=fr[wj]=fr[xj]=fr[Cj]=fr[Sj]=!0;fr[tj]=fr[rj]=fr[hj]=fr[nj]=fr[vj]=fr[oj]=fr[ij]=fr[aj]=fr[sj]=fr[lj]=fr[cj]=fr[uj]=fr[fj]=fr[dj]=fr[pj]=!1;function Oj(o){return ej(o)&&QL(o.length)&&!!fr[JL(o)]}var Tj=Oj;function Ej(o){return function(r){return o(r)}}var xp=Ej,Yd={exports:{}};Yd.exports;(function(o,r){var e=kx,t=r&&!r.nodeType&&r,n=t&&!0&&o&&!o.nodeType&&o,i=n&&n.exports===t,s=i&&e.process,l=function(){try{var u=n&&n.require&&n.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();o.exports=l})(Yd,Yd.exports);var Jg=Yd.exports,Pj=Tj,kj=xp,P1=Jg,k1=P1&&P1.isTypedArray,Aj=k1?kj(k1):Pj,Qg=Aj,Mj=VL,Vj=bp,Ij=$n,$j=wp,Dj=Xg,Lj=Qg,jj=Object.prototype,Rj=jj.hasOwnProperty;function Nj(o,r){var e=Ij(o),t=!e&&Vj(o),n=!e&&!t&&$j(o),i=!e&&!t&&!n&&Lj(o),s=e||t||n||i,l=s?Mj(o.length,String):[],u=l.length;for(var f in o)(r||Rj.call(o,f))&&!(s&&(f=="length"||n&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Dj(f,u)))&&l.push(f);return l}var jx=Nj,Fj=Object.prototype;function Bj(o){var r=o&&o.constructor,e=typeof r=="function"&&r.prototype||Fj;return o===e}var em=Bj;function Hj(o,r){return function(e){return o(r(e))}}var Rx=Hj,Uj=Rx,zj=Uj(Object.keys,Object),Wj=zj,qj=em,Kj=Wj,Gj=Object.prototype,Zj=Gj.hasOwnProperty;function Xj(o){if(!qj(o))return Kj(o);var r=[];for(var e in Object(o))Zj.call(o,e)&&e!="constructor"&&r.push(e);return r}var Yj=Xj,Jj=qg,Qj=Yg;function eR(o){return o!=null&&Qj(o.length)&&!Jj(o)}var El=eR,tR=jx,rR=Yj,nR=El;function oR(o){return nR(o)?tR(o):rR(o)}var hu=oR,iR=pu,aR=hu;function sR(o,r){return o&&iR(r,aR(r),o)}var lR=sR;function cR(o){var r=[];if(o!=null)for(var e in Object(o))r.push(e);return r}var uR=cR,fR=Po,dR=em,pR=uR,hR=Object.prototype,vR=hR.hasOwnProperty;function gR(o){if(!fR(o))return pR(o);var r=dR(o),e=[];for(var t in o)t=="constructor"&&(r||!vR.call(o,t))||e.push(t);return e}var mR=gR,yR=jx,_R=mR,bR=El;function wR(o){return bR(o)?yR(o,!0):_R(o)}var vu=wR,xR=pu,CR=vu;function SR(o,r){return o&&xR(r,CR(r),o)}var OR=SR,Jd={exports:{}};Jd.exports;(function(o,r){var e=Ho,t=r&&!r.nodeType&&r,n=t&&!0&&o&&!o.nodeType&&o,i=n&&n.exports===t,s=i?e.Buffer:void 0,l=s?s.allocUnsafe:void 0;function u(f,d){if(d)return f.slice();var v=f.length,m=l?l(v):new f.constructor(v);return f.copy(m),m}o.exports=u})(Jd,Jd.exports);var Nx=Jd.exports;function TR(o,r){var e=-1,t=o.length;for(r||(r=Array(t));++e<t;)r[e]=o[e];return r}var Fx=TR;function ER(o,r){for(var e=-1,t=o==null?0:o.length,n=0,i=[];++e<t;){var s=o[e];r(s,e,o)&&(i[n++]=s)}return i}var PR=ER;function kR(){return[]}var Bx=kR,AR=PR,MR=Bx,VR=Object.prototype,IR=VR.propertyIsEnumerable,A1=Object.getOwnPropertySymbols,$R=A1?function(o){return o==null?[]:(o=Object(o),AR(A1(o),function(r){return IR.call(o,r)}))}:MR,tm=$R,DR=pu,LR=tm;function jR(o,r){return DR(o,LR(o),r)}var RR=jR;function NR(o,r){for(var e=-1,t=r.length,n=o.length;++e<t;)o[n+e]=r[e];return o}var rm=NR,FR=Rx,BR=FR(Object.getPrototypeOf,Object),nm=BR,HR=rm,UR=nm,zR=tm,WR=Bx,qR=Object.getOwnPropertySymbols,KR=qR?function(o){for(var r=[];o;)HR(r,zR(o)),o=UR(o);return r}:WR,Hx=KR,GR=pu,ZR=Hx;function XR(o,r){return GR(o,ZR(o),r)}var YR=XR,JR=rm,QR=$n;function e9(o,r,e){var t=r(o);return QR(o)?t:JR(t,e(o))}var Ux=e9,t9=Ux,r9=tm,n9=hu;function o9(o){return t9(o,n9,r9)}var zx=o9,i9=Ux,a9=Hx,s9=vu;function l9(o){return i9(o,s9,a9)}var c9=l9,u9=ps,f9=Ho,d9=u9(f9,"DataView"),p9=d9,h9=ps,v9=Ho,g9=h9(v9,"Promise"),m9=g9,y9=ps,_9=Ho,b9=y9(_9,"Set"),w9=b9,x9=ps,C9=Ho,S9=x9(C9,"WeakMap"),O9=S9,pg=p9,hg=Kg,vg=m9,gg=w9,mg=O9,Wx=Cl,Pl=Vx,M1="[object Map]",T9="[object Object]",V1="[object Promise]",I1="[object Set]",$1="[object WeakMap]",D1="[object DataView]",E9=Pl(pg),P9=Pl(hg),k9=Pl(vg),A9=Pl(gg),M9=Pl(mg),Za=Wx;(pg&&Za(new pg(new ArrayBuffer(1)))!=D1||hg&&Za(new hg)!=M1||vg&&Za(vg.resolve())!=V1||gg&&Za(new gg)!=I1||mg&&Za(new mg)!=$1)&&(Za=function(o){var r=Wx(o),e=r==T9?o.constructor:void 0,t=e?Pl(e):"";if(t)switch(t){case E9:return D1;case P9:return M1;case k9:return V1;case A9:return I1;case M9:return $1}return r});var Cp=Za,V9=Object.prototype,I9=V9.hasOwnProperty;function $9(o){var r=o.length,e=new o.constructor(r);return r&&typeof o[0]=="string"&&I9.call(o,"index")&&(e.index=o.index,e.input=o.input),e}var D9=$9,L9=Ho,j9=L9.Uint8Array,qx=j9,L1=qx;function R9(o){var r=new o.constructor(o.byteLength);return new L1(r).set(new L1(o)),r}var om=R9,N9=om;function F9(o,r){var e=r?N9(o.buffer):o.buffer;return new o.constructor(e,o.byteOffset,o.byteLength)}var B9=F9,H9=/\w*$/;function U9(o){var r=new o.constructor(o.source,H9.exec(o));return r.lastIndex=o.lastIndex,r}var z9=U9,j1=xl,R1=j1?j1.prototype:void 0,N1=R1?R1.valueOf:void 0;function W9(o){return N1?Object(N1.call(o)):{}}var q9=W9,K9=om;function G9(o,r){var e=r?K9(o.buffer):o.buffer;return new o.constructor(e,o.byteOffset,o.length)}var Kx=G9,Z9=om,X9=B9,Y9=z9,J9=q9,Q9=Kx,eN="[object Boolean]",tN="[object Date]",rN="[object Map]",nN="[object Number]",oN="[object RegExp]",iN="[object Set]",aN="[object String]",sN="[object Symbol]",lN="[object ArrayBuffer]",cN="[object DataView]",uN="[object Float32Array]",fN="[object Float64Array]",dN="[object Int8Array]",pN="[object Int16Array]",hN="[object Int32Array]",vN="[object Uint8Array]",gN="[object Uint8ClampedArray]",mN="[object Uint16Array]",yN="[object Uint32Array]";function _N(o,r,e){var t=o.constructor;switch(r){case lN:return Z9(o);case eN:case tN:return new t(+o);case cN:return X9(o,e);case uN:case fN:case dN:case pN:case hN:case vN:case gN:case mN:case yN:return Q9(o,e);case rN:return new t;case nN:case aN:return new t(o);case oN:return Y9(o);case iN:return new t;case sN:return J9(o)}}var bN=_N,wN=Po,F1=Object.create,xN=function(){function o(){}return function(r){if(!wN(r))return{};if(F1)return F1(r);o.prototype=r;var e=new o;return o.prototype=void 0,e}}(),CN=xN,SN=CN,ON=nm,TN=em;function EN(o){return typeof o.constructor=="function"&&!TN(o)?SN(ON(o)):{}}var Gx=EN,PN=Cp,kN=Ii,AN="[object Map]";function MN(o){return kN(o)&&PN(o)==AN}var VN=MN,IN=VN,$N=xp,B1=Jg,H1=B1&&B1.isMap,DN=H1?$N(H1):IN,LN=DN,jN=Cp,RN=Ii,NN="[object Set]";function FN(o){return RN(o)&&jN(o)==NN}var BN=FN,HN=BN,UN=xp,U1=Jg,z1=U1&&U1.isSet,zN=z1?UN(z1):HN,WN=zN,qN=_p,KN=Ix,GN=Dx,ZN=lR,XN=OR,YN=Nx,JN=Fx,QN=RR,eF=YR,tF=zx,rF=c9,nF=Cp,oF=D9,iF=bN,aF=Gx,sF=$n,lF=wp,cF=LN,uF=Po,fF=WN,dF=hu,pF=vu,hF=1,vF=2,gF=4,Zx="[object Arguments]",mF="[object Array]",yF="[object Boolean]",_F="[object Date]",bF="[object Error]",Xx="[object Function]",wF="[object GeneratorFunction]",xF="[object Map]",CF="[object Number]",Yx="[object Object]",SF="[object RegExp]",OF="[object Set]",TF="[object String]",EF="[object Symbol]",PF="[object WeakMap]",kF="[object ArrayBuffer]",AF="[object DataView]",MF="[object Float32Array]",VF="[object Float64Array]",IF="[object Int8Array]",$F="[object Int16Array]",DF="[object Int32Array]",LF="[object Uint8Array]",jF="[object Uint8ClampedArray]",RF="[object Uint16Array]",NF="[object Uint32Array]",ir={};ir[Zx]=ir[mF]=ir[kF]=ir[AF]=ir[yF]=ir[_F]=ir[MF]=ir[VF]=ir[IF]=ir[$F]=ir[DF]=ir[xF]=ir[CF]=ir[Yx]=ir[SF]=ir[OF]=ir[TF]=ir[EF]=ir[LF]=ir[jF]=ir[RF]=ir[NF]=!0;ir[bF]=ir[Xx]=ir[PF]=!1;function Ff(o,r,e,t,n,i){var s,l=r&hF,u=r&vF,f=r&gF;if(e&&(s=n?e(o,t,n,i):e(o)),s!==void 0)return s;if(!uF(o))return o;var d=sF(o);if(d){if(s=oF(o),!l)return JN(o,s)}else{var v=nF(o),m=v==Xx||v==wF;if(lF(o))return YN(o,l);if(v==Yx||v==Zx||m&&!n){if(s=u||m?{}:aF(o),!l)return u?eF(o,XN(s,o)):QN(o,ZN(s,o))}else{if(!ir[v])return n?o:{};s=iF(o,v,l)}}i||(i=new qN);var y=i.get(o);if(y)return y;i.set(o,s),fF(o)?o.forEach(function(x){s.add(Ff(x,r,e,x,o,i))}):cF(o)&&o.forEach(function(x,O){s.set(O,Ff(x,r,e,O,o,i))});var b=f?u?rF:tF:u?pF:dF,w=d?void 0:b(o);return KN(w||o,function(x,O){w&&(O=x,x=o[O]),GN(s,O,Ff(x,r,e,O,o,i))}),s}var FF=Ff,BF=FF,HF=1,UF=4;function zF(o){return BF(o,HF|UF)}var WF=zF;const xa=Eo(WF);var qF=Ho,KF=function(){return qF.Date.now()},GF=KF,ZF=/\s/;function XF(o){for(var r=o.length;r--&&ZF.test(o.charAt(r)););return r}var YF=XF,JF=YF,QF=/^\s+/;function eB(o){return o&&o.slice(0,JF(o)+1).replace(QF,"")}var tB=eB,rB=Cl,nB=Ii,oB="[object Symbol]";function iB(o){return typeof o=="symbol"||nB(o)&&rB(o)==oB}var gu=iB,aB=tB,W1=Po,sB=gu,q1=NaN,lB=/^[-+]0x[0-9a-f]+$/i,cB=/^0b[01]+$/i,uB=/^0o[0-7]+$/i,fB=parseInt;function dB(o){if(typeof o=="number")return o;if(sB(o))return q1;if(W1(o)){var r=typeof o.valueOf=="function"?o.valueOf():o;o=W1(r)?r+"":r}if(typeof o!="string")return o===0?o:+o;o=aB(o);var e=cB.test(o);return e||uB.test(o)?fB(o.slice(2),e?2:8):lB.test(o)?q1:+o}var pB=dB,hB=Po,nv=GF,K1=pB,vB="Expected a function",gB=Math.max,mB=Math.min;function yB(o,r,e){var t,n,i,s,l,u,f=0,d=!1,v=!1,m=!0;if(typeof o!="function")throw new TypeError(vB);r=K1(r)||0,hB(e)&&(d=!!e.leading,v="maxWait"in e,i=v?gB(K1(e.maxWait)||0,r):i,m="trailing"in e?!!e.trailing:m);function y(Z){var te=t,ee=n;return t=n=void 0,f=Z,s=o.apply(ee,te),s}function b(Z){return f=Z,l=setTimeout(O,r),d?y(Z):s}function w(Z){var te=Z-u,ee=Z-f,G=r-te;return v?mB(G,i-ee):G}function x(Z){var te=Z-u,ee=Z-f;return u===void 0||te>=r||te<0||v&&ee>=i}function O(){var Z=nv();if(x(Z))return M(Z);l=setTimeout(O,w(Z))}function M(Z){return l=void 0,m&&t?y(Z):(t=n=void 0,s)}function T(){l!==void 0&&clearTimeout(l),f=0,t=u=n=l=void 0}function E(){return l===void 0?s:M(nv())}function U(){var Z=nv(),te=x(Z);if(t=arguments,n=this,u=Z,te){if(l===void 0)return b(u);if(v)return clearTimeout(l),l=setTimeout(O,r),y(u)}return l===void 0&&(l=setTimeout(O,r)),s}return U.cancel=T,U.flush=E,U}var _B=yB;const bB=Eo(_B);var wB="__lodash_hash_undefined__";function xB(o){return this.__data__.set(o,wB),this}var CB=xB;function SB(o){return this.__data__.has(o)}var OB=SB,TB=Gg,EB=CB,PB=OB;function Qd(o){var r=-1,e=o==null?0:o.length;for(this.__data__=new TB;++r<e;)this.add(o[r])}Qd.prototype.add=Qd.prototype.push=EB;Qd.prototype.has=PB;var kB=Qd;function AB(o,r){for(var e=-1,t=o==null?0:o.length;++e<t;)if(r(o[e],e,o))return!0;return!1}var MB=AB;function VB(o,r){return o.has(r)}var IB=VB,$B=kB,DB=MB,LB=IB,jB=1,RB=2;function NB(o,r,e,t,n,i){var s=e&jB,l=o.length,u=r.length;if(l!=u&&!(s&&u>l))return!1;var f=i.get(o),d=i.get(r);if(f&&d)return f==r&&d==o;var v=-1,m=!0,y=e&RB?new $B:void 0;for(i.set(o,r),i.set(r,o);++v<l;){var b=o[v],w=r[v];if(t)var x=s?t(w,b,v,r,o,i):t(b,w,v,o,r,i);if(x!==void 0){if(x)continue;m=!1;break}if(y){if(!DB(r,function(O,M){if(!LB(y,M)&&(b===O||n(b,O,e,t,i)))return y.push(M)})){m=!1;break}}else if(!(b===w||n(b,w,e,t,i))){m=!1;break}}return i.delete(o),i.delete(r),m}var Jx=NB;function FB(o){var r=-1,e=Array(o.size);return o.forEach(function(t,n){e[++r]=[n,t]}),e}var BB=FB;function HB(o){var r=-1,e=Array(o.size);return o.forEach(function(t){e[++r]=t}),e}var UB=HB,G1=xl,Z1=qx,zB=du,WB=Jx,qB=BB,KB=UB,GB=1,ZB=2,XB="[object Boolean]",YB="[object Date]",JB="[object Error]",QB="[object Map]",eH="[object Number]",tH="[object RegExp]",rH="[object Set]",nH="[object String]",oH="[object Symbol]",iH="[object ArrayBuffer]",aH="[object DataView]",X1=G1?G1.prototype:void 0,ov=X1?X1.valueOf:void 0;function sH(o,r,e,t,n,i,s){switch(e){case aH:if(o.byteLength!=r.byteLength||o.byteOffset!=r.byteOffset)return!1;o=o.buffer,r=r.buffer;case iH:return!(o.byteLength!=r.byteLength||!i(new Z1(o),new Z1(r)));case XB:case YB:case eH:return zB(+o,+r);case JB:return o.name==r.name&&o.message==r.message;case tH:case nH:return o==r+"";case QB:var l=qB;case rH:var u=t&GB;if(l||(l=KB),o.size!=r.size&&!u)return!1;var f=s.get(o);if(f)return f==r;t|=ZB,s.set(o,r);var d=WB(l(o),l(r),t,n,i,s);return s.delete(o),d;case oH:if(ov)return ov.call(o)==ov.call(r)}return!1}var lH=sH,Y1=zx,cH=1,uH=Object.prototype,fH=uH.hasOwnProperty;function dH(o,r,e,t,n,i){var s=e&cH,l=Y1(o),u=l.length,f=Y1(r),d=f.length;if(u!=d&&!s)return!1;for(var v=u;v--;){var m=l[v];if(!(s?m in r:fH.call(r,m)))return!1}var y=i.get(o),b=i.get(r);if(y&&b)return y==r&&b==o;var w=!0;i.set(o,r),i.set(r,o);for(var x=s;++v<u;){m=l[v];var O=o[m],M=r[m];if(t)var T=s?t(M,O,m,r,o,i):t(O,M,m,o,r,i);if(!(T===void 0?O===M||n(O,M,e,t,i):T)){w=!1;break}x||(x=m=="constructor")}if(w&&!x){var E=o.constructor,U=r.constructor;E!=U&&"constructor"in o&&"constructor"in r&&!(typeof E=="function"&&E instanceof E&&typeof U=="function"&&U instanceof U)&&(w=!1)}return i.delete(o),i.delete(r),w}var pH=dH,iv=_p,hH=Jx,vH=lH,gH=pH,J1=Cp,Q1=$n,e_=wp,mH=Qg,yH=1,t_="[object Arguments]",r_="[object Array]",pf="[object Object]",_H=Object.prototype,n_=_H.hasOwnProperty;function bH(o,r,e,t,n,i){var s=Q1(o),l=Q1(r),u=s?r_:J1(o),f=l?r_:J1(r);u=u==t_?pf:u,f=f==t_?pf:f;var d=u==pf,v=f==pf,m=u==f;if(m&&e_(o)){if(!e_(r))return!1;s=!0,d=!1}if(m&&!d)return i||(i=new iv),s||mH(o)?hH(o,r,e,t,n,i):vH(o,r,u,e,t,n,i);if(!(e&yH)){var y=d&&n_.call(o,"__wrapped__"),b=v&&n_.call(r,"__wrapped__");if(y||b){var w=y?o.value():o,x=b?r.value():r;return i||(i=new iv),n(w,x,e,t,i)}}return m?(i||(i=new iv),gH(o,r,e,t,n,i)):!1}var wH=bH,xH=wH,o_=Ii;function Qx(o,r,e,t,n){return o===r?!0:o==null||r==null||!o_(o)&&!o_(r)?o!==o&&r!==r:xH(o,r,e,t,Qx,n)}var im=Qx,CH=im;function SH(o,r){return CH(o,r)}var OH=SH;const tu=Eo(OH);var TH=Zg,EH=du;function PH(o,r,e){(e!==void 0&&!EH(o[r],e)||e===void 0&&!(r in o))&&TH(o,r,e)}var eC=PH;function kH(o){return function(r,e,t){for(var n=-1,i=Object(r),s=t(r),l=s.length;l--;){var u=s[o?l:++n];if(e(i[u],u,i)===!1)break}return r}}var AH=kH,MH=AH,VH=MH(),tC=VH,IH=El,$H=Ii;function DH(o){return $H(o)&&IH(o)}var LH=DH,jH=Cl,RH=nm,NH=Ii,FH="[object Object]",BH=Function.prototype,HH=Object.prototype,rC=BH.toString,UH=HH.hasOwnProperty,zH=rC.call(Object);function WH(o){if(!NH(o)||jH(o)!=FH)return!1;var r=RH(o);if(r===null)return!0;var e=UH.call(r,"constructor")&&r.constructor;return typeof e=="function"&&e instanceof e&&rC.call(e)==zH}var qH=WH;function KH(o,r){if(!(r==="constructor"&&typeof o[r]=="function")&&r!="__proto__")return o[r]}var nC=KH,GH=pu,ZH=vu;function XH(o){return GH(o,ZH(o))}var YH=XH,i_=eC,JH=Nx,QH=Kx,eU=Fx,tU=Gx,a_=bp,s_=$n,rU=LH,nU=wp,oU=qg,iU=Po,aU=qH,sU=Qg,l_=nC,lU=YH;function cU(o,r,e,t,n,i,s){var l=l_(o,e),u=l_(r,e),f=s.get(u);if(f){i_(o,e,f);return}var d=i?i(l,u,e+"",o,r,s):void 0,v=d===void 0;if(v){var m=s_(u),y=!m&&nU(u),b=!m&&!y&&sU(u);d=u,m||y||b?s_(l)?d=l:rU(l)?d=eU(l):y?(v=!1,d=JH(u,!0)):b?(v=!1,d=QH(u,!0)):d=[]:aU(u)||a_(u)?(d=l,a_(l)?d=lU(l):(!iU(l)||oU(l))&&(d=tU(u))):v=!1}v&&(s.set(u,d),n(d,u,t,i,s),s.delete(u)),i_(o,e,d)}var uU=cU,fU=_p,dU=eC,pU=tC,hU=uU,vU=Po,gU=vu,mU=nC;function oC(o,r,e,t,n){o!==r&&pU(r,function(i,s){if(n||(n=new fU),vU(i))hU(o,r,s,e,oC,t,n);else{var l=t?t(mU(o,s),i,s+"",o,r,n):void 0;l===void 0&&(l=i),dU(o,s,l)}},gU)}var yU=oC;function _U(o){return o}var mu=_U;function bU(o,r,e){switch(e.length){case 0:return o.call(r);case 1:return o.call(r,e[0]);case 2:return o.call(r,e[0],e[1]);case 3:return o.call(r,e[0],e[1],e[2])}return o.apply(r,e)}var wU=bU,xU=wU,c_=Math.max;function CU(o,r,e){return r=c_(r===void 0?o.length-1:r,0),function(){for(var t=arguments,n=-1,i=c_(t.length-r,0),s=Array(i);++n<i;)s[n]=t[r+n];n=-1;for(var l=Array(r+1);++n<r;)l[n]=t[n];return l[r]=e(s),xU(o,this,l)}}var SU=CU;function OU(o){return function(){return o}}var TU=OU,EU=TU,u_=$x,PU=mu,kU=u_?function(o,r){return u_(o,"toString",{configurable:!0,enumerable:!1,value:EU(r),writable:!0})}:PU,AU=kU,MU=800,VU=16,IU=Date.now;function $U(o){var r=0,e=0;return function(){var t=IU(),n=VU-(t-e);if(e=t,n>0){if(++r>=MU)return arguments[0]}else r=0;return o.apply(void 0,arguments)}}var DU=$U,LU=AU,jU=DU,RU=jU(LU),NU=RU,FU=mu,BU=SU,HU=NU;function UU(o,r){return HU(BU(o,r,FU),o+"")}var iC=UU,zU=du,WU=El,qU=Xg,KU=Po;function GU(o,r,e){if(!KU(e))return!1;var t=typeof r;return(t=="number"?WU(e)&&qU(r,e.length):t=="string"&&r in e)?zU(e[r],o):!1}var aC=GU,ZU=iC,XU=aC;function YU(o){return ZU(function(r,e){var t=-1,n=e.length,i=n>1?e[n-1]:void 0,s=n>2?e[2]:void 0;for(i=o.length>3&&typeof i=="function"?(n--,i):void 0,s&&XU(e[0],e[1],s)&&(i=n<3?void 0:i,n=1),r=Object(r);++t<n;){var l=e[t];l&&o(r,l,t,i)}return r})}var JU=YU,QU=yU,ez=JU,tz=ez(function(o,r,e){QU(o,r,e)}),rz=tz;const Bf=Eo(rz);var nz=$n;function oz(){if(!arguments.length)return[];var o=arguments[0];return nz(o)?o:[o]}var iz=oz;const f_=Eo(iz);class az{constructor(){this.errors={}}set(r,e){typeof r=="object"?this.errors=r:this.set({...this.errors,[r]:f_(e)})}all(){return this.errors}has(r){return Object.hasOwn(this.errors,r)}hasAny(...r){return r.some(e=>this.has(e))}any(){return Object.keys(this.errors).length>0}first(r){if(this.has(r))return this.getAll(r)[0]}getAll(r){return f_(this.errors[r]||[])}clear(r){const e={};r&&Object.keys(this.errors).forEach(t=>{t!==r&&(e[t]=this.errors[t])}),this.set(e)}groupByField(){const r={},e=this.all();return Object.keys(e).forEach(t=>{const n=t.match(/(.*?)\.\d+\..+/);if(n){const i=n[1];r[i]||(r[i]={messages:[],array:{}}),r[i].array[t]=e[t][0]}else r[t]||(r[t]={messages:[]}),r[t].messages.push(...e[t])}),r}}function sz(o){return o instanceof File||o instanceof FileList}function sC(o,r=new FormData,e=null){if(o===null||o==="undefined"||o.length===0)return r.append(e,o);for(const t in o)Object.hasOwn(o,t)&&cz(r,lz(e,t),o[t]);return r}function lz(o,r){return o?o+"["+r+"]":r}function cz(o,r,e){if(e instanceof Date)return o.append(r,e.toISOString());if(e instanceof File)return o.append(r,e,e.name);if(typeof e=="boolean")return o.append(r,e?"1":"0");if(e===null)return o.append(r,"");if(typeof e!="object")return o.append(r,e);sC(e,o,r)}class Sp{constructor(r={},e={}){this.busy=!1,this.recentlySuccessful=!1,this.errors=new az,this.queryString={},this.withData(r).withOptions(e)}isDirty(){return!tu(this.originalData,this.data())}withData(r){this.successful=!1,this.setInitialData(r);for(const e in r)this[e]=r[e];return this}setInitialData(r){this.originalData=xa(r)}withOptions(r){return this.__options={resetOnSuccess:!1,...r},this}populate(r){return this.keys().forEach(e=>{this[e]=r[e]}),this}set(r,e=null){return typeof r=="object"?Object.entries(r).forEach(([t,n])=>this.set(t,n)):(this.fill(r,e),tu(this.originalData[r],e)||(this.originalData[r]=xa(e))),this}fill(r,e=null){return typeof r=="object"?Object.entries(r).forEach(([t,n])=>this.fill(t,n)):tu(this[r],e)||(this[r]=e),this}withQueryString(r){return this.queryString={...this.queryString,...r},this}data(){return this.keys().reduce((r,e)=>({...r,[e]:this[e]}),{})}keys(){return Object.keys(this).filter(r=>!this.ignore.includes(r))}startProcessing(){this.errors.clear(),this.busy=!0,this.successful=!1}finishProcessing(r){this.busy=!1,this.successful=!0,this.recentlySuccessful=!0,this.__options.resetOnSuccess&&this.reset(),typeof this.__options.onSuccess=="function"&&this.__options.onSuccess(r),setTimeout(()=>this.recentlySuccessful=!1,3e3)}clear(){return this.keys().forEach(r=>{delete this[r]}),this.successful=!1,this.errors.clear(),this.queryString={},this.setInitialData({}),this}reset(){return this.keys().forEach(r=>{this[r]=xa(this.originalData[r])}),this}getError(r){return this.errors.first(r)}get(r,e={}){return this.submit("get",r,e)}post(r,e={}){return this.submit("post",r,e)}patch(r,e={}){return this.submit("patch",r,e)}put(r,e={}){return this.submit("put",r,e)}delete(r,e={}){return this.submit("delete",r,e)}submit(r,e,t={}){this.startProcessing();let n=this.createQueryStringParams(e);const i=r==="get"?{params:Bf(n.queryString,this.data())}:this.hasFiles()?sC(this.data()):this.data();return new Promise((s,l)=>{Innoclapps.request()[r](n.uri,i,Bf({params:n.queryString},t)).then(u=>{s(u.data),this.finishProcessing(u)}).catch(u=>{this.busy=!1,u.response&&this.errors.set(this.extractErrors(u.response)),l(u)})})}extractErrors(r){return!r.data||typeof r.data!="object"?{error:Sp.errorMessage}:r.data.errors?{...r.data.errors}:r.data.message?{error:r.data.message}:{...r.data}}createQueryStringParams(r){let e=r.split("?"),t=e[1]?Object.fromEntries(new URLSearchParams(e[1])):{};return{uri:e[0],queryString:Bf(t,this.queryString)}}hasFiles(){for(const r in this.originalData)if(this.hasFilesDeep(this[r]))return!0;return!1}hasFilesDeep(r){if(r===null)return!1;if(typeof r=="object"){for(const e in r)if(Object.hasOwn(r,e)&&this.hasFilesDeep(r[e]))return!0}if(Array.isArray(r)){for(const e in r)if(Object.hasOwn(r,e))return this.hasFilesDeep(r[e])}return sz(r)}get ignore(){return["__options","busy","successful","recentlySuccessful","errors","originalData","queryString"]}}Sp.errorMessage="Something went wrong. Please try again.";const uz=Vue.reactive,fz=Vue.watch;function In(o={},r={}){const e=r.autoClearErrors!==!1;delete r.autoClearErrors;const t=uz(new Sp(o,r));if(e){let l=function(){const u=t.data();t.keys().forEach(f=>{const d=s[f],v=u[f];if(!Array.isArray(v)){v!=d&&t.errors.clear(f);return}tu(v,d)||(t.errors.clear(f),Array.isArray(d)&&(v.forEach(y=>{Mx(y)&&yg(y)}),d.some(y=>y&&y._formUniqueId)?t.errors.set(pz(f,d,v,t.errors.all())):d.forEach((y,b)=>{y!==v[b]&&t.errors.clear(`${f}.${b}`)})))}),s=dz(u)};var n=l;let s={};hz(()=>t.data(),()=>l(),250,{deep:!0,immediate:!0})}return{form:t}}function dz(o,r={}){let e=Bf({},xa(o),r);return"_formUniqueId"in o&&yg(e,o._formUniqueId),Object.keys(e).forEach(t=>{zL(e[t])&&(e[t]=o[t].map(n=>{if(Mx(n)){let i=xa(n);return"_formUniqueId"in n&&yg(i,n._formUniqueId),i}return n}))}),e}function yg(o,r){return"_formUniqueId"in o||Object.defineProperty(o,"_formUniqueId",{enumerable:!1,configurable:!1,writable:!1,value:r||Symbol()}),o}function pz(o,r,e,t){let n={...t};const i={},s=new Map(e.map(l=>[l._formUniqueId,l]));return r.forEach(l=>{const u=r.findIndex(b=>b._formUniqueId===l._formUniqueId),f=s.get(l._formUniqueId),d=e.findIndex(b=>b&&b._formUniqueId===l._formUniqueId),v=!f,m=!v&&!tu(l,f),y=d!==u;Object.keys(n).forEach(b=>{const w=new RegExp(`^${o}\\.(${u})(\\.|$)`);if(w.test(b)){if(v||m&&!y)delete n[b];else if(y){const x=b.replace(w,`${o}.${d}$2`);i[b]=x}}})}),Object.entries(i).forEach(([l,u])=>{n[u]=n[l],delete n[l]}),n}function hz(o,r,e,t={}){const n=bB(r,e);fz(o,(i,s)=>{n(i,s)},t)}function vz(o="en"){if(typeof config<"u")return config.locale||config.fallback_locale||o;if(typeof window<"u"){const{userLanguage:r,language:e}=window.navigator;return(r||e).substr(0,2)}return o}var Op={};(function o(r,e,t,n){var i=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!r.OffscreenCanvas)return!1;var le=new OffscreenCanvas(1,1),N=le.getContext("2d");N.fillRect(0,0,1,1);var xe=le.transferToImageBitmap();try{N.createPattern(xe,"no-repeat")}catch{return!1}return!0}();function u(){}function f(le){var N=e.exports.Promise,xe=N!==void 0?N:r.Promise;return typeof xe=="function"?new xe(le):(le(u,u),null)}var d=function(le,N){return{transform:function(xe){if(le)return xe;if(N.has(xe))return N.get(xe);var Oe=new OffscreenCanvas(xe.width,xe.height),ge=Oe.getContext("2d");return ge.drawImage(xe,0,0),N.set(xe,Oe),Oe},clear:function(){N.clear()}}}(l,new Map),v=function(){var le=Math.floor(16.666666666666668),N,xe,Oe={},ge=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(N=function(Be){var ze=Math.random();return Oe[ze]=requestAnimationFrame(function Me(Ne){ge===Ne||ge+le-1<Ne?(ge=Ne,delete Oe[ze],Be()):Oe[ze]=requestAnimationFrame(Me)}),ze},xe=function(Be){Oe[Be]&&cancelAnimationFrame(Oe[Be])}):(N=function(Be){return setTimeout(Be,le)},xe=function(Be){return clearTimeout(Be)}),{frame:N,cancel:xe}}(),m=function(){var le,N,xe={};function Oe(ge){function Be(ze,Me){ge.postMessage({options:ze||{},callback:Me})}ge.init=function(Me){var Ne=Me.transferControlToOffscreen();ge.postMessage({canvas:Ne},[Ne])},ge.fire=function(Me,Ne,Je){if(N)return Be(Me,null),N;var at=Math.random().toString(36).slice(2);return N=f(function(ae){function Se(Ze){Ze.data.callback===at&&(delete xe[at],ge.removeEventListener("message",Se),N=null,d.clear(),Je(),ae())}ge.addEventListener("message",Se),Be(Me,at),xe[at]=Se.bind(null,{data:{callback:at}})}),N},ge.reset=function(){ge.postMessage({reset:!0});for(var Me in xe)xe[Me](),delete xe[Me]}}return function(){if(le)return le;if(!t&&i){var ge=["var CONFETTI, SIZE = {}, module = {};","("+o.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{le=new Worker(URL.createObjectURL(new Blob([ge])))}catch(Be){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",Be),null}Oe(le)}return le}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(le,N){return N?N(le):le}function w(le){return le!=null}function x(le,N,xe){return b(le&&w(le[N])?le[N]:y[N],xe)}function O(le){return le<0?0:Math.floor(le)}function M(le,N){return Math.floor(Math.random()*(N-le))+le}function T(le){return parseInt(le,16)}function E(le){return le.map(U)}function U(le){var N=String(le).replace(/[^0-9a-f]/gi,"");return N.length<6&&(N=N[0]+N[0]+N[1]+N[1]+N[2]+N[2]),{r:T(N.substring(0,2)),g:T(N.substring(2,4)),b:T(N.substring(4,6))}}function Z(le){var N=x(le,"origin",Object);return N.x=x(N,"x",Number),N.y=x(N,"y",Number),N}function te(le){le.width=document.documentElement.clientWidth,le.height=document.documentElement.clientHeight}function ee(le){var N=le.getBoundingClientRect();le.width=N.width,le.height=N.height}function G(le){var N=document.createElement("canvas");return N.style.position="fixed",N.style.top="0px",N.style.left="0px",N.style.pointerEvents="none",N.style.zIndex=le,N}function q(le,N,xe,Oe,ge,Be,ze,Me,Ne){le.save(),le.translate(N,xe),le.rotate(Be),le.scale(Oe,ge),le.arc(0,0,1,ze,Me,Ne),le.restore()}function D(le){var N=le.angle*(Math.PI/180),xe=le.spread*(Math.PI/180);return{x:le.x,y:le.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:le.startVelocity*.5+Math.random()*le.startVelocity,angle2D:-N+(.5*xe-Math.random()*xe),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:le.color,shape:le.shape,tick:0,totalTicks:le.ticks,decay:le.decay,drift:le.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:le.gravity*3,ovalScalar:.6,scalar:le.scalar,flat:le.flat}}function $(le,N){N.x+=Math.cos(N.angle2D)*N.velocity+N.drift,N.y+=Math.sin(N.angle2D)*N.velocity+N.gravity,N.velocity*=N.decay,N.flat?(N.wobble=0,N.wobbleX=N.x+10*N.scalar,N.wobbleY=N.y+10*N.scalar,N.tiltSin=0,N.tiltCos=0,N.random=1):(N.wobble+=N.wobbleSpeed,N.wobbleX=N.x+10*N.scalar*Math.cos(N.wobble),N.wobbleY=N.y+10*N.scalar*Math.sin(N.wobble),N.tiltAngle+=.1,N.tiltSin=Math.sin(N.tiltAngle),N.tiltCos=Math.cos(N.tiltAngle),N.random=Math.random()+2);var xe=N.tick++/N.totalTicks,Oe=N.x+N.random*N.tiltCos,ge=N.y+N.random*N.tiltSin,Be=N.wobbleX+N.random*N.tiltCos,ze=N.wobbleY+N.random*N.tiltSin;if(le.fillStyle="rgba("+N.color.r+", "+N.color.g+", "+N.color.b+", "+(1-xe)+")",le.beginPath(),s&&N.shape.type==="path"&&typeof N.shape.path=="string"&&Array.isArray(N.shape.matrix))le.fill(_e(N.shape.path,N.shape.matrix,N.x,N.y,Math.abs(Be-Oe)*.1,Math.abs(ze-ge)*.1,Math.PI/10*N.wobble));else if(N.shape.type==="bitmap"){var Me=Math.PI/10*N.wobble,Ne=Math.abs(Be-Oe)*.1,Je=Math.abs(ze-ge)*.1,at=N.shape.bitmap.width*N.scalar,ae=N.shape.bitmap.height*N.scalar,Se=new DOMMatrix([Math.cos(Me)*Ne,Math.sin(Me)*Ne,-Math.sin(Me)*Je,Math.cos(Me)*Je,N.x,N.y]);Se.multiplySelf(new DOMMatrix(N.shape.matrix));var Ze=le.createPattern(d.transform(N.shape.bitmap),"no-repeat");Ze.setTransform(Se),le.globalAlpha=1-xe,le.fillStyle=Ze,le.fillRect(N.x-at/2,N.y-ae/2,at,ae),le.globalAlpha=1}else if(N.shape==="circle")le.ellipse?le.ellipse(N.x,N.y,Math.abs(Be-Oe)*N.ovalScalar,Math.abs(ze-ge)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI):q(le,N.x,N.y,Math.abs(Be-Oe)*N.ovalScalar,Math.abs(ze-ge)*N.ovalScalar,Math.PI/10*N.wobble,0,2*Math.PI);else if(N.shape==="star")for(var Ie=Math.PI/2*3,ot=4*N.scalar,dt=8*N.scalar,st=N.x,A=N.y,z=5,Y=Math.PI/z;z--;)st=N.x+Math.cos(Ie)*dt,A=N.y+Math.sin(Ie)*dt,le.lineTo(st,A),Ie+=Y,st=N.x+Math.cos(Ie)*ot,A=N.y+Math.sin(Ie)*ot,le.lineTo(st,A),Ie+=Y;else le.moveTo(Math.floor(N.x),Math.floor(N.y)),le.lineTo(Math.floor(N.wobbleX),Math.floor(ge)),le.lineTo(Math.floor(Be),Math.floor(ze)),le.lineTo(Math.floor(Oe),Math.floor(N.wobbleY));return le.closePath(),le.fill(),N.tick<N.totalTicks}function B(le,N,xe,Oe,ge){var Be=N.slice(),ze=le.getContext("2d"),Me,Ne,Je=f(function(at){function ae(){Me=Ne=null,ze.clearRect(0,0,Oe.width,Oe.height),d.clear(),ge(),at()}function Se(){t&&!(Oe.width===n.width&&Oe.height===n.height)&&(Oe.width=le.width=n.width,Oe.height=le.height=n.height),!Oe.width&&!Oe.height&&(xe(le),Oe.width=le.width,Oe.height=le.height),ze.clearRect(0,0,Oe.width,Oe.height),Be=Be.filter(function(Ze){return $(ze,Ze)}),Be.length?Me=v.frame(Se):ae()}Me=v.frame(Se),Ne=ae});return{addFettis:function(at){return Be=Be.concat(at),Je},canvas:le,promise:Je,reset:function(){Me&&v.cancel(Me),Ne&&Ne()}}}function W(le,N){var xe=!le,Oe=!!x(N||{},"resize"),ge=!1,Be=x(N,"disableForReducedMotion",Boolean),ze=i&&!!x(N||{},"useWorker"),Me=ze?m():null,Ne=xe?te:ee,Je=le&&Me?!!le.__confetti_initialized:!1,at=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function Se(Ie,ot,dt){for(var st=x(Ie,"particleCount",O),A=x(Ie,"angle",Number),z=x(Ie,"spread",Number),Y=x(Ie,"startVelocity",Number),pe=x(Ie,"decay",Number),Ce=x(Ie,"gravity",Number),J=x(Ie,"drift",Number),me=x(Ie,"colors",E),fe=x(Ie,"ticks",Number),ut=x(Ie,"shapes"),Ct=x(Ie,"scalar"),bt=!!x(Ie,"flat"),K=Z(Ie),ce=st,j=[],Ae=le.width*K.x,be=le.height*K.y;ce--;)j.push(D({x:Ae,y:be,angle:A,spread:z,startVelocity:Y,color:me[ce%me.length],shape:ut[M(0,ut.length)],ticks:fe,decay:pe,gravity:Ce,drift:J,scalar:Ct,flat:bt}));return ae?ae.addFettis(j):(ae=B(le,j,Ne,ot,dt),ae.promise)}function Ze(Ie){var ot=Be||x(Ie,"disableForReducedMotion",Boolean),dt=x(Ie,"zIndex",Number);if(ot&&at)return f(function(Y){Y()});xe&&ae?le=ae.canvas:xe&&!le&&(le=G(dt),document.body.appendChild(le)),Oe&&!Je&&Ne(le);var st={width:le.width,height:le.height};Me&&!Je&&Me.init(le),Je=!0,Me&&(le.__confetti_initialized=!0);function A(){if(Me){var Y={getBoundingClientRect:function(){if(!xe)return le.getBoundingClientRect()}};Ne(Y),Me.postMessage({resize:{width:Y.width,height:Y.height}});return}st.width=st.height=null}function z(){ae=null,Oe&&(ge=!1,r.removeEventListener("resize",A)),xe&&le&&(document.body.contains(le)&&document.body.removeChild(le),le=null,Je=!1)}return Oe&&!ge&&(ge=!0,r.addEventListener("resize",A,!1)),Me?Me.fire(Ie,st,z):Se(Ie,st,z)}return Ze.reset=function(){Me&&Me.reset(),ae&&ae.reset()},Ze}var X;function V(){return X||(X=W(null,{useWorker:!0,resize:!0})),X}function _e(le,N,xe,Oe,ge,Be,ze){var Me=new Path2D(le),Ne=new Path2D;Ne.addPath(Me,new DOMMatrix(N));var Je=new Path2D;return Je.addPath(Ne,new DOMMatrix([Math.cos(ze)*ge,Math.sin(ze)*ge,-Math.sin(ze)*Be,Math.cos(ze)*Be,xe,Oe])),Je}function ue(le){if(!s)throw new Error("path confetti are not supported in this browser");var N,xe;typeof le=="string"?N=le:(N=le.path,xe=le.matrix);var Oe=new Path2D(N),ge=document.createElement("canvas"),Be=ge.getContext("2d");if(!xe){for(var ze=1e3,Me=ze,Ne=ze,Je=0,at=0,ae,Se,Ze=0;Ze<ze;Ze+=2)for(var Ie=0;Ie<ze;Ie+=2)Be.isPointInPath(Oe,Ze,Ie,"nonzero")&&(Me=Math.min(Me,Ze),Ne=Math.min(Ne,Ie),Je=Math.max(Je,Ze),at=Math.max(at,Ie));ae=Je-Me,Se=at-Ne;var ot=10,dt=Math.min(ot/ae,ot/Se);xe=[dt,0,0,dt,-Math.round(ae/2+Me)*dt,-Math.round(Se/2+Ne)*dt]}return{type:"path",path:N,matrix:xe}}function Ve(le){var N,xe=1,Oe="#000000",ge='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof le=="string"?N=le:(N=le.text,xe="scalar"in le?le.scalar:xe,ge="fontFamily"in le?le.fontFamily:ge,Oe="color"in le?le.color:Oe);var Be=10*xe,ze=""+Be+"px "+ge,Me=new OffscreenCanvas(Be,Be),Ne=Me.getContext("2d");Ne.font=ze;var Je=Ne.measureText(N),at=Math.ceil(Je.actualBoundingBoxRight+Je.actualBoundingBoxLeft),ae=Math.ceil(Je.actualBoundingBoxAscent+Je.actualBoundingBoxDescent),Se=2,Ze=Je.actualBoundingBoxLeft+Se,Ie=Je.actualBoundingBoxAscent+Se;at+=Se+Se,ae+=Se+Se,Me=new OffscreenCanvas(at,ae),Ne=Me.getContext("2d"),Ne.font=ze,Ne.fillStyle=Oe,Ne.fillText(N,Ze,Ie);var ot=1/xe;return{type:"bitmap",bitmap:Me.transferToImageBitmap(),matrix:[ot,0,0,ot,-at*ot/2,-ae*ot/2]}}e.exports=function(){return V().apply(this,arguments)},e.exports.reset=function(){V().reset()},e.exports.create=W,e.exports.shapeFromPath=ue,e.exports.shapeFromText=Ve})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Op,!1);Op.exports.create;var gz=$n,mz=gu,yz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_z=/^\w*$/;function bz(o,r){if(gz(o))return!1;var e=typeof o;return e=="number"||e=="symbol"||e=="boolean"||o==null||mz(o)?!0:_z.test(o)||!yz.test(o)||r!=null&&o in Object(r)}var am=bz,lC=Gg,wz="Expected a function";function sm(o,r){if(typeof o!="function"||r!=null&&typeof r!="function")throw new TypeError(wz);var e=function(){var t=arguments,n=r?r.apply(this,t):t[0],i=e.cache;if(i.has(n))return i.get(n);var s=o.apply(this,t);return e.cache=i.set(n,s)||i,s};return e.cache=new(sm.Cache||lC),e}sm.Cache=lC;var xz=sm,Cz=xz,Sz=500;function Oz(o){var r=Cz(o,function(t){return e.size===Sz&&e.clear(),t}),e=r.cache;return r}var Tz=Oz,Ez=Tz,Pz=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kz=/\\(\\)?/g,Az=Ez(function(o){var r=[];return o.charCodeAt(0)===46&&r.push(""),o.replace(Pz,function(e,t,n,i){r.push(n?i.replace(kz,"$1"):t||e)}),r}),Mz=Az;function Vz(o,r){for(var e=-1,t=o==null?0:o.length,n=Array(t);++e<t;)n[e]=r(o[e],e,o);return n}var cC=Vz,d_=xl,Iz=cC,$z=$n,Dz=gu,p_=d_?d_.prototype:void 0,h_=p_?p_.toString:void 0;function uC(o){if(typeof o=="string")return o;if($z(o))return Iz(o,uC)+"";if(Dz(o))return h_?h_.call(o):"";var r=o+"";return r=="0"&&1/o==-1/0?"-0":r}var Lz=uC,jz=Lz;function Rz(o){return o==null?"":jz(o)}var Nz=Rz,Fz=$n,Bz=am,Hz=Mz,Uz=Nz;function zz(o,r){return Fz(o)?o:Bz(o,r)?[o]:Hz(Uz(o))}var fC=zz,Wz=gu;function qz(o){if(typeof o=="string"||Wz(o))return o;var r=o+"";return r=="0"&&1/o==-1/0?"-0":r}var Tp=qz,Kz=fC,Gz=Tp;function Zz(o,r){r=Kz(r,o);for(var e=0,t=r.length;o!=null&&e<t;)o=o[Gz(r[e++])];return e&&e==t?o:void 0}var lm=Zz,Xz=lm;function Yz(o,r,e){var t=o==null?void 0:Xz(o,r);return t===void 0?e:t}var dC=Yz;const Un=Eo(dC);function Jz(o){return o==null}var Qz=Jz;const v_=Eo(Qz);var g_=xl,eW=bp,tW=$n,m_=g_?g_.isConcatSpreadable:void 0;function rW(o){return tW(o)||eW(o)||!!(m_&&o&&o[m_])}var nW=rW,oW=rm,iW=nW;function pC(o,r,e,t,n){var i=-1,s=o.length;for(e||(e=iW),n||(n=[]);++i<s;){var l=o[i];r>0&&e(l)?r>1?pC(l,r-1,e,t,n):oW(n,l):t||(n[n.length]=l)}return n}var aW=pC,sW=_p,lW=im,cW=1,uW=2;function fW(o,r,e,t){var n=e.length,i=n,s=!t;if(o==null)return!i;for(o=Object(o);n--;){var l=e[n];if(s&&l[2]?l[1]!==o[l[0]]:!(l[0]in o))return!1}for(;++n<i;){l=e[n];var u=l[0],f=o[u],d=l[1];if(s&&l[2]){if(f===void 0&&!(u in o))return!1}else{var v=new sW;if(t)var m=t(f,d,u,o,r,v);if(!(m===void 0?lW(d,f,cW|uW,t,v):m))return!1}}return!0}var dW=fW,pW=Po;function hW(o){return o===o&&!pW(o)}var hC=hW,vW=hC,gW=hu;function mW(o){for(var r=gW(o),e=r.length;e--;){var t=r[e],n=o[t];r[e]=[t,n,vW(n)]}return r}var yW=mW;function _W(o,r){return function(e){return e==null?!1:e[o]===r&&(r!==void 0||o in Object(e))}}var vC=_W,bW=dW,wW=yW,xW=vC;function CW(o){var r=wW(o);return r.length==1&&r[0][2]?xW(r[0][0],r[0][1]):function(e){return e===o||bW(e,o,r)}}var SW=CW;function OW(o,r){return o!=null&&r in Object(o)}var TW=OW,EW=fC,PW=bp,kW=$n,AW=Xg,MW=Yg,VW=Tp;function IW(o,r,e){r=EW(r,o);for(var t=-1,n=r.length,i=!1;++t<n;){var s=VW(r[t]);if(!(i=o!=null&&e(o,s)))break;o=o[s]}return i||++t!=n?i:(n=o==null?0:o.length,!!n&&MW(n)&&AW(s,n)&&(kW(o)||PW(o)))}var $W=IW,DW=TW,LW=$W;function jW(o,r){return o!=null&&LW(o,r,DW)}var RW=jW,NW=im,FW=dC,BW=RW,HW=am,UW=hC,zW=vC,WW=Tp,qW=1,KW=2;function GW(o,r){return HW(o)&&UW(r)?zW(WW(o),r):function(e){var t=FW(e,o);return t===void 0&&t===r?BW(e,o):NW(r,t,qW|KW)}}var ZW=GW;function XW(o){return function(r){return r==null?void 0:r[o]}}var YW=XW,JW=lm;function QW(o){return function(r){return JW(r,o)}}var eq=QW,tq=YW,rq=eq,nq=am,oq=Tp;function iq(o){return nq(o)?tq(oq(o)):rq(o)}var aq=iq,sq=SW,lq=ZW,cq=mu,uq=$n,fq=aq;function dq(o){return typeof o=="function"?o:o==null?cq:typeof o=="object"?uq(o)?lq(o[0],o[1]):sq(o):fq(o)}var pq=dq,hq=tC,vq=hu;function gq(o,r){return o&&hq(o,r,vq)}var mq=gq,yq=El;function _q(o,r){return function(e,t){if(e==null)return e;if(!yq(e))return o(e,t);for(var n=e.length,i=r?n:-1,s=Object(e);(r?i--:++i<n)&&t(s[i],i,s)!==!1;);return e}}var bq=_q,wq=mq,xq=bq,Cq=xq(wq),gC=Cq,Sq=gC,Oq=El;function Tq(o,r){var e=-1,t=Oq(o)?Array(o.length):[];return Sq(o,function(n,i,s){t[++e]=r(n,i,s)}),t}var Eq=Tq;function Pq(o,r){var e=o.length;for(o.sort(r);e--;)o[e]=o[e].value;return o}var kq=Pq,y_=gu;function Aq(o,r){if(o!==r){var e=o!==void 0,t=o===null,n=o===o,i=y_(o),s=r!==void 0,l=r===null,u=r===r,f=y_(r);if(!l&&!f&&!i&&o>r||i&&s&&u&&!l&&!f||t&&s&&u||!e&&u||!n)return 1;if(!t&&!i&&!f&&o<r||f&&e&&n&&!t&&!i||l&&e&&n||!s&&n||!u)return-1}return 0}var Mq=Aq,Vq=Mq;function Iq(o,r,e){for(var t=-1,n=o.criteria,i=r.criteria,s=n.length,l=e.length;++t<s;){var u=Vq(n[t],i[t]);if(u){if(t>=l)return u;var f=e[t];return u*(f=="desc"?-1:1)}}return o.index-r.index}var $q=Iq,av=cC,Dq=lm,Lq=pq,jq=Eq,Rq=kq,Nq=xp,Fq=$q,Bq=mu,Hq=$n;function Uq(o,r,e){r.length?r=av(r,function(i){return Hq(i)?function(s){return Dq(s,i.length===1?i[0]:i)}:i}):r=[Bq];var t=-1;r=av(r,Nq(Lq));var n=jq(o,function(i,s,l){var u=av(r,function(f){return f(i)});return{criteria:u,index:++t,value:i}});return Rq(n,function(i,s){return Fq(i,s,e)})}var zq=Uq,Wq=aW,qq=zq,Kq=iC,__=aC,Gq=Kq(function(o,r){if(o==null)return[];var e=r.length;return e>1&&__(o,r[0],r[1])?r=[]:e>2&&__(r[0],r[1],r[2])&&(r=[r[0]]),qq(o,Wq(r,1),[])}),Zq=Gq;const b_=Eo(Zq),_c=Vue.computed,yi=Vue.toValue,Xq=_app_.store.useStore;function Yq(o){const r=Xq(),e=_c({set(v){r.commit("dataViews/SET",{identifier:yi(o),views:v})},get(){return r.getters["dataViews/getAll"](yi(o))}}),t=_c({set(v){r.commit("dataViews/SET_ACTIVE",{identifier:yi(o),id:v})},get(){return r.getters["dataViews/getActive"](yi(o))}}),n=_c(()=>!!t.value),i=_c(()=>e.value.find(v=>v.is_open_for_user)),s=_c({set(v){r.commit("dataViews/SET_BUILDER_VISIBLE",{identifier:yi(o),viewId:t.value.id,visible:v})},get(){return r.getters["dataViews/filtersBuilderVisible"](yi(o),t.value.id)}});function l(v){r.commit("dataViews/UPDATE",{identifier:yi(o),view:v})}function u(v){r.commit("dataViews/REMOVE",{identifier:yi(o),id:v})}function f(v){r.commit("dataViews/PUSH",{identifier:yi(o),view:v})}function d(v){return e.value.find(m=>parseInt(m.id)===parseInt(v))}return{views:e,filtersBuilderVisible:s,activeView:t,hasActiveView:n,firstOpenView:i,patchView:l,removeView:u,addView:f,findView:d}}Vue.onUnmounted;function Oi(...o){Innoclapps.$emit(...o)}const Ro=Vue.computed,sv=Vue.toValue,mC=_app_.store.useStore;function Ep(o,r=null){const e=mC(),{activeView:t}=Yq(o);let n=Ro(()=>sv(r)||sv(o));const i=Ro({set(T){e.commit("table/SET_SETTINGS",{id:n.value,settings:T})},get(){return e.state.table.settings[n.value]||{}}}),s=Ro(()=>t.value?b_(M(Un(i.value,"columns",[]),Un(t.value,"config.table.columns",[])),"order"):b_(i.value.columns||[],"order")),l=Ro(()=>parseInt(Un(t.value,"config.table.perPage",Un(i.value,"defaults.perPage",25)))),u=Ro(()=>Un(t.value,"config.table.condensed",Un(i.value,"defaults.condensed",!1))),f=Ro(()=>Un(t.value,"config.table.bordered",Un(i.value,"defaults.bordered",!1))),d=Ro(()=>Un(t.value,"config.table.pollingInterval",Un(i.value,"defaults.pollingInterval"))),v=Ro(()=>Un(t.value,"config.table.order",Un(i.value,"defaults.order",[]))),m=Ro(()=>Un(t.value,"config.table.maxHeight",Un(i.value,"defaults.maxHeight"))),y=Ro(()=>{let T=m.value;return!v_(T)&&T>0?T+"px":"10000px"}),b=Ro(()=>!v_(m.value));function w(){Oi("reload-resource-table",sv(o))}async function x(T,E){if(Object.keys(i.value).length>0)return i.value;let{data:Z}=await Innoclapps.request(`/${T}/table/settings`,E);return Z}async function O(T,E){let{data:U}=await Innoclapps.request(`/${T}/table/settings`,E);i.value={...i.value,actions:U.actions}}function M(T,E){return xa(T).map(U=>{let Z=E.find(te=>te.attribute===U.attribute);return Z?{...U,...Z}:U})}return{reloadTable:w,settings:i,fetchSettings:x,fetchActions:O,columns:s,perPage:l,isCondensed:u,isBordered:f,pollingInterval:d,defaultOrder:v,maxHeight:m,maxHeightPx:y,isSticky:b}}function Jq(){const o=mC();return()=>o.commit("table/FLUSH_SETTINGS")}const Fs=Vue.computed,Qq=Vue.onUnmounted,eK=Vue.readonly,tK=Vue.ref,rK=_app_.store.useStore;function cm(){const o=rK(),r=Jq(),e=tK(document.documentElement.classList.contains("dark"));let t=new MutationObserver(T=>{T.forEach(E=>{E.type==="attributes"&&E.attributeName==="class"&&(e.value=document.documentElement.classList.contains("dark"))})});t.observe(document.documentElement,{attributes:!0}),Qq(()=>{t.disconnect(),t=null});const n=Fs(()=>o.state.sidebarMenuItems),i=Fs({get(){return o.state.sidebarOpen},set(T){o.commit("SET_SIDEBAR_OPEN",T)}}),s=Fs(()=>w("locales")),l=w("url"),u=Fs(()=>vz()),f=w("environment"),d=Fs(()=>o.getters["users/current"]),v=Fs(()=>o.state.users.collection);function m(T){return o.getters["users/getById"](T)}function y(){let T=Innoclapps.scriptConfig("url");Innoclapps.request({baseURL:T,method:"POST",url:"/logout"}).then(()=>{window.location.href=T+"/login"})}function b(){r(),o.commit("fields/RESET")}function w(...T){return Innoclapps.scriptConfig(...T)}function x(){return w("mailable_templates.can_send_via_mail_client")||w("mailable_templates.can_send_via_mailer")}function O(){return!!w("integrations.microsoft.client_id")}function M(){return!!w("integrations.google.client_id")}return{environment:f,appUrl:l,locale:u,locales:s,currentUser:d,users:v,sidebarOpen:i,sidebarItems:n,findUserById:m,logout:y,isDarkMode:eK(e),resetStoreState:b,isGoogleApiConfigured:M,isMicrosoftGraphConfigured:O,isMailerConfiguredToSendEmails:x,scriptConfig:w}}const nK=Vue.nextTick,oK=Vue.readonly,iK=Vue.ref,aK=Vue.shallowRef,sK=_app_.i18n.useI18n;function um(){const{t:o}=sK(),{form:r}=In(),{scriptConfig:e}=cm(),t=iK(!1),n=aK({});async function i(){const{data:f}=await Innoclapps.request("/settings");r.set(f),n.value=f,t.value=!0}function s(f){for(let d in f)e(d)!==void 0&&e(d,f[d])}function l(f){r.post("settings").then(d=>{Innoclapps.success(o("core::settings.updated")),typeof f=="function"&&f(r,d),s(r.data())})}async function u(f){await nK(),l(f)}return i(),{isReady:t,submit:u,saveSettings:l,originalSettings:oK(n),form:r}}const Ft=Vue.unref,w_=Vue.toDisplayString,Fa=Vue.createElementVNode,lK=Vue.createTextVNode,nn=Vue.resolveComponent,gr=Vue.withCtx,Bt=Vue.createVNode,x_=Vue.withModifiers,ra=Vue.openBlock,hf=Vue.createElementBlock,bc=Vue.createCommentVNode,vf=Vue.createBlock,cK=Vue.renderList,C_=Vue.Fragment,uK={class:"my-5 items-center justify-between"},fK={key:0},dK={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-6"},pK={class:"sm:col-span-12"},hK={class:"grid grid-cols-1"},vK=["value"],S_=Vue.nextTick,gK=Vue.onMounted,on=Vue.ref,mK=_app_.i18n.useI18n,yK={__name:"General",setup(o){const{te:r,t:e}=mK(),t=on([]),{form:n,isReady:i,submit:s,originalSettings:l}=um(),u=on(!1);n.enable_pricing_mode=on(!1),n.invoice_payment_requirement_status=on("overdue"),n.alternative_base_host=on(""),n.tenant_path=on(""),n.reserved_tenant_ids=on("www,app,deal,controller,master,ww3,hack"),n.extra_paths=on("/admin/settings, /config"),n.landing_page_url=on(""),n.landing_page=on(""),n.mode=on(""),n.enable_landing_page_url=on(!1),n.enable_subdomain_signup=on(!1),n.enable_custom_domain_signup=on(!1),n.create_invoice_before=on(""),n.overdue_days=on(),n.tenant_registration=on(),gK(async()=>{try{const v=await ar.get("/api/saas/pages");await S_(),t.value=v.data||[]}catch(v){console.error("Error fetching landing pages:",v)}}),r("saas::saas.setting.activation_code")||Innoclapps.request().post("/generate-translations").then(()=>window.location.reload()).catch(v=>console.error(v));async function d(){await S_(),u.value=!0,n.post("modules/saas/activation").then(()=>{Innoclapps.success(e("saas::saas.setting.activation_success")),window.location.reload()}).catch(v=>{Innoclapps.error(v.response.data.message)}).finally(()=>{u.value=!1})}return(v,m)=>{var W;const y=nn("IAlertBody"),b=nn("IAlert"),w=nn("ICardHeading"),x=nn("ICardHeader"),O=nn("IFormInput"),M=nn("IFormGroup"),T=nn("ICardBody"),E=nn("IButton"),U=nn("ICardFooter"),Z=nn("ICard"),te=nn("IFormRadio"),ee=nn("IFormRadioLabel"),G=nn("IFormRadioField"),q=nn("IFormSelect"),D=nn("IFormSwitchLabel"),$=nn("IFormSwitch"),B=nn("IFormSwitchField");return ra(),hf(C_,null,[Bt(b,{variant:"info",show:Ft(i)&&!((W=Ft(l))!=null&&W.invoice_module_active)},{default:gr(()=>[Bt(y,null,{default:gr(()=>[lK(w_(Ft(e)("saas::saas.invoice_module_requirement_info"))+" ",1),m[12]||(m[12]=Fa("a",{class:"mr-1.5 text-base/6 text-primary-600 no-underline last:mr-0 hover:text-primary-900 focus:outline-none dark:text-primary-300 dark:hover:text-primary-400 sm:text-sm/6",href:"https://1.envato.market/themesic",target:"_blank"}," https://1.envato.market/themesic ",-1))]),_:1})]),_:1},8,["show"]),Fa("div",uK,[!Ft(l).saas_module_active&&Ft(i)?(ra(),hf("div",fK,[Bt(Z,{as:"form",overlay:!Ft(i),onSubmit:x_(d,["prevent"])},{default:gr(()=>[Bt(x,null,{default:gr(()=>[Bt(w,{text:v.$t("saas::saas.title")},null,8,["text"])]),_:1}),Bt(T,null,{default:gr(()=>[Fa("div",dK,[Fa("div",pK,[Bt(M,{"label-for":"activation_code",label:v.$t("saas::saas.setting.activation_code"),required:""},{default:gr(()=>[Bt(O,{id:"activation_code",modelValue:Ft(n).saas_activation_code,"onUpdate:modelValue":m[0]||(m[0]=X=>Ft(n).saas_activation_code=X)},null,8,["modelValue"])]),_:1},8,["label"])])])]),_:1}),Bt(U,{class:"text-right"},{default:gr(()=>[Bt(E,{type:"submit",variant:"primary",disabled:u.value,text:v.$t("saas::saas.setting.activate")},null,8,["disabled","text"])]),_:1})]),_:1},8,["overlay"])])):bc("",!0),Ft(l).saas_module_active?(ra(),vf(Z,{key:1,as:"form",overlay:!Ft(i),onSubmit:x_(Ft(s),["prevent"])},{default:gr(()=>[Bt(T,null,{default:gr(()=>[Fa("div",hK,[Bt(M,{"label-for":"domain",label:"Set Domain"},{default:gr(()=>[Bt(O,{id:"domain",modelValue:Ft(n).domain,"onUpdate:modelValue":m[1]||(m[1]=X=>Ft(n).domain=X),placeholder:"concord.com"},null,8,["modelValue"])]),_:1}),Bt(M,{"label-for":"create_invoice_before",label:v.$t("saas::saas.setting.create_invoice_before")},{default:gr(()=>{var X;return[Bt(O,{id:"create_invoice_before",modelValue:Ft(n).before_expiry_notification,"onUpdate:modelValue":m[2]||(m[2]=V=>Ft(n).before_expiry_notification=V),type:"number",disabled:!((X=Ft(l))!=null&&X.invoice_module_active)},null,8,["modelValue","disabled"])]}),_:1},8,["label"]),Bt(M,{"label-for":"overdue_days",label:v.$t("saas::saas.setting.overdue_days")},{default:gr(()=>[Bt(O,{id:"overdue_days",modelValue:Ft(n).overdue_days,"onUpdate:modelValue":m[3]||(m[3]=X=>Ft(n).overdue_days=X),type:"number"},null,8,["modelValue"])]),_:1},8,["label"]),Bt(M,{"label-for":"enable_url_landing_page",label:v.$t("saas::saas.setting.landing_page_url")},{default:gr(()=>[Bt(G,null,{default:gr(()=>[Bt(te,{modelValue:Ft(n).enable_landing_page_url,"onUpdate:modelValue":m[4]||(m[4]=X=>Ft(n).enable_landing_page_url=X),value:!0},null,8,["modelValue"]),Bt(ee,{text:v.$t("core::app.yes")},null,8,["text"])]),_:1}),Bt(G,null,{default:gr(()=>[Bt(te,{modelValue:Ft(n).enable_landing_page_url,"onUpdate:modelValue":m[5]||(m[5]=X=>Ft(n).enable_landing_page_url=X),value:!1},null,8,["modelValue"]),Bt(ee,{text:v.$t("core::app.no")},null,8,["text"])]),_:1})]),_:1},8,["label"]),Ft(n).enable_landing_page_url?(ra(),vf(M,{key:0,"label-for":"landing_page_url",label:"Set Landing Page URL"},{default:gr(()=>[Bt(O,{id:"landing_page_url",modelValue:Ft(n).landing_page_url,"onUpdate:modelValue":m[6]||(m[6]=X=>Ft(n).landing_page_url=X),placeholder:"https://mycrm.com/home"},null,8,["modelValue"])]),_:1})):bc("",!0),Ft(n).enable_landing_page_url?(ra(),vf(M,{key:1,"label-for":"mode",label:"Mode"},{default:gr(()=>[Bt(q,{id:"mode",modelValue:Ft(n).mode,"onUpdate:modelValue":m[7]||(m[7]=X=>Ft(n).mode=X)},{default:gr(()=>m[13]||(m[13]=[Fa("option",{value:"proxy"},"Proxy",-1),Fa("option",{value:"redirection"},"Redirection",-1)])),_:1},8,["modelValue"])]),_:1})):bc("",!0),Ft(n).enable_landing_page_url?bc("",!0):(ra(),vf(M,{key:2,"label-for":"landing_page",label:"Select Landing Page"},{default:gr(()=>[Bt(q,{id:"landing_page",modelValue:Ft(n).landing_page,"onUpdate:modelValue":m[8]||(m[8]=X=>Ft(n).landing_page=X)},{default:gr(()=>[(ra(!0),hf(C_,null,cK(t.value,X=>(ra(),hf("option",{key:X.id,value:X.id},w_(X.name),9,vK))),128))]),_:1},8,["modelValue"])]),_:1})),Bt(B,null,{default:gr(()=>[Bt(D,{text:v.$t("saas::saas.setting.enable_subdomain_signup")},null,8,["text"]),Bt($,{modelValue:Ft(n).enable_subdomain_signup,"onUpdate:modelValue":m[9]||(m[9]=X=>Ft(n).enable_subdomain_signup=X)},null,8,["modelValue"])]),_:1}),Bt(B,null,{default:gr(()=>[Bt(D,{text:v.$t("saas::saas.setting.enable_custom_domain_signup")},null,8,["text"]),Bt($,{modelValue:Ft(n).enable_custom_domain_signup,"onUpdate:modelValue":m[10]||(m[10]=X=>Ft(n).enable_custom_domain_signup=X)},null,8,["modelValue"])]),_:1}),Bt(B,null,{default:gr(()=>[Bt(D,{text:v.$t("saas::saas.setting.tenant_registration")},null,8,["text"]),Bt($,{modelValue:Ft(n).tenant_registration,"onUpdate:modelValue":m[11]||(m[11]=X=>Ft(n).tenant_registration=X)},null,8,["modelValue"])]),_:1})])]),_:1}),Bt(U,{class:"text-right"},{default:gr(()=>[Bt(E,{type:"submit",variant:"primary",disabled:Ft(n).busy,text:v.$t("core::app.save")},null,8,["disabled","text"])]),_:1})]),_:1},8,["overlay","onSubmit"])):bc("",!0)])],64)}}},_K=bl(yK,[["__scopeId","data-v-342402c5"]]),hn=Vue.resolveComponent,Vt=Vue.createVNode,mr=Vue.withCtx,Zt=Vue.unref,gf=Vue.openBlock,lv=Vue.createElementBlock,cv=Vue.createCommentVNode,O_=Vue.toDisplayString,T_=Vue.createTextVNode,bK=Vue.createBlock,wK=Vue.withModifiers,xK=Vue.Fragment,CK={key:0,class:"bg-yellow-500 dark:bg-gray-800 dark:text-yellow-300 mb-4 rounded-lg p-4 text-sm",style:{color:"oklch(0.476 0.114 61.907)"},role:"alert"},SK={key:1},uv=Vue.ref,OK={__name:"Integration",setup(o){const{form:r,isReady:e,submit:t,originalSettings:n}=um(),i=uv(0),s=uv(!1),l=uv(null),u=v=>{i.value=v},f=async()=>{var v,m;try{s.value=!0,l.value=null;const y=await ar.post("/saas/test-database-connection",{db_host:r.mysql_host,database:r.mysql_database,db_user:r.mysql_username,db_password:r.mysql_password});return y.data.success?!0:(l.value=y.data.message,!1)}catch(y){return l.value=((m=(v=y.response)==null?void 0:v.data)==null?void 0:m.message)||"Database connection failed.",!1}finally{s.value=!1}},d=async()=>{if(r.mysql_enabled){const v=await f();if(alert(v),!v)return}t()};return(v,m)=>{const y=hn("ICardHeading"),b=hn("ICardHeader"),w=hn("ITab"),x=hn("ITabList"),O=hn("IFormCheckbox"),M=hn("IFormCheckboxLabel"),T=hn("IFormCheckboxField"),E=hn("IFormInput"),U=hn("IFormGroup"),Z=hn("ITabPanel"),te=hn("ITabPanels"),ee=hn("ITabGroup"),G=hn("ICardBody"),q=hn("IButton"),D=hn("ICardFooter"),$=hn("ICard");return gf(),lv(xK,null,[Vt(b,null,{default:mr(()=>[Vt(y,{text:v.$t("saas::saas.setting.integration")},null,8,["text"])]),_:1}),Vt($,{as:"form",overlay:!Zt(e),onSubmit:wK(d,["prevent"])},{default:mr(()=>[Vt(G,null,{default:mr(()=>[Zt(n).saas_module_active?cv("",!0):(gf(),lv("div",CK," Please active Saas module first. ")),Zt(n).saas_module_active?(gf(),lv("div",SK,[Vt(ee,{modelValue:i.value,"onUpdate:modelValue":m[15]||(m[15]=B=>i.value=B)},{default:mr(()=>[Vt(x,null,{default:mr(()=>[Vt(w,{onActivated:m[0]||(m[0]=B=>u(0))},{default:mr(()=>[T_(O_(v.$t("saas::saas.setting.cpanel")),1)]),_:1}),Vt(w,{onActivated:m[1]||(m[1]=B=>u(2))},{default:mr(()=>[T_(O_(v.$t("saas::saas.setting.mysql_root")),1)]),_:1})]),_:1}),Vt(te,null,{default:mr(()=>[Vt(Z,null,{default:mr(()=>[Vt(T,{class:"mb-2"},{default:mr(()=>[Vt(O,{checked:Zt(r).cpanel_enabled,"onUpdate:checked":m[2]||(m[2]=B=>Zt(r).cpanel_enabled=B)},null,8,["checked"]),Vt(M,{text:v.$t("saas::saas.setting.cpanel_enabled")},null,8,["text"])]),_:1}),Vt(U,{"label-for":"cpanel_login_domain",label:v.$t("saas::saas.setting.cpanel_login_domain")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).cpanel_login_domain,"onUpdate:modelValue":m[3]||(m[3]=B=>Zt(r).cpanel_login_domain=B)},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"cpanel_port",label:v.$t("saas::saas.setting.cpanel_port")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).cpanel_port,"onUpdate:modelValue":m[4]||(m[4]=B=>Zt(r).cpanel_port=B),type:"number"},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"cpanel_username",label:v.$t("saas::saas.setting.cpanel_username")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).cpanel_username,"onUpdate:modelValue":m[5]||(m[5]=B=>Zt(r).cpanel_username=B)},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"cpanel_password",label:v.$t("saas::saas.setting.cpanel_password")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).cpanel_password,"onUpdate:modelValue":m[6]||(m[6]=B=>Zt(r).cpanel_password=B),type:"password"},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"cpanel_db_prefix",label:v.$t("saas::saas.setting.cpanel_db_prefix")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).cpanel_db_prefix,"onUpdate:modelValue":m[7]||(m[7]=B=>Zt(r).cpanel_db_prefix=B)},null,8,["modelValue"])]),_:1},8,["label"]),Vt(T,null,{default:mr(()=>[Vt(O,{checked:Zt(r).cpanel_addon_domain,"onUpdate:checked":m[8]||(m[8]=B=>Zt(r).cpanel_addon_domain=B)},null,8,["checked"]),Vt(M,{text:v.$t("saas::saas.setting.cpanel_addon_domain")},null,8,["text"])]),_:1})]),_:1}),Vt(Z,null,{default:mr(()=>[Vt(T,{class:"mb-3"},{default:mr(()=>[Vt(O,{checked:Zt(r).mysql_root_enabled,"onUpdate:checked":m[9]||(m[9]=B=>Zt(r).mysql_root_enabled=B)},null,8,["checked"]),Vt(M,{text:v.$t("saas::saas.setting.mysql_enabled")},null,8,["text"])]),_:1}),Vt(U,{"label-for":"mysql_host",label:v.$t("saas::saas.setting.mysql_host")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).mysql_root_host,"onUpdate:modelValue":m[10]||(m[10]=B=>Zt(r).mysql_root_host=B)},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"mysql_port",label:v.$t("saas::saas.setting.mysql_port")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).mysql_root_port,"onUpdate:modelValue":m[11]||(m[11]=B=>Zt(r).mysql_root_port=B),type:"number"},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"mysql_username",label:v.$t("saas::saas.setting.mysql_username")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).mysql_root_username,"onUpdate:modelValue":m[12]||(m[12]=B=>Zt(r).mysql_root_username=B)},null,8,["modelValue"])]),_:1},8,["label"]),Vt(U,{"label-for":"mysql_password",label:v.$t("saas::saas.setting.mysql_password")},{default:mr(()=>[Vt(E,{modelValue:Zt(r).mysql_root_password,"onUpdate:modelValue":m[13]||(m[13]=B=>Zt(r).mysql_root_password=B),type:"password"},null,8,["modelValue"])]),_:1},8,["label"]),Vt(T,null,{default:mr(()=>[Vt(O,{checked:Zt(r).mysql_root_create_user,"onUpdate:checked":m[14]||(m[14]=B=>Zt(r).mysql_root_create_user=B)},null,8,["checked"]),Vt(M,{text:v.$t("saas::saas.setting.mysql_create_user")},null,8,["text"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):cv("",!0)]),_:1}),Zt(n).saas_module_active?(gf(),bK(D,{key:0,class:"text-right"},{default:mr(()=>[Vt(q,{type:"submit",variant:"primary",disabled:Zt(r).busy,text:v.$t("core::app.save")},null,8,["disabled","text"])]),_:1})):cv("",!0)]),_:1},8,["overlay"])],64)}}},TK=Vue.ref;_app_.router.onBeforeRouteUpdate;const EK=_app_.router.useRoute,PK=_app_.router.useRouter;EK();PK();TK(0);const kK={name:"SaasSettingManager",components:{General:_K,Integration:OK},data(){return{activeTabIndex:0}},methods:{changeTab(o){this.activeTabIndex=o}}},Ko=Vue.resolveComponent,E_=Vue.openBlock,AK=Vue.createBlock,MK=Vue.createCommentVNode,_i=Vue.withCtx,ao=Vue.createVNode,P_=Vue.toDisplayString,k_=Vue.createTextVNode,VK=Vue.Fragment,IK=Vue.createElementBlock;function $K(o,r,e,t,n,i){const s=Ko("Icon"),l=Ko("ICardHeading"),u=Ko("ICardHeader"),f=Ko("ITab"),d=Ko("ITabList"),v=Ko("General"),m=Ko("ITabPanel"),y=Ko("Integration"),b=Ko("ITabPanels"),w=Ko("ITabGroup");return E_(),IK(VK,null,[ao(u,null,{default:_i(()=>[ao(l,{class:"flex items-center gap-x-2"},{default:_i(()=>[o.isConfigured&&o.componentReady?(E_(),AK(s,{key:0,icon:"CheckCircleSolid",class:"size-5 text-success-600"})):MK("",!0)]),_:1})]),_:1}),ao(w,{modelValue:n.activeTabIndex,"onUpdate:modelValue":r[2]||(r[2]=x=>n.activeTabIndex=x)},{default:_i(()=>[ao(d,null,{default:_i(()=>[ao(f,{onActivated:r[0]||(r[0]=x=>i.changeTab(0))},{default:_i(()=>[ao(s,{icon:"User"}),k_(" "+P_(o.$t("saas::saas.setting.general")),1)]),_:1}),ao(f,{onActivated:r[1]||(r[1]=x=>i.changeTab(1))},{default:_i(()=>[ao(s,{icon:"ShieldExclamation"}),k_(" "+P_(o.$t("saas::saas.setting.integration")),1)]),_:1})]),_:1}),ao(b,null,{default:_i(()=>[ao(m,null,{default:_i(()=>[ao(v)]),_:1}),ao(m,null,{default:_i(()=>[ao(y)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const DK=bl(kK,[["render",$K],["__scopeId","data-v-dc37439c"]]);Vue.BaseTransition;Vue.BaseTransitionPropsValidators;Vue.Comment;Vue.DeprecationTypes;Vue.EffectScope;Vue.ErrorCodes;Vue.ErrorTypeStrings;Vue.Fragment;Vue.KeepAlive;Vue.ReactiveEffect;Vue.Static;Vue.Suspense;Vue.Teleport;Vue.Text;Vue.TrackOpTypes;Vue.Transition;Vue.TransitionGroup;Vue.TriggerOpTypes;Vue.VueElement;Vue.assertNumber;Vue.callWithAsyncErrorHandling;Vue.callWithErrorHandling;Vue.camelize;Vue.capitalize;Vue.cloneVNode;Vue.compatUtils;Vue.compile;Vue.computed;Vue.createApp;Vue.createBlock;Vue.createCommentVNode;const je=Vue.createElementBlock,ke=Vue.createElementVNode;Vue.createHydrationRenderer;Vue.createPropsRestProxy;Vue.createRenderer;Vue.createSSRApp;Vue.createSlots;Vue.createStaticVNode;Vue.createTextVNode;Vue.createVNode;Vue.customRef;Vue.defineAsyncComponent;const LK=Vue.defineComponent;Vue.defineCustomElement;Vue.defineEmits;Vue.defineExpose;Vue.defineModel;Vue.defineOptions;Vue.defineProps;Vue.defineSSRCustomElement;Vue.defineSlots;Vue.devtools;Vue.effect;const jK=Vue.effectScope;Vue.getCurrentInstance;Vue.getCurrentScope;Vue.getCurrentWatcher;Vue.getTransitionRawChildren;Vue.guardReactiveProps;const RK=Vue.h;Vue.handleError;Vue.hasInjectionContext;Vue.hydrate;Vue.hydrateOnIdle;Vue.hydrateOnInteraction;Vue.hydrateOnMediaQuery;Vue.hydrateOnVisible;Vue.initCustomFormatter;Vue.initDirectivesForSSR;Vue.inject;Vue.isMemoSame;Vue.isProxy;Vue.isReactive;Vue.isReadonly;Vue.isRef;Vue.isRuntimeOnly;Vue.isShallow;Vue.isVNode;Vue.markRaw;Vue.mergeDefaults;Vue.mergeModels;Vue.mergeProps;const NK=Vue.nextTick;Vue.normalizeClass;Vue.normalizeProps;Vue.normalizeStyle;Vue.onActivated;Vue.onBeforeMount;Vue.onBeforeUnmount;Vue.onBeforeUpdate;Vue.onDeactivated;Vue.onErrorCaptured;const FK=Vue.onMounted;Vue.onRenderTracked;Vue.onRenderTriggered;Vue.onScopeDispose;Vue.onServerPrefetch;Vue.onUnmounted;Vue.onUpdated;Vue.onWatcherCleanup;const Re=Vue.openBlock;Vue.popScopeId;Vue.provide;Vue.proxyRefs;Vue.pushScopeId;Vue.queuePostFlushCb;Vue.reactive;Vue.readonly;const A_=Vue.ref;Vue.registerRuntimeCompiler;Vue.render;Vue.renderList;Vue.renderSlot;Vue.resolveComponent;Vue.resolveDirective;Vue.resolveDynamicComponent;Vue.resolveFilter;Vue.resolveTransitionHooks;Vue.setBlockTracking;Vue.setDevtoolsHook;Vue.setTransitionHooks;Vue.shallowReactive;Vue.shallowReadonly;Vue.shallowRef;Vue.ssrContextKey;Vue.ssrUtils;Vue.stop;Vue.toDisplayString;Vue.toHandlerKey;Vue.toHandlers;Vue.toRaw;Vue.toRef;Vue.toRefs;Vue.toValue;Vue.transformVNodeArgs;Vue.triggerRef;const BK=Vue.unref;Vue.useAttrs;Vue.useCssModule;Vue.useCssVars;Vue.useHost;Vue.useId;Vue.useModel;Vue.useSSRContext;Vue.useShadowRoot;Vue.useSlots;Vue.useTemplateRef;Vue.useTransitionState;Vue.vModelCheckbox;Vue.vModelDynamic;Vue.vModelRadio;Vue.vModelSelect;Vue.vModelText;Vue.vShow;Vue.version;Vue.warn;const yC=Vue.watch;Vue.watchEffect;Vue.watchPostEffect;Vue.watchSyncEffect;Vue.withAsyncContext;Vue.withCtx;Vue.withDefaults;Vue.withDirectives;Vue.withKeys;Vue.withMemo;Vue.withModifiers;Vue.withScopeId;function _g(){return _g=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}return o},_g.apply(this,arguments)}var HK=function(){var r=!1,e=[],t=function(){if(!r){r=!0;for(var l=0,u=e.length;l<u;l++)e[l]()}},n=function(l){if(!r){e.push(l);return}l()},i={resolved:function(){return r},resolve:t,promise:{then:n}};return i},M_=Object.prototype.hasOwnProperty;function UK(){var o=HK();return{notify:function(){o.resolve()},wait:function(){return o.promise},render:function(e,t,n){this.wait().then(function(){n(window.grecaptcha.render(e,t))})},reset:function(e){typeof e>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){typeof e>"u"||(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){M_.call(window,"grecaptcha")&&M_.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!o.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var Bc=UK();typeof window<"u"&&(window.vueRecaptchaApiLoaded=Bc.notify);var zK=LK({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(r,e){var t=e.slots,n=e.emit,i=A_(null),s=A_(null),l=function(v){n("verify",v)},u=function(){n("expired")},f=function(){n("error")};return FK(function(){if(Bc.checkRecaptchaLoad(),r.loadRecaptchaScript&&!document.getElementById(r.recaptchaScriptId)){var d=document.createElement("script");d.id=r.recaptchaScriptId,d.src="https://"+r.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+r.language,d.async=!0,d.defer=!0,document.head.appendChild(d)}var v=_g({},r,{callback:l,"expired-callback":u,"error-callback":f}),m=i.value,y=t.default?m.children[0]:m;Bc.render(y,v,function(b){s.value=b,n("render",b)})}),{root:i,widgetId:s,reset:function(){Bc.reset(s.value)},execute:function(){Bc.execute(s.value)}}},render:function(){var r=this.$slots.default,e;return typeof r=="function"?e=r():e=r,RK("div",{ref:"root"},e)}});const V_=Vue.openBlock,WK=Vue.createElementBlock,qK=Vue.createCommentVNode,KK=Vue.renderSlot,GK=Vue.toDisplayString,ZK=Vue.createTextVNode,XK=Vue.resolveDynamicComponent,YK=Vue.withCtx,JK=Vue.createBlock,QK={key:0,class:"mr-1 text-base text-danger-600 sm:text-sm",textContent:"*"},eG=Vue.computed,I_={__name:"IFormLabel",props:{as:{type:[String,Object],default:"label"},label:String,required:Boolean},setup(o){const r=o,e=eG(()=>r.required&&r.label);return(t,n)=>(V_(),JK(XK(o.as),{"data-slot":"label",class:"block text-base font-medium text-neutral-900 dark:text-white sm:text-sm"},{default:YK(()=>[e.value?(V_(),WK("span",QK)):qK("",!0),KK(t.$slots,"default",{},()=>[ZK(GK(o.label),1)])]),_:3}))}},Tt=Vue.unref,na=Vue.resolveComponent,kt=Vue.createVNode,Br=Vue.withCtx,vn=Vue.createElementVNode,tG=Vue.resolveDirective,bi=Vue.openBlock,wc=Vue.createElementBlock,$_=Vue.withDirectives,Bs=Vue.createCommentVNode,mf=Vue.createBlock,fv=Vue.toDisplayString,rG=Vue.createTextVNode,nG=Vue.withModifiers,oG={class:"grid grid-cols-1 gap-x-4 sm:grid-cols-6"},iG={class:"sm:col-span-3"},aG={class:"sm:col-span-3"},sG={class:"sm:col-span-3"},lG={class:"sm:col-span-3"},cG={class:"sm:col-span-3"},uG={key:0,class:"sm:col-span-3"},fG={class:"flex items-center"},dG={key:1,class:"sm:col-span-3"},pG={class:"flex items-center"},hG={class:"sm:col-span-3"},vG={class:"sm:col-span-3"},gG={class:"sm:col-span-3"},mG={class:"sm:col-span-3"},yG={class:"sm:col-span-3"},_G={class:"flex items-center justify-between"},bG=Vue.computed,xc=Vue.ref,wG=_app_.i18n.useI18n,xG={__name:"TenantRegister",props:{domainEnabled:Boolean,subdomainEnabled:Boolean,countries:Array,packages:Array},setup(o){const r=o,{t:e}=wG(),{appUrl:t,scriptConfig:n}=cm(),i=n("reCaptcha")||{},s=xc(null),l=xc(!1),u=xc(!1),f=xc(""),d=xc(!1),{form:v}=In({email:null,password:null,remember:null,"g-recaptcha-response":null}),m=bG(()=>l.value);async function y(){l.value=!0,await Innoclapps.request(t+"/sanctum/csrf-cookie"),v.post(t+"/tenant/register").then(()=>{l.value=!1,d.value=!0,setTimeout(()=>d.value=!1,3e3),v.reset()}).finally(()=>{l.value=!1,s.value&&s.value.reset()}).catch(w=>{w.isValidationError()?(u.value=!0,f.value=e("core::app.form_validation_failed"),setTimeout(()=>{u.value=!1,f.value=""},5e3)):(u.value=!0,f.value="An Error occurred",setTimeout(()=>{u.value=!1,f.value=""},3e3))})}function b(w){v.fill("g-recaptcha-response",w)}return(w,x)=>{const O=na("IFormInput"),M=na("IFormError"),T=na("IFormGroup"),E=na("ICustomSelect"),U=na("IButton"),Z=na("ILinkBase"),te=na("IAlertBody"),ee=na("IAlert"),G=tG("i-tooltip");return bi(),wc("form",{class:"space-y-6",onSubmit:x[14]||(x[14]=nG((...q)=>w.submit&&w.submit(...q),["prevent"]))},[vn("div",oG,[vn("div",iG,[kt(T,{"label-for":"first_name",label:w.$t("contacts::fields.contacts.first_name"),required:""},{default:Br(()=>[kt(O,{id:"first_name",modelValue:Tt(v).first_name,"onUpdate:modelValue":x[0]||(x[0]=q=>Tt(v).first_name=q),type:"first_name",name:"first_name",autocomplete:"first_name",disabled:Tt(v).busy,autofocus:""},null,8,["modelValue","disabled"]),kt(M,{error:Tt(v).getError("first_name")},null,8,["error"])]),_:1},8,["label"])]),vn("div",aG,[kt(T,{"label-for":"last_name",label:w.$t("contacts::fields.contacts.last_name"),required:""},{default:Br(()=>[kt(O,{id:"last_name",ref:"last_nameRef",modelValue:Tt(v).last_name,"onUpdate:modelValue":x[1]||(x[1]=q=>Tt(v).last_name=q),name:"last_name",disabled:Tt(v).busy,required:""},null,8,["modelValue","disabled"]),kt(M,{error:Tt(v).getError("last_name")},null,8,["error"])]),_:1},8,["label"])]),vn("div",sG,[kt(T,{"label-for":"email",label:w.$t("contacts::fields.contacts.email"),required:""},{default:Br(()=>[kt(O,{id:"email",modelValue:Tt(v).email,"onUpdate:modelValue":x[2]||(x[2]=q=>Tt(v).email=q),type:"email",name:"email",autocomplete:"email",disabled:Tt(v).busy,required:""},null,8,["modelValue","disabled"]),kt(M,{error:Tt(v).getError("email")},null,8,["error"])]),_:1},8,["label"])]),vn("div",lG,[kt(T,{"label-for":"company_name",label:w.$t("core::app.company.name"),required:""},{default:Br(()=>[kt(O,{id:"company_name",modelValue:Tt(v).company_name,"onUpdate:modelValue":x[3]||(x[3]=q=>Tt(v).company_name=q),name:"company_name",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("company_name")},null,8,["error"])]),_:1},8,["label"])]),vn("div",cG,[kt(T,{"label-for":"package",label:w.$t("saas::saas.package"),required:""},{default:Br(()=>[kt(E,{modelValue:Tt(v).package,"onUpdate:modelValue":x[4]||(x[4]=q=>Tt(v).package=q),label:"name","input-id":"package",options:r.packages,onCleared:x[5]||(x[5]=q=>Tt(v).package=null)},null,8,["modelValue","options"]),kt(M,{error:Tt(v).getError("package")},null,8,["error"])]),_:1},8,["label"])]),r.domainEnabled?(bi(),wc("div",uG,[kt(T,null,{label:Br(()=>[vn("div",fG,[kt(I_,{class:"mb-1",for:"domain",label:w.$t("saas::saas.fields.tenant.domain")},null,8,["label"]),$_((bi(),wc("span",null,[kt(U,{class:"pointer-events-none",icon:"QuestionMarkCircle",basic:"",small:""})])),[[G,Tt(e)("saas.saas.domain_description"),void 0,{bottom:!0,light:!0}]])])]),default:Br(()=>[kt(O,{id:"domain",modelValue:Tt(v).domain,"onUpdate:modelValue":x[6]||(x[6]=q=>Tt(v).domain=q),name:"domain",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("domain")},null,8,["error"])]),_:1})])):Bs("",!0),r.subdomainEnabled?(bi(),wc("div",dG,[kt(T,null,{label:Br(()=>[vn("div",pG,[kt(I_,{class:"mb-1",for:"subdomain",label:w.$t("saas::saas.fields.tenant.subdomain")},null,8,["label"]),$_((bi(),wc("span",null,[kt(U,{class:"pointer-events-none",icon:"QuestionMarkCircle",basic:"",small:""})])),[[G,Tt(e)("saas::saas.subdomain_description"),void 0,{bottom:!0,light:!0}]])])]),default:Br(()=>[kt(O,{id:"subdomain",modelValue:Tt(v).subdomain,"onUpdate:modelValue":x[7]||(x[7]=q=>Tt(v).subdomain=q),name:"subdomain",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("subdomain")},null,8,["error"])]),_:1})])):Bs("",!0),vn("div",hG,[kt(T,{"label-for":"street",label:w.$t("contacts::fields.contacts.street")},{default:Br(()=>[kt(O,{id:"street",modelValue:Tt(v).street,"onUpdate:modelValue":x[8]||(x[8]=q=>Tt(v).street=q),name:"street",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("street")},null,8,["error"])]),_:1},8,["label"])]),vn("div",vG,[kt(T,{"label-for":"city",label:w.$t("contacts::fields.contacts.city")},{default:Br(()=>[kt(O,{id:"city",modelValue:Tt(v).city,"onUpdate:modelValue":x[9]||(x[9]=q=>Tt(v).city=q),name:"city",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("city")},null,8,["error"])]),_:1},8,["label"])]),vn("div",gG,[kt(T,{"label-for":"state",label:w.$t("contacts::fields.contacts.state")},{default:Br(()=>[kt(O,{id:"state",modelValue:Tt(v).state,"onUpdate:modelValue":x[10]||(x[10]=q=>Tt(v).state=q),name:"state",required:""},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("state")},null,8,["error"])]),_:1},8,["label"])]),vn("div",mG,[kt(T,{"label-for":"postal_code",label:w.$t("saas::saas.zip_code")},{default:Br(()=>[kt(O,{id:"postal_code",modelValue:Tt(v).postal_code,"onUpdate:modelValue":x[11]||(x[11]=q=>Tt(v).postal_code=q),name:"postal_code"},null,8,["modelValue"]),kt(M,{error:Tt(v).getError("postal_code")},null,8,["error"])]),_:1},8,["label"])]),vn("div",yG,[kt(T,{"label-for":"country",label:w.$t("contacts::fields.contacts.country.name")},{default:Br(()=>[kt(E,{modelValue:Tt(v).country,"onUpdate:modelValue":x[12]||(x[12]=q=>Tt(v).country=q),label:"name","input-id":"company_country_id",options:r.countries,onCleared:x[13]||(x[13]=q=>Tt(v).company_country_id=null)},null,8,["modelValue","options"]),kt(M,{error:Tt(v).getError("country")},null,8,["error"])]),_:1},8,["label"])])]),Tt(i).validate?(bi(),mf(T,{key:0},{default:Br(()=>[kt(Tt(zK),{ref_key:"reCaptchaRef",ref:s,sitekey:Tt(i).siteKey,onVerify:b},null,8,["sitekey"]),kt(M,{error:Tt(v).getError("g-recaptcha-response")},null,8,["error"])]),_:1})):Bs("",!0),vn("div",_G,[Tt(n)("disable_password_forgot")?Bs("",!0):(bi(),mf(Z,{key:0,variant:"primary",href:"/login"},{default:Br(()=>[rG(fv(w.$t("saas::saas.already_have_account")),1)]),_:1}))]),u.value?(bi(),mf(ee,{key:1,variant:"danger",class:"rounded-none"},{default:Br(()=>[kt(te,null,{default:Br(()=>[vn("p",null,fv(f.value),1)]),_:1})]),_:1})):Bs("",!0),d.value?(bi(),mf(ee,{key:2,variant:"success",class:"rounded-none"},{default:Br(()=>[kt(te,null,{default:Br(()=>[vn("p",null,fv(w.$t("saas::saas.tenant_registration_success")),1)]),_:1})]),_:1})):Bs("",!0),kt(U,{type:"submit",variant:"primary",disabled:m.value,loading:l.value,text:w.$t("saas::saas.register"),block:"",onClick:y},null,8,["disabled","loading","text"])],32)}}},fm="-",CG=o=>{const r=OG(o),{conflictingClassGroups:e,conflictingClassGroupModifiers:t}=o;return{getClassGroupId:s=>{const l=s.split(fm);return l[0]===""&&l.length!==1&&l.shift(),_C(l,r)||SG(s)},getConflictingClassGroupIds:(s,l)=>{const u=e[s]||[];return l&&t[s]?[...u,...t[s]]:u}}},_C=(o,r)=>{var s;if(o.length===0)return r.classGroupId;const e=o[0],t=r.nextPart.get(e),n=t?_C(o.slice(1),t):void 0;if(n)return n;if(r.validators.length===0)return;const i=o.join(fm);return(s=r.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},D_=/^\[(.+)\]$/,SG=o=>{if(D_.test(o)){const r=D_.exec(o)[1],e=r==null?void 0:r.substring(0,r.indexOf(":"));if(e)return"arbitrary.."+e}},OG=o=>{const{theme:r,prefix:e}=o,t={nextPart:new Map,validators:[]};return EG(Object.entries(o.classGroups),e).forEach(([i,s])=>{bg(s,t,i,r)}),t},bg=(o,r,e,t)=>{o.forEach(n=>{if(typeof n=="string"){const i=n===""?r:L_(r,n);i.classGroupId=e;return}if(typeof n=="function"){if(TG(n)){bg(n(t),r,e,t);return}r.validators.push({validator:n,classGroupId:e});return}Object.entries(n).forEach(([i,s])=>{bg(s,L_(r,i),e,t)})})},L_=(o,r)=>{let e=o;return r.split(fm).forEach(t=>{e.nextPart.has(t)||e.nextPart.set(t,{nextPart:new Map,validators:[]}),e=e.nextPart.get(t)}),e},TG=o=>o.isThemeGetter,EG=(o,r)=>r?o.map(([e,t])=>{const n=t.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[r+s,l])):i);return[e,n]}):o,PG=o=>{if(o<1)return{get:()=>{},set:()=>{}};let r=0,e=new Map,t=new Map;const n=(i,s)=>{e.set(i,s),r++,r>o&&(r=0,t=e,e=new Map)};return{get(i){let s=e.get(i);if(s!==void 0)return s;if((s=t.get(i))!==void 0)return n(i,s),s},set(i,s){e.has(i)?e.set(i,s):n(i,s)}}},bC="!",kG=o=>{const{separator:r,experimentalParseClassName:e}=o,t=r.length===1,n=r[0],i=r.length,s=l=>{const u=[];let f=0,d=0,v;for(let x=0;x<l.length;x++){let O=l[x];if(f===0){if(O===n&&(t||l.slice(x,x+i)===r)){u.push(l.slice(d,x)),d=x+i;continue}if(O==="/"){v=x;continue}}O==="["?f++:O==="]"&&f--}const m=u.length===0?l:l.substring(d),y=m.startsWith(bC),b=y?m.substring(1):m,w=v&&v>d?v-d:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}};return e?l=>e({className:l,parseClassName:s}):s},AG=o=>{if(o.length<=1)return o;const r=[];let e=[];return o.forEach(t=>{t[0]==="["?(r.push(...e.sort(),t),e=[]):e.push(t)}),r.push(...e.sort()),r},MG=o=>({cache:PG(o.cacheSize),parseClassName:kG(o),...CG(o)}),VG=/\s+/,IG=(o,r)=>{const{parseClassName:e,getClassGroupId:t,getConflictingClassGroupIds:n}=r,i=[],s=o.trim().split(VG);let l="";for(let u=s.length-1;u>=0;u-=1){const f=s[u],{modifiers:d,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:y}=e(f);let b=!!y,w=t(b?m.substring(0,y):m);if(!w){if(!b){l=f+(l.length>0?" "+l:l);continue}if(w=t(m),!w){l=f+(l.length>0?" "+l:l);continue}b=!1}const x=AG(d).join(":"),O=v?x+bC:x,M=O+w;if(i.includes(M))continue;i.push(M);const T=n(w,b);for(let E=0;E<T.length;++E){const U=T[E];i.push(O+U)}l=f+(l.length>0?" "+l:l)}return l};function $G(){let o=0,r,e,t="";for(;o<arguments.length;)(r=arguments[o++])&&(e=wC(r))&&(t&&(t+=" "),t+=e);return t}const wC=o=>{if(typeof o=="string")return o;let r,e="";for(let t=0;t<o.length;t++)o[t]&&(r=wC(o[t]))&&(e&&(e+=" "),e+=r);return e};function DG(o,...r){let e,t,n,i=s;function s(u){const f=r.reduce((d,v)=>v(d),o());return e=MG(f),t=e.cache.get,n=e.cache.set,i=l,l(u)}function l(u){const f=t(u);if(f)return f;const d=IG(u,e);return n(u,d),d}return function(){return i($G.apply(null,arguments))}}const ur=o=>{const r=e=>e[o]||[];return r.isThemeGetter=!0,r},xC=/^\[(?:([a-z-]+):)?(.+)\]$/i,LG=/^\d+\/\d+$/,jG=new Set(["px","full","screen"]),RG=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NG=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FG=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wi=o=>pl(o)||jG.has(o)||LG.test(o),oa=o=>kl(o,"length",XG),pl=o=>!!o&&!Number.isNaN(Number(o)),dv=o=>kl(o,"number",pl),Cc=o=>!!o&&Number.isInteger(Number(o)),UG=o=>o.endsWith("%")&&pl(o.slice(0,-1)),Lt=o=>xC.test(o),ia=o=>RG.test(o),zG=new Set(["length","size","percentage"]),WG=o=>kl(o,zG,CC),qG=o=>kl(o,"position",CC),KG=new Set(["image","url"]),GG=o=>kl(o,KG,JG),ZG=o=>kl(o,"",YG),Sc=()=>!0,kl=(o,r,e)=>{const t=xC.exec(o);return t?t[1]?typeof r=="string"?t[1]===r:r.has(t[1]):e(t[2]):!1},XG=o=>NG.test(o)&&!FG.test(o),CC=()=>!1,YG=o=>BG.test(o),JG=o=>HG.test(o),QG=()=>{const o=ur("colors"),r=ur("spacing"),e=ur("blur"),t=ur("brightness"),n=ur("borderColor"),i=ur("borderRadius"),s=ur("borderSpacing"),l=ur("borderWidth"),u=ur("contrast"),f=ur("grayscale"),d=ur("hueRotate"),v=ur("invert"),m=ur("gap"),y=ur("gradientColorStops"),b=ur("gradientColorStopPositions"),w=ur("inset"),x=ur("margin"),O=ur("opacity"),M=ur("padding"),T=ur("saturate"),E=ur("scale"),U=ur("sepia"),Z=ur("skew"),te=ur("space"),ee=ur("translate"),G=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Lt,r],$=()=>[Lt,r],B=()=>["",wi,oa],W=()=>["auto",pl,Lt],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["start","end","center","between","around","evenly","stretch"],Ve=()=>["","0",Lt],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>[pl,Lt];return{cacheSize:500,separator:":",theme:{colors:[Sc],spacing:[wi,oa],blur:["none","",ia,Lt],brightness:N(),borderColor:[o],borderRadius:["none","","full",ia,Lt],borderSpacing:$(),borderWidth:B(),contrast:N(),grayscale:Ve(),hueRotate:N(),invert:Ve(),gap:$(),gradientColorStops:[o],gradientColorStopPositions:[UG,oa],inset:D(),margin:D(),opacity:N(),padding:$(),saturate:N(),scale:N(),sepia:Ve(),skew:N(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Lt]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cc,Lt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:Ve()}],shrink:[{shrink:Ve()}],order:[{order:["first","last","none",Cc,Lt]}],"grid-cols":[{"grid-cols":[Sc]}],"col-start-end":[{col:["auto",{span:["full",Cc,Lt]},Lt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Sc]}],"row-start-end":[{row:["auto",{span:[Cc,Lt]},Lt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ue()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ue(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ue(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[te]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[te]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,r]}],"min-w":[{"min-w":[Lt,r,"min","max","fit"]}],"max-w":[{"max-w":[Lt,r,"none","full","min","max","fit","prose",{screen:[ia]},ia]}],h:[{h:[Lt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ia,oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dv]}],"font-family":[{font:[Sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",pl,dv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wi,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[o]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[o]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wi,oa]}],"underline-offset":[{"underline-offset":["auto",wi,Lt]}],"text-decoration-color":[{decoration:[o]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),qG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",WG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GG]}],"bg-color":[{bg:[o]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[wi,Lt]}],"outline-w":[{outline:[wi,oa]}],"outline-color":[{outline:[o]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[o]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[wi,oa]}],"ring-offset-color":[{"ring-offset":[o]}],shadow:[{shadow:["","inner","none",ia,ZG]}],"shadow-color":[{shadow:[Sc]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[..._e(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_e()}],filter:[{filter:["","none"]}],blur:[{blur:[e]}],brightness:[{brightness:[t]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ia,Lt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[v]}],saturate:[{saturate:[T]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[e]}],"backdrop-brightness":[{"backdrop-brightness":[t]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Cc,Lt]}],"translate-x":[{"translate-x":[ee]}],"translate-y":[{"translate-y":[ee]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",o]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[o]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[o,"none"]}],"stroke-w":[{stroke:[wi,oa,dv]}],stroke:[{stroke:[o,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SC=DG(QG),eZ=Vue.unref,tZ=Vue.renderSlot,rZ=Vue.resolveDynamicComponent,nZ=Vue.mergeProps,oZ=Vue.withCtx,iZ=Vue.openBlock,aZ=Vue.createBlock,yf={base:"text-base/6 no-underline sm:text-sm/6 focus:outline-none",basic:"text-neutral-800 hover:text-neutral-600 dark:text-neutral-100 dark:hover:text-neutral-200",variants:{primary:"text-primary-600 hover:text-primary-900 dark:text-primary-300 dark:hover:text-primary-400",info:"text-info-900 hover:text-info-700 dark:text-info-400 dark:hover:text-info-500",success:"text-success-900 hover:text-success-700 dark:text-success-400 dark:hover:text-success-500",danger:"text-danger-500 hover:text-danger-700 dark:text-danger-400 dark:hover:text-danger-500",warning:"text-warning-700 hover:text-warning-600 dark:text-warning-400 dark:hover:text-warning-500"}},pv=Object.assign({inheritAttrs:!1},{__name:"ILinkBase",props:{as:{type:[String,Object],default:"a"},basic:Boolean,plain:Boolean,variant:{type:String,default:"primary",validator:o=>Object.keys(yf.variants).includes(o)}},setup(o){return(r,e)=>(iZ(),aZ(rZ(o.as),nZ({class:eZ(SC)(o.plain?"":[yf.base,o.basic?yf.basic:yf.variants[o.variant??"primary"]],r.$attrs.class)},{...r.$attrs,class:""}),{default:oZ(()=>[tZ(r.$slots,"default")]),_:3},16,["class"]))}}),hv=Vue.renderSlot,vv=Vue.toDisplayString,gv=Vue.createTextVNode,_f=Vue.mergeProps,bf=Vue.withCtx,mv=Vue.openBlock,yv=Vue.createBlock;Vue.createCommentVNode;const sZ=Vue.createVNode,lZ=Vue.unref,cZ=Vue.withModifiers,j_=Vue.computed,uZ=_app_.router.RouterLink,fZ=_app_.router.useRouter,OC=Object.assign({inheritAttrs:!1},{__name:"Link",props:{text:[String,Number],href:String,to:[String,Object],activeClass:String,exactActiveClass:String,inactiveClass:String},emits:["click"],setup(o,{emit:r}){fZ();const e=o,t=j_(()=>e.href&&typeof e.href=="string"&&e.href.startsWith("http")),n=j_(()=>!!e.to);console.log(" FROM LINK COMPONENT: ",n.value,t.value);function i(s){return e.href&&e.href!==s?e.href:s}return(s,l)=>t.value?(mv(),yv(pv,_f({key:0,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center",href:o.href},s.$attrs,{onClick:l[0]||(l[0]=u=>s.$emit("click",u))}),{default:bf(()=>[hv(s.$slots,"default",{},()=>[gv(vv(o.text),1)])]),_:3},16,["href"])):n.value?(mv(),yv(lZ(uZ),_f({key:1},s.$props,{custom:""}),{default:bf(({isActive:u,href:f,navigate:d})=>[sZ(pv,_f(s.$attrs,{href:i(f),class:u?o.activeClass:o.inactiveClass,onClick:v=>(d(v),s.$emit("click",v))}),{default:bf(()=>[hv(s.$slots,"default",{},()=>[gv(vv(o.text||"Fallback Text"),1)])]),_:2},1040,["href","class","onClick"])]),_:3},16)):(mv(),yv(pv,_f({key:2},s.$attrs,{href:o.href||"#",onClick:l[1]||(l[1]=cZ(u=>s.$emit("click",u),["prevent"]))}),{default:bf(()=>[hv(s.$slots,"default",{},()=>[gv(vv(o.text),1)])]),_:3},16,["href"]))}}),TC=Vue.toRef,EC=Vue.watch,wg=TC((document==null?void 0:document.title)??null);EC(wg,o=>{o&&(document.title=o)});function Pp(o=null){const r=TC(o);return EC(r,e=>{e&&(wg.value=e)},{immediate:!0}),wg}var dZ=mu;function pZ(o){return typeof o=="function"?o:dZ}var hZ=pZ,vZ=Ix,gZ=gC,mZ=hZ,yZ=$n;function _Z(o,r){var e=yZ(o)?vZ:gZ;return e(o,mZ(r))}var bZ=_Z,wZ=bZ;const xZ=Eo(wZ),R_=Vue.computed,CZ=Vue.isRef,SZ=Vue.ref,N_=Vue.toValue,OZ=Vue.watch,TZ=_app_.store.useStore;function Sa(o=[]){const r=TZ(),{scriptConfig:e}=cm(),t=SZ(xa(N_(o)||[]));let n=null,i=null;const s=R_(()=>t.value.length>0),l=R_(()=>t.value.filter(E=>E.collapsed).length);function u(E){return t.value.find(U=>U.attribute===E)}function f(E){if(!CZ(E))return console.error("The resource must be a ref.");d(E),n=E,y(E.value)}function d(E){i&&i(),i=OZ(()=>E.value._sync_timestamp,()=>{y(n.value)})}function v(E,U){let Z=u(E);if(!Z){console.trace(`Cannot update "${E}" field. [FIELD NOT FOUND].`);return}xZ(U,(te,ee)=>Z[ee]=te)}function m(E,U){v(E,{value:U})}function y(E){t.value.forEach(U=>{let Z=b(U,E);Z!==void 0&&(U.value=Z)})}function b(E,U){return E.belongsToRelation?Object.hasOwn(U,E.belongsToRelation)?U[E.belongsToRelation]:void 0:E.attribute&&Object.hasOwn(U,E.attribute)?U[E.attribute]:void 0}async function w(E,U,Z={}){let te=xa(await r.dispatch("fields/getForResource",{resourceName:N_(E),view:U,...Z}));return te.forEach((ee,G)=>{ee.component==="timezone-field"?te[G].timezones=Object.freeze(ee.timezones):(ee.attribute==="country_id"||ee.attribute==="industry_id")&&(te[G].options=Object.freeze(ee.options))}),te}async function x(E,U={}){return await w(E,e("fields.views.create"),U)}async function O(E,U,Z={}){return await w(E,e("fields.views.detail"),{...Z,resourceId:U})}async function M(E,U,Z={}){return await w(E,e("fields.views.update"),{...Z,resourceId:U})}async function T(E,U={}){return await w(E,e("fields.views.index"),U)}return{fields:t,hasFields:s,hydrateFields:y,setResource:f,findField:u,updateField:v,updateFieldValue:m,totalCollapsable:l,getCreateFields:x,getUpdateFields:M,getDetailFields:O,getIndexFields:T}}function PC(o){let r=!1,e;const t=jK(!0);return(...n)=>(r||(e=t.run(()=>o(...n)),r=!0),e)}function F_(o){return typeof o=="function"?o():BK(o)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const B_=()=>{};function EZ(o,r){function e(...t){return new Promise((n,i)=>{Promise.resolve(o(()=>r.apply(this,t),{fn:r,thisArg:this,args:t})).then(n).catch(i)})}return e}const PZ=o=>o();function kZ(o,r={}){let e,t,n=B_;const i=l=>{clearTimeout(l),n(),n=B_};return l=>{const u=F_(o),f=F_(r.maxWait);return e&&i(e),u<=0||f!==void 0&&f<=0?(t&&(i(t),t=null),Promise.resolve(l())):new Promise((d,v)=>{n=r.rejectOnCancel?v:d,f&&!t&&(t=setTimeout(()=>{e&&i(e),t=null,d(l())},f)),e=setTimeout(()=>{t&&i(t),t=null,d(l())},u)})}}function AZ(o,r,e={}){const{eventFilter:t=PZ,...n}=e;return yC(o,EZ(t,r),n)}function MZ(o,r,e={}){const{debounce:t=0,maxWait:n=void 0,...i}=e;return AZ(o,r,{...i,eventFilter:kZ(t,{maxWait:n})})}function kp(o,r,e){const t=yC(o,(n,i,s)=>{n&&(e!=null&&e.once&&NK(()=>t()),r(n,i,s))},{...e,once:!1});return t}function VZ(o,r,e,t){for(var n=o.length,i=e+(t?1:-1);t?i--:++i<n;)if(r(o[i],i,o))return i;return-1}var IZ=VZ;function $Z(){this.__data__=[],this.size=0}var DZ=$Z;function LZ(o,r){return o===r||o!==o&&r!==r}var kC=LZ,jZ=kC;function RZ(o,r){for(var e=o.length;e--;)if(jZ(o[e][0],r))return e;return-1}var Ap=RZ,NZ=Ap,FZ=Array.prototype,BZ=FZ.splice;function HZ(o){var r=this.__data__,e=NZ(r,o);if(e<0)return!1;var t=r.length-1;return e==t?r.pop():BZ.call(r,e,1),--this.size,!0}var UZ=HZ,zZ=Ap;function WZ(o){var r=this.__data__,e=zZ(r,o);return e<0?void 0:r[e][1]}var qZ=WZ,KZ=Ap;function GZ(o){return KZ(this.__data__,o)>-1}var ZZ=GZ,XZ=Ap;function YZ(o,r){var e=this.__data__,t=XZ(e,o);return t<0?(++this.size,e.push([o,r])):e[t][1]=r,this}var JZ=YZ,QZ=DZ,eX=UZ,tX=qZ,rX=ZZ,nX=JZ;function Al(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}Al.prototype.clear=QZ;Al.prototype.delete=eX;Al.prototype.get=tX;Al.prototype.has=rX;Al.prototype.set=nX;var Mp=Al,oX=Mp;function iX(){this.__data__=new oX,this.size=0}var aX=iX;function sX(o){var r=this.__data__,e=r.delete(o);return this.size=r.size,e}var lX=sX;function cX(o){return this.__data__.get(o)}var uX=cX;function fX(o){return this.__data__.has(o)}var dX=fX,pX=typeof ri=="object"&&ri&&ri.Object===Object&&ri,AC=pX,hX=AC,vX=typeof self=="object"&&self&&self.Object===Object&&self,gX=hX||vX||Function("return this")(),$i=gX,mX=$i,yX=mX.Symbol,Vp=yX,H_=Vp,MC=Object.prototype,_X=MC.hasOwnProperty,bX=MC.toString,Oc=H_?H_.toStringTag:void 0;function wX(o){var r=_X.call(o,Oc),e=o[Oc];try{o[Oc]=void 0;var t=!0}catch{}var n=bX.call(o);return t&&(r?o[Oc]=e:delete o[Oc]),n}var xX=wX,CX=Object.prototype,SX=CX.toString;function OX(o){return SX.call(o)}var TX=OX,U_=Vp,EX=xX,PX=TX,kX="[object Null]",AX="[object Undefined]",z_=U_?U_.toStringTag:void 0;function MX(o){return o==null?o===void 0?AX:kX:z_&&z_ in Object(o)?EX(o):PX(o)}var yu=MX;function VX(o){var r=typeof o;return o!=null&&(r=="object"||r=="function")}var Ip=VX,IX=yu,$X=Ip,DX="[object AsyncFunction]",LX="[object Function]",jX="[object GeneratorFunction]",RX="[object Proxy]";function NX(o){if(!$X(o))return!1;var r=IX(o);return r==LX||r==jX||r==DX||r==RX}var VC=NX,FX=$i,BX=FX["__core-js_shared__"],HX=BX,_v=HX,W_=function(){var o=/[^.]+$/.exec(_v&&_v.keys&&_v.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function UX(o){return!!W_&&W_ in o}var zX=UX,WX=Function.prototype,qX=WX.toString;function KX(o){if(o!=null){try{return qX.call(o)}catch{}try{return o+""}catch{}}return""}var IC=KX,GX=VC,ZX=zX,XX=Ip,YX=IC,JX=/[\\^$.*+?()[\]{}|]/g,QX=/^\[object .+?Constructor\]$/,eY=Function.prototype,tY=Object.prototype,rY=eY.toString,nY=tY.hasOwnProperty,oY=RegExp("^"+rY.call(nY).replace(JX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iY(o){if(!XX(o)||ZX(o))return!1;var r=GX(o)?oY:QX;return r.test(YX(o))}var aY=iY;function sY(o,r){return o==null?void 0:o[r]}var lY=sY,cY=aY,uY=lY;function fY(o,r){var e=uY(o,r);return cY(e)?e:void 0}var Ml=fY,dY=Ml,pY=$i,hY=dY(pY,"Map"),dm=hY,vY=Ml,gY=vY(Object,"create"),$p=gY,q_=$p;function mY(){this.__data__=q_?q_(null):{},this.size=0}var yY=mY;function _Y(o){var r=this.has(o)&&delete this.__data__[o];return this.size-=r?1:0,r}var bY=_Y,wY=$p,xY="__lodash_hash_undefined__",CY=Object.prototype,SY=CY.hasOwnProperty;function OY(o){var r=this.__data__;if(wY){var e=r[o];return e===xY?void 0:e}return SY.call(r,o)?r[o]:void 0}var TY=OY,EY=$p,PY=Object.prototype,kY=PY.hasOwnProperty;function AY(o){var r=this.__data__;return EY?r[o]!==void 0:kY.call(r,o)}var MY=AY,VY=$p,IY="__lodash_hash_undefined__";function $Y(o,r){var e=this.__data__;return this.size+=this.has(o)?0:1,e[o]=VY&&r===void 0?IY:r,this}var DY=$Y,LY=yY,jY=bY,RY=TY,NY=MY,FY=DY;function Vl(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}Vl.prototype.clear=LY;Vl.prototype.delete=jY;Vl.prototype.get=RY;Vl.prototype.has=NY;Vl.prototype.set=FY;var BY=Vl,K_=BY,HY=Mp,UY=dm;function zY(){this.size=0,this.__data__={hash:new K_,map:new(UY||HY),string:new K_}}var WY=zY;function qY(o){var r=typeof o;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?o!=="__proto__":o===null}var KY=qY,GY=KY;function ZY(o,r){var e=o.__data__;return GY(r)?e[typeof r=="string"?"string":"hash"]:e.map}var Dp=ZY,XY=Dp;function YY(o){var r=XY(this,o).delete(o);return this.size-=r?1:0,r}var JY=YY,QY=Dp;function eJ(o){return QY(this,o).get(o)}var tJ=eJ,rJ=Dp;function nJ(o){return rJ(this,o).has(o)}var oJ=nJ,iJ=Dp;function aJ(o,r){var e=iJ(this,o),t=e.size;return e.set(o,r),this.size+=e.size==t?0:1,this}var sJ=aJ,lJ=WY,cJ=JY,uJ=tJ,fJ=oJ,dJ=sJ;function Il(o){var r=-1,e=o==null?0:o.length;for(this.clear();++r<e;){var t=o[r];this.set(t[0],t[1])}}Il.prototype.clear=lJ;Il.prototype.delete=cJ;Il.prototype.get=uJ;Il.prototype.has=fJ;Il.prototype.set=dJ;var pm=Il,pJ=Mp,hJ=dm,vJ=pm,gJ=200;function mJ(o,r){var e=this.__data__;if(e instanceof pJ){var t=e.__data__;if(!hJ||t.length<gJ-1)return t.push([o,r]),this.size=++e.size,this;e=this.__data__=new vJ(t)}return e.set(o,r),this.size=e.size,this}var yJ=mJ,_J=Mp,bJ=aX,wJ=lX,xJ=uX,CJ=dX,SJ=yJ;function $l(o){var r=this.__data__=new _J(o);this.size=r.size}$l.prototype.clear=bJ;$l.prototype.delete=wJ;$l.prototype.get=xJ;$l.prototype.has=CJ;$l.prototype.set=SJ;var $C=$l,OJ="__lodash_hash_undefined__";function TJ(o){return this.__data__.set(o,OJ),this}var EJ=TJ;function PJ(o){return this.__data__.has(o)}var kJ=PJ,AJ=pm,MJ=EJ,VJ=kJ;function ep(o){var r=-1,e=o==null?0:o.length;for(this.__data__=new AJ;++r<e;)this.add(o[r])}ep.prototype.add=ep.prototype.push=MJ;ep.prototype.has=VJ;var IJ=ep;function $J(o,r){for(var e=-1,t=o==null?0:o.length;++e<t;)if(r(o[e],e,o))return!0;return!1}var DJ=$J;function LJ(o,r){return o.has(r)}var jJ=LJ,RJ=IJ,NJ=DJ,FJ=jJ,BJ=1,HJ=2;function UJ(o,r,e,t,n,i){var s=e&BJ,l=o.length,u=r.length;if(l!=u&&!(s&&u>l))return!1;var f=i.get(o),d=i.get(r);if(f&&d)return f==r&&d==o;var v=-1,m=!0,y=e&HJ?new RJ:void 0;for(i.set(o,r),i.set(r,o);++v<l;){var b=o[v],w=r[v];if(t)var x=s?t(w,b,v,r,o,i):t(b,w,v,o,r,i);if(x!==void 0){if(x)continue;m=!1;break}if(y){if(!NJ(r,function(O,M){if(!FJ(y,M)&&(b===O||n(b,O,e,t,i)))return y.push(M)})){m=!1;break}}else if(!(b===w||n(b,w,e,t,i))){m=!1;break}}return i.delete(o),i.delete(r),m}var DC=UJ,zJ=$i,WJ=zJ.Uint8Array,qJ=WJ;function KJ(o){var r=-1,e=Array(o.size);return o.forEach(function(t,n){e[++r]=[n,t]}),e}var GJ=KJ;function ZJ(o){var r=-1,e=Array(o.size);return o.forEach(function(t){e[++r]=t}),e}var XJ=ZJ,G_=Vp,Z_=qJ,YJ=kC,JJ=DC,QJ=GJ,eQ=XJ,tQ=1,rQ=2,nQ="[object Boolean]",oQ="[object Date]",iQ="[object Error]",aQ="[object Map]",sQ="[object Number]",lQ="[object RegExp]",cQ="[object Set]",uQ="[object String]",fQ="[object Symbol]",dQ="[object ArrayBuffer]",pQ="[object DataView]",X_=G_?G_.prototype:void 0,bv=X_?X_.valueOf:void 0;function hQ(o,r,e,t,n,i,s){switch(e){case pQ:if(o.byteLength!=r.byteLength||o.byteOffset!=r.byteOffset)return!1;o=o.buffer,r=r.buffer;case dQ:return!(o.byteLength!=r.byteLength||!i(new Z_(o),new Z_(r)));case nQ:case oQ:case sQ:return YJ(+o,+r);case iQ:return o.name==r.name&&o.message==r.message;case lQ:case uQ:return o==r+"";case aQ:var l=QJ;case cQ:var u=t&tQ;if(l||(l=eQ),o.size!=r.size&&!u)return!1;var f=s.get(o);if(f)return f==r;t|=rQ,s.set(o,r);var d=JJ(l(o),l(r),t,n,i,s);return s.delete(o),d;case fQ:if(bv)return bv.call(o)==bv.call(r)}return!1}var vQ=hQ;function gQ(o,r){for(var e=-1,t=r.length,n=o.length;++e<t;)o[n+e]=r[e];return o}var mQ=gQ,yQ=Array.isArray,Oa=yQ,_Q=mQ,bQ=Oa;function wQ(o,r,e){var t=r(o);return bQ(o)?t:_Q(t,e(o))}var xQ=wQ;function CQ(o,r){for(var e=-1,t=o==null?0:o.length,n=0,i=[];++e<t;){var s=o[e];r(s,e,o)&&(i[n++]=s)}return i}var SQ=CQ;function OQ(){return[]}var TQ=OQ,EQ=SQ,PQ=TQ,kQ=Object.prototype,AQ=kQ.propertyIsEnumerable,Y_=Object.getOwnPropertySymbols,MQ=Y_?function(o){return o==null?[]:(o=Object(o),EQ(Y_(o),function(r){return AQ.call(o,r)}))}:PQ,VQ=MQ;function IQ(o,r){for(var e=-1,t=Array(o);++e<o;)t[e]=r(e);return t}var $Q=IQ;function DQ(o){return o!=null&&typeof o=="object"}var _u=DQ,LQ=yu,jQ=_u,RQ="[object Arguments]";function NQ(o){return jQ(o)&&LQ(o)==RQ}var FQ=NQ,J_=FQ,BQ=_u,LC=Object.prototype,HQ=LC.hasOwnProperty,UQ=LC.propertyIsEnumerable,zQ=J_(function(){return arguments}())?J_:function(o){return BQ(o)&&HQ.call(o,"callee")&&!UQ.call(o,"callee")},jC=zQ,tp={exports:{}};function WQ(){return!1}var qQ=WQ;tp.exports;(function(o,r){var e=$i,t=qQ,n=r&&!r.nodeType&&r,i=n&&!0&&o&&!o.nodeType&&o,s=i&&i.exports===n,l=s?e.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||t;o.exports=f})(tp,tp.exports);var RC=tp.exports,KQ=9007199254740991,GQ=/^(?:0|[1-9]\d*)$/;function ZQ(o,r){var e=typeof o;return r=r??KQ,!!r&&(e=="number"||e!="symbol"&&GQ.test(o))&&o>-1&&o%1==0&&o<r}var NC=ZQ,XQ=9007199254740991;function YQ(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=XQ}var hm=YQ,JQ=yu,QQ=hm,eee=_u,tee="[object Arguments]",ree="[object Array]",nee="[object Boolean]",oee="[object Date]",iee="[object Error]",aee="[object Function]",see="[object Map]",lee="[object Number]",cee="[object Object]",uee="[object RegExp]",fee="[object Set]",dee="[object String]",pee="[object WeakMap]",hee="[object ArrayBuffer]",vee="[object DataView]",gee="[object Float32Array]",mee="[object Float64Array]",yee="[object Int8Array]",_ee="[object Int16Array]",bee="[object Int32Array]",wee="[object Uint8Array]",xee="[object Uint8ClampedArray]",Cee="[object Uint16Array]",See="[object Uint32Array]",dr={};dr[gee]=dr[mee]=dr[yee]=dr[_ee]=dr[bee]=dr[wee]=dr[xee]=dr[Cee]=dr[See]=!0;dr[tee]=dr[ree]=dr[hee]=dr[nee]=dr[vee]=dr[oee]=dr[iee]=dr[aee]=dr[see]=dr[lee]=dr[cee]=dr[uee]=dr[fee]=dr[dee]=dr[pee]=!1;function Oee(o){return eee(o)&&QQ(o.length)&&!!dr[JQ(o)]}var Tee=Oee;function Eee(o){return function(r){return o(r)}}var Pee=Eee,rp={exports:{}};rp.exports;(function(o,r){var e=AC,t=r&&!r.nodeType&&r,n=t&&!0&&o&&!o.nodeType&&o,i=n&&n.exports===t,s=i&&e.process,l=function(){try{var u=n&&n.require&&n.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();o.exports=l})(rp,rp.exports);var kee=rp.exports,Aee=Tee,Mee=Pee,Q_=kee,eb=Q_&&Q_.isTypedArray,Vee=eb?Mee(eb):Aee,FC=Vee,Iee=$Q,$ee=jC,Dee=Oa,Lee=RC,jee=NC,Ree=FC,Nee=Object.prototype,Fee=Nee.hasOwnProperty;function Bee(o,r){var e=Dee(o),t=!e&&$ee(o),n=!e&&!t&&Lee(o),i=!e&&!t&&!n&&Ree(o),s=e||t||n||i,l=s?Iee(o.length,String):[],u=l.length;for(var f in o)(r||Fee.call(o,f))&&!(s&&(f=="length"||n&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||jee(f,u)))&&l.push(f);return l}var Hee=Bee,Uee=Object.prototype;function zee(o){var r=o&&o.constructor,e=typeof r=="function"&&r.prototype||Uee;return o===e}var Wee=zee;function qee(o,r){return function(e){return o(r(e))}}var Kee=qee,Gee=Kee,Zee=Gee(Object.keys,Object),Xee=Zee,Yee=Wee,Jee=Xee,Qee=Object.prototype,ete=Qee.hasOwnProperty;function tte(o){if(!Yee(o))return Jee(o);var r=[];for(var e in Object(o))ete.call(o,e)&&e!="constructor"&&r.push(e);return r}var rte=tte,nte=VC,ote=hm;function ite(o){return o!=null&&ote(o.length)&&!nte(o)}var ate=ite,ste=Hee,lte=rte,cte=ate;function ute(o){return cte(o)?ste(o):lte(o)}var BC=ute,fte=xQ,dte=VQ,pte=BC;function hte(o){return fte(o,pte,dte)}var vte=hte,tb=vte,gte=1,mte=Object.prototype,yte=mte.hasOwnProperty;function _te(o,r,e,t,n,i){var s=e&gte,l=tb(o),u=l.length,f=tb(r),d=f.length;if(u!=d&&!s)return!1;for(var v=u;v--;){var m=l[v];if(!(s?m in r:yte.call(r,m)))return!1}var y=i.get(o),b=i.get(r);if(y&&b)return y==r&&b==o;var w=!0;i.set(o,r),i.set(r,o);for(var x=s;++v<u;){m=l[v];var O=o[m],M=r[m];if(t)var T=s?t(M,O,m,r,o,i):t(O,M,m,o,r,i);if(!(T===void 0?O===M||n(O,M,e,t,i):T)){w=!1;break}x||(x=m=="constructor")}if(w&&!x){var E=o.constructor,U=r.constructor;E!=U&&"constructor"in o&&"constructor"in r&&!(typeof E=="function"&&E instanceof E&&typeof U=="function"&&U instanceof U)&&(w=!1)}return i.delete(o),i.delete(r),w}var bte=_te,wte=Ml,xte=$i,Cte=wte(xte,"DataView"),Ste=Cte,Ote=Ml,Tte=$i,Ete=Ote(Tte,"Promise"),Pte=Ete,kte=Ml,Ate=$i,Mte=kte(Ate,"Set"),Vte=Mte,Ite=Ml,$te=$i,Dte=Ite($te,"WeakMap"),Lte=Dte,xg=Ste,Cg=dm,Sg=Pte,Og=Vte,Tg=Lte,HC=yu,Dl=IC,rb="[object Map]",jte="[object Object]",nb="[object Promise]",ob="[object Set]",ib="[object WeakMap]",ab="[object DataView]",Rte=Dl(xg),Nte=Dl(Cg),Fte=Dl(Sg),Bte=Dl(Og),Hte=Dl(Tg),Xa=HC;(xg&&Xa(new xg(new ArrayBuffer(1)))!=ab||Cg&&Xa(new Cg)!=rb||Sg&&Xa(Sg.resolve())!=nb||Og&&Xa(new Og)!=ob||Tg&&Xa(new Tg)!=ib)&&(Xa=function(o){var r=HC(o),e=r==jte?o.constructor:void 0,t=e?Dl(e):"";if(t)switch(t){case Rte:return ab;case Nte:return rb;case Fte:return nb;case Bte:return ob;case Hte:return ib}return r});var Ute=Xa,wv=$C,zte=DC,Wte=vQ,qte=bte,sb=Ute,lb=Oa,cb=RC,Kte=FC,Gte=1,ub="[object Arguments]",fb="[object Array]",wf="[object Object]",Zte=Object.prototype,db=Zte.hasOwnProperty;function Xte(o,r,e,t,n,i){var s=lb(o),l=lb(r),u=s?fb:sb(o),f=l?fb:sb(r);u=u==ub?wf:u,f=f==ub?wf:f;var d=u==wf,v=f==wf,m=u==f;if(m&&cb(o)){if(!cb(r))return!1;s=!0,d=!1}if(m&&!d)return i||(i=new wv),s||Kte(o)?zte(o,r,e,t,n,i):Wte(o,r,u,e,t,n,i);if(!(e&Gte)){var y=d&&db.call(o,"__wrapped__"),b=v&&db.call(r,"__wrapped__");if(y||b){var w=y?o.value():o,x=b?r.value():r;return i||(i=new wv),n(w,x,e,t,i)}}return m?(i||(i=new wv),qte(o,r,e,t,n,i)):!1}var Yte=Xte,Jte=Yte,pb=_u;function UC(o,r,e,t,n){return o===r?!0:o==null||r==null||!pb(o)&&!pb(r)?o!==o&&r!==r:Jte(o,r,e,t,UC,n)}var zC=UC,Qte=$C,ere=zC,tre=1,rre=2;function nre(o,r,e,t){var n=e.length,i=n,s=!t;if(o==null)return!i;for(o=Object(o);n--;){var l=e[n];if(s&&l[2]?l[1]!==o[l[0]]:!(l[0]in o))return!1}for(;++n<i;){l=e[n];var u=l[0],f=o[u],d=l[1];if(s&&l[2]){if(f===void 0&&!(u in o))return!1}else{var v=new Qte;if(t)var m=t(f,d,u,o,r,v);if(!(m===void 0?ere(d,f,tre|rre,t,v):m))return!1}}return!0}var ore=nre,ire=Ip;function are(o){return o===o&&!ire(o)}var WC=are,sre=WC,lre=BC;function cre(o){for(var r=lre(o),e=r.length;e--;){var t=r[e],n=o[t];r[e]=[t,n,sre(n)]}return r}var ure=cre;function fre(o,r){return function(e){return e==null?!1:e[o]===r&&(r!==void 0||o in Object(e))}}var qC=fre,dre=ore,pre=ure,hre=qC;function vre(o){var r=pre(o);return r.length==1&&r[0][2]?hre(r[0][0],r[0][1]):function(e){return e===o||dre(e,o,r)}}var gre=vre,mre=yu,yre=_u,_re="[object Symbol]";function bre(o){return typeof o=="symbol"||yre(o)&&mre(o)==_re}var Lp=bre,wre=Oa,xre=Lp,Cre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sre=/^\w*$/;function Ore(o,r){if(wre(o))return!1;var e=typeof o;return e=="number"||e=="symbol"||e=="boolean"||o==null||xre(o)?!0:Sre.test(o)||!Cre.test(o)||r!=null&&o in Object(r)}var vm=Ore,KC=pm,Tre="Expected a function";function gm(o,r){if(typeof o!="function"||r!=null&&typeof r!="function")throw new TypeError(Tre);var e=function(){var t=arguments,n=r?r.apply(this,t):t[0],i=e.cache;if(i.has(n))return i.get(n);var s=o.apply(this,t);return e.cache=i.set(n,s)||i,s};return e.cache=new(gm.Cache||KC),e}gm.Cache=KC;var Ere=gm,Pre=Ere,kre=500;function Are(o){var r=Pre(o,function(t){return e.size===kre&&e.clear(),t}),e=r.cache;return r}var Mre=Are,Vre=Mre,Ire=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$re=/\\(\\)?/g,Dre=Vre(function(o){var r=[];return o.charCodeAt(0)===46&&r.push(""),o.replace(Ire,function(e,t,n,i){r.push(n?i.replace($re,"$1"):t||e)}),r}),Lre=Dre;function jre(o,r){for(var e=-1,t=o==null?0:o.length,n=Array(t);++e<t;)n[e]=r(o[e],e,o);return n}var Rre=jre,hb=Vp,Nre=Rre,Fre=Oa,Bre=Lp,vb=hb?hb.prototype:void 0,gb=vb?vb.toString:void 0;function GC(o){if(typeof o=="string")return o;if(Fre(o))return Nre(o,GC)+"";if(Bre(o))return gb?gb.call(o):"";var r=o+"";return r=="0"&&1/o==-1/0?"-0":r}var Hre=GC,Ure=Hre;function zre(o){return o==null?"":Ure(o)}var Wre=zre,qre=Oa,Kre=vm,Gre=Lre,Zre=Wre;function Xre(o,r){return qre(o)?o:Kre(o,r)?[o]:Gre(Zre(o))}var ZC=Xre,Yre=Lp;function Jre(o){if(typeof o=="string"||Yre(o))return o;var r=o+"";return r=="0"&&1/o==-1/0?"-0":r}var jp=Jre,Qre=ZC,ene=jp;function tne(o,r){r=Qre(r,o);for(var e=0,t=r.length;o!=null&&e<t;)o=o[ene(r[e++])];return e&&e==t?o:void 0}var XC=tne,rne=XC;function nne(o,r,e){var t=o==null?void 0:rne(o,r);return t===void 0?e:t}var one=nne;function ine(o,r){return o!=null&&r in Object(o)}var ane=ine,sne=ZC,lne=jC,cne=Oa,une=NC,fne=hm,dne=jp;function pne(o,r,e){r=sne(r,o);for(var t=-1,n=r.length,i=!1;++t<n;){var s=dne(r[t]);if(!(i=o!=null&&e(o,s)))break;o=o[s]}return i||++t!=n?i:(n=o==null?0:o.length,!!n&&fne(n)&&une(s,n)&&(cne(o)||lne(o)))}var hne=pne,vne=ane,gne=hne;function mne(o,r){return o!=null&&gne(o,r,vne)}var yne=mne,_ne=zC,bne=one,wne=yne,xne=vm,Cne=WC,Sne=qC,One=jp,Tne=1,Ene=2;function Pne(o,r){return xne(o)&&Cne(r)?Sne(One(o),r):function(e){var t=bne(e,o);return t===void 0&&t===r?wne(e,o):_ne(r,t,Tne|Ene)}}var kne=Pne;function Ane(o){return o}var Mne=Ane;function Vne(o){return function(r){return r==null?void 0:r[o]}}var Ine=Vne,$ne=XC;function Dne(o){return function(r){return $ne(r,o)}}var Lne=Dne,jne=Ine,Rne=Lne,Nne=vm,Fne=jp;function Bne(o){return Nne(o)?jne(Fne(o)):Rne(o)}var Hne=Bne,Une=gre,zne=kne,Wne=Mne,qne=Oa,Kne=Hne;function Gne(o){return typeof o=="function"?o:o==null?Wne:typeof o=="object"?qne(o)?zne(o[0],o[1]):Une(o):Kne(o)}var Zne=Gne,Xne=/\s/;function Yne(o){for(var r=o.length;r--&&Xne.test(o.charAt(r)););return r}var Jne=Yne,Qne=Jne,eoe=/^\s+/;function toe(o){return o&&o.slice(0,Qne(o)+1).replace(eoe,"")}var roe=toe,noe=roe,mb=Ip,ooe=Lp,yb=NaN,ioe=/^[-+]0x[0-9a-f]+$/i,aoe=/^0b[01]+$/i,soe=/^0o[0-7]+$/i,loe=parseInt;function coe(o){if(typeof o=="number")return o;if(ooe(o))return yb;if(mb(o)){var r=typeof o.valueOf=="function"?o.valueOf():o;o=mb(r)?r+"":r}if(typeof o!="string")return o===0?o:+o;o=noe(o);var e=aoe.test(o);return e||soe.test(o)?loe(o.slice(2),e?2:8):ioe.test(o)?yb:+o}var uoe=coe,foe=uoe,doe=1/0,poe=17976931348623157e292;function hoe(o){if(!o)return o===0?o:0;if(o=foe(o),o===doe||o===-1/0){var r=o<0?-1:1;return r*poe}return o===o?o:0}var voe=hoe,goe=voe;function moe(o){var r=goe(o),e=r%1;return r===r?e?r-e:r:0}var yoe=moe,_oe=IZ,boe=Zne,woe=yoe,xoe=Math.max;function Coe(o,r,e){var t=o==null?0:o.length;if(!t)return-1;var n=e==null?0:woe(e);return n<0&&(n=xoe(t+n,0)),_oe(o,boe(r),n)}var Soe=Coe;const Rp=Eo(Soe),Ooe=Vue.isRef,Hs=Vue.ref,Toe=Vue.shallowRef,Eoe=Vue.toValue,Poe=Vue.watch;function hs(o){let r=null,e=Toe({});Ooe(o)?Poe(o,x=>{r=x,x&&(e.value=Innoclapps.resource(x))},{immediate:!0,flush:"post"}):(r=Eoe(o),e.value=Innoclapps.resource(r)||{});const t=Hs(!1),n=Hs(!1),i=Hs(!1),s=Hs(!1),l=Hs(!1),u=Hs(!1);async function f(x){s.value=!0;try{let{data:O}=await Innoclapps.request(`/${r}/${x}`);return O}finally{s.value=!1}}async function d(x,O,M={}){let T;typeof x.put!="function"?T=In(x).form:T=x,i.value=!0;try{const E=await T.put(`/${r}/${O}`,M);return Oi("resource-updated",{resourceName:r,resourceId:O,resource:E}),Oi(`${r}-updated`,E),E}finally{i.value=!1}}async function v(x){let O;typeof x.post!="function"?O=In(x).form:O=x,t.value=!0;try{const M=await O.post(`/${r}`);return Oi("resource-updated",{resourceName:r,resourceId:M.id,resource:M}),Oi(`${r}-updated`,M),M}finally{t.value=!1}}async function m(x){n.value=!0;try{const O=await Innoclapps.request().delete(`/${r}/${x}`);return Oi("resource-deleted",{resourceName:r,resourceId:x}),Oi(`${r}-deleted`,O),O}finally{n.value=!1}}async function y(x){l.value=!0;try{const{data:O}=await Innoclapps.request().post(`/${r}/${x}/clone`);return Oi("resource-cloned",{resourceName:r,resourceId:x,clonedResource:O}),Oi(`${r}-cloned`,O),O}finally{l.value=!1}}async function b(x,O){u.value=!0;try{let{data:M}=await Innoclapps.request().post(`associations/${r}/${x}`,O);return M}finally{u.value=!1}}async function w(x,O){u.value=!0;try{const{data:M}=await Innoclapps.request().delete(`associations/${r}/${x}`,{data:O});return M}finally{u.value=!1}}return{retrieveResource:f,resourceBeingRetrieved:s,createResource:v,resourceBeingCreated:t,cloneResource:y,resourceBeingCloned:l,updateResource:d,resourceBeingUpdated:i,deleteResource:m,resourceBeingDeleted:n,detachAssociations:w,syncAssociations:b,associationsBeingSaved:u,resourceName:o,resourceInformation:e}}const aa=Vue.unref,Go=Vue.resolveComponent,xf=Vue.openBlock,Cf=Vue.createBlock,xv=Vue.createCommentVNode,koe=Vue.toDisplayString,Aoe=Vue.createTextVNode,sa=Vue.withCtx,la=Vue.createVNode,Moe=Vue.createSlots,_b=Vue.ref,Voe=_app_.i18n.useI18n,Ioe=_app_.router.useRouter,$oe={__name:"ProductsCreate",emits:["created","restored"],setup(o,{emit:r}){const e=r,t=Innoclapps.resourceName("products"),{t:n}=Voe(),i=Ioe(),{fields:s,hasFields:l,getCreateFields:u}=Sa(),{form:f}=In(),{createResource:d}=hs(t),v=_b(null),m=_b({byName:!1});MZ(()=>f.name,T=>{if(!T){v.value=null;return}Innoclapps.request("/trashed/products/search",{params:{q:T,search_fields:"name:="}}).then(({data:E})=>{v.value=E.length>0?E[0]:null})},{debounce:500});function y(){x().then(()=>i.back())}function b(){x().then(()=>f.reset())}function w(){x().then(()=>i.push("/products"))}async function x(){try{let T=await d(f);return e("created",T),Innoclapps.success(n("billable::product.created")),T}catch(T){return T.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Promise.reject(T)}}async function O(T,E){await Innoclapps.request().post(`/trashed/products/${T}`),m.value[E]=!0,e("restored",v)}async function M(){const T=await u(t);s.value=T}return M(),(T,E)=>{const U=Go("FieldsPlaceholder"),Z=Go("IAlertBody"),te=Go("IButton"),ee=Go("IAlertActions"),G=Go("IAlert"),q=Go("FormFields"),D=Go("IDropdownItem"),$=Go("IDropdownMenu"),B=Go("IExtendedDropdown"),W=Go("ISlideover");return xf(),Cf(W,{id:"createProductModal",title:T.$t("billable::product.create"),visible:"",static:"",form:"",onSubmit:y,onHidden:T.$router.back},{"modal-ok":sa(()=>[la(B,{type:"submit",disabled:aa(f).busy,loading:aa(f).busy,text:T.$t("core::app.create")},{default:sa(()=>[la($,{class:"min-w-48"},{default:sa(()=>[la(D,{text:T.$t("core::app.create_and_add_another"),onClick:b},null,8,["text"]),la(D,{text:T.$t("core::app.create_and_go_to_list"),onClick:w},null,8,["text"])]),_:1})]),_:1},8,["disabled","loading","text"])]),default:sa(()=>[aa(l)?xv("",!0):(xf(),Cf(U,{key:0})),la(q,{fields:aa(s),form:aa(f),"resource-name":aa(t),"is-floating":"","focus-first":"",onUpdateFieldValue:E[3]||(E[3]=X=>aa(f).fill(X.attribute,X.value)),onSetInitialValue:E[4]||(E[4]=X=>aa(f).set(X.attribute,X.value))},Moe({_:2},[v.value!==null?{name:"after-name-field",fn:sa(()=>[la(G,{class:"mb-3",dismissible:"",onDismissed:E[2]||(E[2]=X=>{m.value.byName=!1,v.value=null})},{default:sa(({variant:X})=>[la(Z,null,{default:sa(()=>[Aoe(koe(T.$t("billable::product.exists_in_trash_by_name")),1)]),_:1}),la(ee,null,{default:sa(()=>[m.value.byName?xv("",!0):(xf(),Cf(te,{key:0,variant:X,text:T.$t("core::app.soft_deletes.restore"),ghost:"",onClick:E[0]||(E[0]=V=>O(v.value.id,"byName"))},null,8,["variant","text"])),m.value.byName?(xf(),Cf(te,{key:1,variant:X,text:T.$t("core::app.view_record"),ghost:"",onClick:E[1]||(E[1]=V=>T.$router.replace({name:"view-product",params:{id:v.value.id}}))},null,8,["variant","text"])):xv("",!0)]),_:2},1024)]),_:1})]),key:"0"}:void 0]),1032,["fields","form","resource-name"])]),_:1},8,["title","onHidden"])}}},er=Vue.unref,Zo=Vue.resolveComponent,bb=Vue.openBlock,wb=Vue.createBlock,Doe=Vue.createCommentVNode,Loe=Vue.renderSlot,Er=Vue.createVNode,Xo=Vue.withCtx,xi=Vue.createElementVNode,xb=Vue.createSlots,Cb=Vue.vShow,Sb=Vue.withDirectives,joe={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},Roe={class:"sm:col-span-2"},Noe={class:"sm:col-span-2"},Foe={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},Boe={class:"sm:col-span-2"},Hoe={class:"sm:col-span-2"},Uoe={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},zoe={class:"sm:col-span-2"};Vue.onMounted;const Woe=Vue.ref,qoe=_app_.i18n.useI18n,Koe=_app_.router.useRouter,Goe={__name:"Create",props:{visible:{type:Boolean,default:!0},goToList:{type:Boolean,default:!0},redirectToView:Boolean,createUsing:Function,withExtendedSubmitButtons:Boolean,fieldsVisible:{type:Boolean,default:!0},title:String,products:Array},emits:["created","restored","update:visible","ready"],setup(o,{emit:r}){const e=o,t=r,{t:n}=qoe(),i=Koe(),s=Innoclapps.resourceName("packages"),l=Woe(!1),{fields:u,hasFields:f,getCreateFields:d}=Sa(),{form:v}=In(),{createResource:m}=hs(s);kp(()=>e.visible,E,{immediate:!0});function y(Z){if(Z.indexRoute={name:"packages-index"},Z.action==="go-to-list")return i.push(Z.indexRoute)}function b(){u.value=[],v.reset()}function w(){T().then(y)}function x(){v.db_test=!1,M()}function O(){T("create-another").then(Z=>{v.reset(),y(Z)})}function M(){T("go-to-list").then(y)}async function T(Z=null){let ee={product:await m(v).catch(G=>(G.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Promise.reject(G))),isRegularAction:Z===null,action:Z};return t("created",ee),Innoclapps.success(n("core::resource.created")),ee}async function E(){const Z=await d(s),te=ee=>Rp(Z,["attribute",ee]);for(let ee of["products"]){if(!e[ee])continue;let G=te(ee);G===-1?v.set(ee,e[ee].map(q=>typeof q=="object"?q.id:q)):Z[G].value=e[ee]}u.value=Z,t("ready",{fields:u,form:v})}function U(){v.db_test=!0,w()}return(Z,te)=>{const ee=Zo("FieldsPlaceholder"),G=Zo("IFormInput"),q=Zo("IFormError"),D=Zo("IFormGroup"),$=Zo("IButton"),B=Zo("FormFields"),W=Zo("IDropdownItem"),X=Zo("IDropdownMenu"),V=Zo("IExtendedDropdown"),_e=Zo("ISlideover");return bb(),wb(_e,{id:"createCompanyModal",visible:o.visible,title:o.title||Z.$t("saas::saas.packages.create"),"ok-text":Z.$t("core::app.create"),"ok-disabled":er(v).busy,static:"",form:"",onHidden:b,onSubmit:te[10]||(te[10]=ue=>o.createUsing?o.createUsing(w):x()),"onUpdate:visible":te[11]||(te[11]=ue=>Z.$emit("update:visible",ue))},xb({default:Xo(()=>[er(f)?Doe("",!0):(bb(),wb(ee,{key:0})),Loe(Z.$slots,"top",{isReady:er(f)}),Sb(xi("div",null,[Er(B,{fields:er(u),form:er(v),"resource-name":er(s),"is-floating":"","focus-first":"",onUpdateFieldValue:te[5]||(te[5]=ue=>er(v).fill(ue.attribute,ue.value)),onSetInitialValue:te[6]||(te[6]=ue=>er(v).set(ue.attribute,ue.value))},xb({_:2},[er(v).db_scheme==="custom"?{name:"after-db_scheme-field",fn:Xo(()=>[xi("div",joe,[xi("div",Roe,[Er(D,{key:"db_host","label-for":"db_host",label:Z.$t("saas::saas.fields.tenant.db_host"),required:""},{default:Xo(()=>[Er(G,{id:"db_host",modelValue:er(v).db_host,"onUpdate:modelValue":te[0]||(te[0]=ue=>er(v).db_host=ue),placeholder:Z.$t("saas::saas.fields.tenant.db_host")},null,8,["modelValue","placeholder"]),Er(q,{error:er(v).getError("db_host")},null,8,["error"])]),_:1},8,["label"])]),xi("div",Noe,[Er(D,{key:"db_port","label-for":"db_port",label:Z.$t("saas::saas.fields.tenant.db_port"),required:""},{default:Xo(()=>[Er(G,{id:"db_port",modelValue:er(v).db_port,"onUpdate:modelValue":te[1]||(te[1]=ue=>er(v).db_port=ue),placeholder:Z.$t("saas::saas.fields.tenant.db_port")},null,8,["modelValue","placeholder"]),Er(q,{error:er(v).getError("db_port")},null,8,["error"])]),_:1},8,["label"])])]),xi("div",Foe,[xi("div",Boe,[Er(D,{key:"db_user","label-for":"db_user",label:Z.$t("saas::saas.fields.tenant.db_user"),required:""},{default:Xo(()=>[Er(G,{id:"db_user",modelValue:er(v).db_user,"onUpdate:modelValue":te[2]||(te[2]=ue=>er(v).db_user=ue),placeholder:Z.$t("saas::saas.fields.tenant.db_user")},null,8,["modelValue","placeholder"]),Er(q,{error:er(v).getError("db_user")},null,8,["error"])]),_:1},8,["label"])]),xi("div",Hoe,[Er(D,{key:"db_password","label-for":"db_password",label:Z.$t("saas::saas.fields.tenant.db_password"),required:""},{default:Xo(()=>[Er(G,{id:"db_password",modelValue:er(v).db_password,"onUpdate:modelValue":te[3]||(te[3]=ue=>er(v).db_password=ue),placeholder:Z.$t("saas::saas.fields.tenant.db_password")},null,8,["modelValue","placeholder"]),Er(q,{error:er(v).getError("db_password")},null,8,["error"])]),_:1},8,["label"])])]),xi("div",Uoe,[xi("div",zoe,[Er(D,{key:"database","label-for":"database",label:Z.$t("saas::saas.fields.tenant.database"),required:""},{default:Xo(()=>[Er(G,{id:"database",modelValue:er(v).database,"onUpdate:modelValue":te[4]||(te[4]=ue=>er(v).database=ue),placeholder:Z.$t("saas::saas.fields.tenant.database")},null,8,["modelValue","placeholder"]),Er(q,{error:er(v).getError("database")},null,8,["error"])]),_:1},8,["label"])])]),Er($,{variant:"primary",loading:er(v).busy,text:Z.$t("saas::saas.buttons.test_connection"),onClick:U},null,8,["loading","text"])]),key:"0"}:void 0]),1032,["fields","form","resource-name"])],512),[[Cb,o.fieldsVisible]]),Er($oe,{visible:l.value,"onUpdate:visible":te[7]||(te[7]=ue=>l.value=ue),overlay:!1,onCreated:te[8]||(te[8]=ue=>l.value=!1),onRestored:te[9]||(te[9]=ue=>l.value=!1)},null,8,["visible"])]),_:2},[o.withExtendedSubmitButtons?{name:"modal-ok",fn:Xo(()=>[Er(V,{type:"submit",placement:"top-end",disabled:er(v).busy,loading:er(v).busy,text:Z.$t("core::app.create")},{default:Xo(()=>[Er(X,{class:"min-w-48"},{default:Xo(()=>[Er(W,{text:Z.$t("core::app.create_and_add_another"),onClick:O},null,8,["text"]),Sb(Er(W,{text:Z.$t("core::app.create_and_go_to_list"),onClick:M},null,8,["text"]),[[Cb,o.goToList]])]),_:1})]),_:1},8,["disabled","loading","text"])]),key:"0"}:void 0]),1032,["visible","title","ok-text","ok-disabled"])}}},Tc=Vue.unref,Zoe=Vue.resolveComponent,Xoe=Vue.createVNode,Yoe=Vue.vShow,Joe=Vue.withDirectives,Ob=Vue.openBlock,Qoe=Vue.createElementBlock,eie=Vue.createCommentVNode,tie=Vue.renderSlot,rie=Vue.normalizeProps,Tb=Vue.withCtx,nie=Vue.createBlock,oie={key:0,class:"mb-4 rounded-lg border border-neutral-300 bg-neutral-50/80 px-4 py-3 dark:border-neutral-500/30 dark:bg-neutral-500/10"},Eb=Vue.computed,iie=_app_.i18n.useI18n,aie={__name:"PackageCreate",props:{viaResource:String,parentResource:Object},emits:["associated"],setup(o,{emit:r}){const e=o,t=Innoclapps.resourceName("packages"),{t:n}=iie(),{fields:i}=Sa([{asyncUrl:"/companies/search",attribute:"companies",formComponent:"FormSelectField",helpText:n("contacts::company.associate_field_info"),helpTextDisplay:"text",label:n("contacts::company.company"),labelKey:"name",valueKey:"id",lazyLoad:{url:"/invoices",params:{order:"created_at|desc"}}}]),{form:s}=In(),l=Eb(()=>!!s.companies),u=Eb(()=>e.viaResource?l.value?n("saas::saas.associate_with.package",{name:e.parentResource.display_name}):n("saas::saas.fields.package.base_price",{name:e.parentResource.display_name}):n("Create Package"));return e.viaResource||Pp(n("saas::saas.create.package")),(f,d)=>{const v=Zoe("FormFields");return Ob(),nie(Goe,rie({title:u.value,"ok-text":l.value?f.$t("core::app.associate"):f.$t("core::app.create"),[o.viaResource||""]:o.viaResource?[o.parentResource]:void 0,"fields-visible":!l.value,"with-extended-submit-buttons":!l.value}),{top:Tb(({isReady:m})=>[o.viaResource?Joe((Ob(),Qoe("div",oie,[Xoe(v,{fields:Tc(i),form:Tc(s),"resource-name":Tc(t),"is-floating":"",onUpdateFieldValue:d[0]||(d[0]=y=>Tc(s).fill(y.attribute,y.value)),onSetInitialValue:d[1]||(d[1]=y=>Tc(s).set(y.attribute,y.value))},null,8,["fields","form","resource-name"])],512)),[[Yoe,m]]):eie("",!0)]),default:Tb(()=>[tie(f.$slots,"top",{isReady:f.hasFields})]),_:3},16,["title","ok-text","fields-visible","with-extended-submit-buttons"])}}},sie=Vue.ref;function YC(o=!1){const r=sie(o);function e(t=!0){r.value=t}return{setLoading:e,isLoading:r}}const Pb=Vue.ref,lie=PC(()=>{const{setLoading:o,isLoading:r}=YC(),e=Pb([]),t=Pb(!1);async function n(u,f){const{data:d}=await Innoclapps.request(`/saas/packages/${u}`,f);return d}async function i(u){const{data:f}=await Innoclapps.request("/packages/search",{params:{q:u,search_fields:"name:="}});return f.length>0?f[0]:null}async function s(u=100){if(t.value)return e.value;o(!0);try{const{data:f}=await l({params:{take:u}});return e.value=f,f}finally{o(!1),t.value=!0}}function l(u){return Innoclapps.request("/packages/active",u)}return{limitedNumberOfActivePackages:e,limitedNumberOfActivePackagesRetrieved:t,limitedNumberOfPackagesLoading:r,fetchPackage:n,fetchPackageByName:i,retrieveLimitedNumberOfActivePackages:s,fetchActivePackages:l}}),yr=Vue.unref,Ba=Vue.resolveComponent,kb=Vue.openBlock,Ab=Vue.createBlock,cie=Vue.createCommentVNode,an=Vue.createVNode,Ha=Vue.withCtx,ca=Vue.createElementVNode,uie=Vue.createSlots,fie={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},die={class:"sm:col-span-2"},pie={class:"sm:col-span-2"},hie={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},vie={class:"sm:col-span-2"},gie={class:"sm:col-span-2"},mie={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},yie={class:"sm:col-span-2"},_ie=Vue.ref,bie=_app_.i18n.useI18n,wie=_app_.router.useRoute,xie=_app_.router.useRouter,Cie={__name:"PackageEdit",emits:["updated"],setup(o,{emit:r}){const e=r,t=Innoclapps.resourceName("packages"),{t:n}=bie(),i=xie(),s=wie(),{fetchPackage:l}=lie(),{fields:u,hasFields:f,getUpdateFields:d,hydrateFields:v}=Sa(),{form:m}=In(),{updateResource:y}=hs(t),b=_ie(null);function w(){m.db_test=!0,x()}async function x(){var M,T;try{let E=await y(m,s.params.id);E!=null&&E.message?Innoclapps.success(E.message):Innoclapps.success(n("saas::saas.fields.package.updated")),e("updated",E)}catch(E){return E.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Innoclapps.error((T=(M=E==null?void 0:E.response)==null?void 0:M.data)==null?void 0:T.message,3e3),Promise.reject(E)}m.db_test&&(m.db_test=!1),await i.push({name:"tenant-index"})}async function O(){const[M,T]=await Promise.all([l(s.params.id),d(t,s.params.id)]);u.value=T,v(M),b.value=M}return O(),(M,T)=>{const E=Ba("FieldsPlaceholder"),U=Ba("IFormInput"),Z=Ba("IFormError"),te=Ba("IFormGroup"),ee=Ba("IButton"),G=Ba("FormFields"),q=Ba("ISlideover");return kb(),Ab(q,{id:"editProductModal","ok-loading":yr(m).busy,"ok-text":M.$t("core::app.save"),title:M.$t("saas::saas.fields.package.edit"),visible:"",static:"",form:"",onHidden:M.$router.back,onSubmit:x},{default:Ha(()=>[yr(f)?cie("",!0):(kb(),Ab(E,{key:0})),an(G,{fields:yr(u),form:yr(m),"resource-name":yr(t),"resource-id":M.$route.params.id,"is-floating":"",onUpdateFieldValue:T[5]||(T[5]=D=>yr(m).fill(D.attribute,D.value)),onSetInitialValue:T[6]||(T[6]=D=>yr(m).set(D.attribute,D.value))},uie({_:2},[yr(m).db_scheme==="custom"?{name:"after-db_scheme-field",fn:Ha(()=>[ca("div",fie,[ca("div",die,[an(te,{key:"db_host","label-for":"db_host",label:M.$t("saas::saas.fields.tenant.db_host"),required:""},{default:Ha(()=>[an(U,{id:"db_host",modelValue:yr(m).db_host,"onUpdate:modelValue":T[0]||(T[0]=D=>yr(m).db_host=D),placeholder:M.$t("saas::saas.fields.tenant.db_host")},null,8,["modelValue","placeholder"]),an(Z,{error:yr(m).getError("db_host")},null,8,["error"])]),_:1},8,["label"])]),ca("div",pie,[an(te,{key:"db_port","label-for":"db_port",label:M.$t("saas::saas.fields.tenant.db_port"),required:""},{default:Ha(()=>[an(U,{id:"db_port",modelValue:yr(m).db_port,"onUpdate:modelValue":T[1]||(T[1]=D=>yr(m).db_port=D),placeholder:M.$t("saas::saas.fields.tenant.db_port")},null,8,["modelValue","placeholder"]),an(Z,{error:yr(m).getError("db_port")},null,8,["error"])]),_:1},8,["label"])])]),ca("div",hie,[ca("div",vie,[an(te,{key:"db_user","label-for":"db_user",label:M.$t("saas::saas.fields.tenant.db_user"),required:""},{default:Ha(()=>[an(U,{id:"db_user",modelValue:yr(m).db_user,"onUpdate:modelValue":T[2]||(T[2]=D=>yr(m).db_user=D),placeholder:M.$t("saas::saas.fields.tenant.db_user")},null,8,["modelValue","placeholder"]),an(Z,{error:yr(m).getError("db_user")},null,8,["error"])]),_:1},8,["label"])]),ca("div",gie,[an(te,{key:"db_password","label-for":"db_password",label:M.$t("saas::saas.fields.tenant.db_password"),required:""},{default:Ha(()=>[an(U,{id:"db_password",modelValue:yr(m).db_password,"onUpdate:modelValue":T[3]||(T[3]=D=>yr(m).db_password=D),placeholder:M.$t("saas::saas.fields.tenant.db_password")},null,8,["modelValue","placeholder"]),an(Z,{error:yr(m).getError("db_password")},null,8,["error"])]),_:1},8,["label"])])]),ca("div",mie,[ca("div",yie,[an(te,{key:"database","label-for":"database",label:M.$t("saas::saas.fields.tenant.database"),required:""},{default:Ha(()=>[an(U,{id:"database",modelValue:yr(m).database,"onUpdate:modelValue":T[4]||(T[4]=D=>yr(m).database=D),placeholder:M.$t("saas::saas.fields.tenant.database")},null,8,["modelValue","placeholder"]),an(Z,{error:yr(m).getError("database")},null,8,["error"])]),_:1},8,["label"])])]),an(ee,{variant:"primary",loading:yr(m).busy,text:M.$t("saas::saas.buttons.test_connection"),onClick:w},null,8,["loading","text"])]),key:"0"}:void 0]),1032,["fields","form","resource-name","resource-id"])]),_:1},8,["ok-loading","ok-text","title","onHidden"])}}},so=Vue.resolveComponent,Yo=Vue.createVNode,ua=Vue.unref,Us=Vue.openBlock,Ec=Vue.createBlock,Pc=Vue.createCommentVNode,Ua=Vue.withCtx,Mb=Vue.vShow,Vb=Vue.withDirectives,Sie=Vue.normalizeProps,Oie=Vue.guardReactiveProps,Tie=Vue.createElementBlock,Ib=Vue.toDisplayString,Cv=Vue.createElementVNode,Eie={key:1,class:"m-auto mt-8 max-w-5xl"},Pie=["href"],kie=Vue.computed,$b=Vue.ref,zs="packages",Aie={__name:"PackageIndex",setup(o){const r=Innoclapps.resource(zs),{t:e}=_app_.i18n.useI18n(),{reloadTable:t}=Ep(zs),n=$b(!0),i=$b(!1),s=kie(()=>n.value&&i.value);function l(f){n.value=f.isPreEmpty,i.value=!0}function u(){t()}return(f,d)=>{const v=so("NavbarSeparator"),m=so("IDropdownItem"),y=so("IDropdownMinimal"),b=so("IButton"),w=so("NavbarItems"),x=so("IOverlay"),O=so("IEmptyState"),M=so("Icon"),T=so("ILink"),E=so("ResourceTable"),U=so("ResourceExport"),Z=so("RouterView"),te=so("MainLayout");return Us(),Ec(te,null,{actions:Ua(()=>[Yo(v,{class:"hidden lg:block"}),Yo(w,null,{default:Ua(()=>[Yo(y,{placement:n.value?"bottom-end":"bottom",horizontal:""},{default:Ua(()=>[ua(r).authorizedToImport?(Us(),Ec(m,{key:0,icon:"DocumentAdd",to:{name:"import-resource",params:{resourceName:zs}},text:f.$t("core::resource.import",{resource:ua(r).label})},null,8,["to","text"])):Pc("",!0),ua(r).authorizedToExport?(Us(),Ec(m,{key:1,icon:"DocumentDownload",text:f.$t("core::resource.export",{resource:ua(r).label}),onClick:d[0]||(d[0]=ee=>f.$dialog.show("export-modal"))},null,8,["text"])):Pc("",!0),ua(r).usesSoftDeletes?(Us(),Ec(m,{key:2,icon:"Trash",to:{name:"trashed-resource-records",params:{resourceName:zs}},text:f.$t("core::resource.trashed",{resource:ua(r).label})},null,8,["to","text"])):Pc("",!0)]),_:1},8,["placement"]),Vb(Yo(b,{variant:"primary",icon:"PlusSolid",disabled:!ua(r).authorizedToCreate,to:{name:"create-package"},text:f.$t("core::resource.create",{resource:ua(r).singularLabel})},null,8,["disabled","text"]),[[Mb,!n.value]])]),_:1})]),default:Ua(()=>[i.value?Pc("",!0):(Us(),Ec(x,{key:0,show:""})),s.value?(Us(),Tie("div",Eie,[Yo(O,Sie(Oie({to:{name:"create-package"},title:f.$t("saas::saas.fields.package.empty_state.title"),buttonText:f.$t("saas::saas.create.package"),description:f.$t("saas::saas.fields.package.empty_state.description")})),null,16)])):Pc("",!0),Vb(Cv("div",null,[Yo(E,{"resource-name":zs,onLoaded:l},{name:Ua(({row:ee,column:G})=>[Cv("span",null,Ib(ee.name),1),Yo(T,{class:"btn btn-secondary btn-sm absolute right-0.5 z-20 my-auto mr-4",to:`/saas/packages/${ee.id}/edit`},{default:Ua(()=>[Yo(M,{icon:"Pencil"})]),_:2},1032,["to"])]),invoice_number:Ua(({row:ee,column:G})=>[Cv("a",{class:"mr-1.5 text-base/6 text-primary-600 no-underline last:mr-0 hover:text-primary-900 focus:outline-none dark:text-primary-300 dark:hover:text-primary-400 sm:text-sm/6",target:"_blank",href:`/invoices/${ee.id}/pay`},Ib(ee.invoice_number),9,Pie)]),_:1})],512),[[Mb,!n.value]]),Yo(U,{"resource-name":zs}),Yo(Z,{"redirect-to-view":!0,onCreated:d[1]||(d[1]=({isRegularAction:ee})=>ee?void 0:u()),onHidden:f.$router.back},null,8,["onHidden"])]),_:1})}}},Jo=Vue.unref,Ws=Vue.resolveComponent,Db=Vue.openBlock,Lb=Vue.createBlock,Mie=Vue.createCommentVNode,Vie=Vue.renderSlot,kc=Vue.createVNode,jb=Vue.vShow,Iie=Vue.createElementVNode,Rb=Vue.withDirectives,Sf=Vue.withCtx,$ie=Vue.createSlots,Die=_app_.i18n.useI18n,Lie=_app_.router.useRouter,jie={__name:"Create",props:{visible:{type:Boolean,default:!0},goToList:{type:Boolean,default:!0},redirectToView:Boolean,createUsing:Function,withExtendedSubmitButtons:Boolean,fieldsVisible:{type:Boolean,default:!0},title:String,products:Array},emits:["created","restored","update:visible","ready"],setup(o,{emit:r}){const e=o,t=r,{t:n}=Die(),i=Lie(),s=Innoclapps.resourceName("pages"),{fields:l,hasFields:u,getCreateFields:f}=Sa(),{form:d}=In(),{createResource:v}=hs(s);kp(()=>e.visible,M,{immediate:!0});function m(T){if(T.indexRoute={name:"pages-index"},T.action==="go-to-list")return i.push(T.indexRoute)}function y(){l.value=[],d.reset()}function b(){console.log("create"),O().then(m)}function w(){O("create-another").then(T=>{d.reset(),m(T)})}function x(){console.log("createAndGoToList"),O("go-to-list").then(m)}async function O(T=null){let U={product:await v(d).catch(Z=>(Z.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Promise.reject(Z))),isRegularAction:T===null,action:T};return t("created",U),Innoclapps.success(n("core::resource.created")),U}async function M(){const T=await f(s),E=U=>Rp(T,["attribute",U]);for(let U of["products"]){if(!e[U])continue;let Z=E(U);Z===-1?d.set(U,e[U].map(te=>typeof te=="object"?te.id:te)):T[Z].value=e[U]}l.value=T,t("ready",{fields:l,form:d})}return(T,E)=>{const U=Ws("FieldsPlaceholder"),Z=Ws("FormFields"),te=Ws("IDropdownItem"),ee=Ws("IDropdownMenu"),G=Ws("IExtendedDropdown"),q=Ws("ISlideover");return Db(),Lb(q,{id:"createCompanyModal",visible:o.visible,title:o.title||T.$t("saas::saas.pages.create"),"ok-text":T.$t("core::app.create"),"ok-disabled":Jo(d).busy,static:"",form:"",onHidden:y,onSubmit:E[2]||(E[2]=D=>o.createUsing?o.createUsing(b):x()),"onUpdate:visible":E[3]||(E[3]=D=>T.$emit("update:visible",D))},$ie({default:Sf(()=>[Jo(u)?Mie("",!0):(Db(),Lb(U,{key:0})),Vie(T.$slots,"top",{isReady:Jo(u)}),Rb(Iie("div",null,[kc(Z,{fields:Jo(l),form:Jo(d),"resource-name":Jo(s),"is-floating":"","focus-first":"",onUpdateFieldValue:E[0]||(E[0]=D=>Jo(d).fill(D.attribute,D.value)),onSetInitialValue:E[1]||(E[1]=D=>Jo(d).set(D.attribute,D.value))},null,8,["fields","form","resource-name"])],512),[[jb,o.fieldsVisible]])]),_:2},[o.withExtendedSubmitButtons?{name:"modal-ok",fn:Sf(()=>[kc(G,{type:"submit",placement:"top-end",disabled:Jo(d).busy,loading:Jo(d).busy,text:T.$t("core::app.create")},{default:Sf(()=>[kc(ee,{class:"min-w-48"},{default:Sf(()=>[kc(te,{text:T.$t("core::app.create_and_add_another"),onClick:w},null,8,["text"]),Rb(kc(te,{text:T.$t("core::app.create_and_go_to_list"),onClick:x},null,8,["text"]),[[jb,o.goToList]])]),_:1})]),_:1},8,["disabled","loading","text"])]),key:"0"}:void 0]),1032,["visible","title","ok-text","ok-disabled"])}}},Of=Vue.unref,Nb=Vue.resolveComponent,Fb=Vue.createVNode,Rie=Vue.vShow,Nie=Vue.withDirectives,Bb=Vue.openBlock,Fie=Vue.createElementBlock,Bie=Vue.createCommentVNode,Hie=Vue.renderSlot,Uie=Vue.toDisplayString,zie=Vue.createTextVNode,Tf=Vue.withCtx,Wie=Vue.normalizeProps,qie=Vue.createBlock,Kie={key:0,class:"mb-4 rounded-lg border border-neutral-300 bg-neutral-50/80 px-4 py-3 dark:border-neutral-500/30 dark:bg-neutral-500/10"},Hb=Vue.computed,Gie=_app_.i18n.useI18n,Zie={__name:"PageCreate",props:{viaResource:String,parentResource:Object},setup(o){const r=o,e=Innoclapps.resourceName("pages"),{t}=Gie(),{form:n}=In(),i=Hb(()=>!!n.companies),s=Hb(()=>r.viaResource?i.value?t("saas::saas.associate_with.page",{name:r.parentResource.display_name}):t("saas::saas.fields.page.base_price",{name:r.parentResource.display_name}):t("Create page"));return r.viaResource||Pp(t("saas::saas.create.page")),(l,u)=>{const f=Nb("FormFields"),d=Nb("ILink");return Bb(),qie(jie,Wie({title:s.value,"ok-text":i.value?l.$t("core::app.associate"):l.$t("core::app.create"),[o.viaResource||""]:o.viaResource?[o.parentResource]:void 0,"fields-visible":!i.value,"with-extended-submit-buttons":!i.value}),{top:Tf(({isReady:v})=>[o.viaResource?Nie((Bb(),Fie("div",Kie,[Fb(f,{fields:l.associateField,form:Of(n),"resource-name":Of(e),"is-floating":"",onUpdateFieldValue:u[0]||(u[0]=m=>Of(n).fill(m.attribute,m.value)),onSetInitialValue:u[1]||(u[1]=m=>Of(n).set(m.attribute,m.value))},null,8,["fields","form","resource-name"])],512)),[[Rie,v]]):Bie("",!0)]),"after-contact_id-field":Tf(()=>[Fb(d,{class:"-mt-1 block text-right",onClick:u[2]||(u[2]=v=>l.contactBeingCreated=!0)},{default:Tf(()=>[zie(" + "+Uie(l.$t("contacts::contact.create")),1)]),_:1})]),default:Tf(()=>[Hie(l.$slots,"top",{isReady:l.hasFields})]),_:3},16,["title","ok-text","fields-visible","with-extended-submit-buttons"])}}},En=Vue.resolveComponent,Pn=Vue.createVNode,sn=Vue.unref,za=Vue.openBlock,Ac=Vue.createBlock,qs=Vue.createCommentVNode,Ci=Vue.withCtx,Ub=Vue.vShow,Ef=Vue.withDirectives,Xie=Vue.normalizeProps,Yie=Vue.guardReactiveProps,zb=Vue.createElementBlock,Sv=Vue.toDisplayString,Wb=Vue.createTextVNode,qb=Vue.resolveDirective,Mc=Vue.createElementVNode,Jie=Vue.normalizeClass,Qie={key:1,class:"m-auto mt-8 max-w-5xl"},eae={class:"flex"},tae=["href"],rae={class:"flex flex-col space-y-4 py-3"},nae={key:0,class:"text-red-500 text-sm"},oae=Vue.computed,Ks=Vue.ref,iae=_app_.router.useRouter,aae={__name:"PageIndex",setup(o){const r=Innoclapps.resourceName("pages"),e=Innoclapps.resource(r),{reloadTable:t}=Ep(r),n=Ks(!1),i=Ks(null),s=Ks(""),l=Ks(null),{t:u}=_app_.i18n.useI18n(),f=Ks(!0),d=Ks(!1),v=iae(),m=oae(()=>f.value&&d.value);async function y(E){try{const U=await ar.get(E,{responseType:"blob"}),Z=document.createElement("a");Z.href=URL.createObjectURL(U.data),Z.download="sample.zip",document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)}catch(U){console.error("Download failed:",U)}}function b(E){const U=E.target.files[0];U&&U.type==="application/zip"?(i.value=U,s.value=""):(i.value=null,s.value="Please select a valid ZIP file.")}function w(E){l.value=E,n.value=!0}async function x(){if(!i.value){s.value="Please select a file to upload.";return}try{const E=new FormData;E.append("template",i.value),E.append("row_id",l.value.id),await ar.post(`/api/saas/templates/upload/${l.value.id}`,E,{headers:{"Content-Type":"multipart/form-data"}}),Innoclapps.success("Template uploaded successfully!"),n.value=!1,i.value=null}catch(E){console.error("Error uploading template:",E),s.value="Failed to upload template. Please try again."}}function O(E){f.value=E.isPreEmpty,d.value=!0}function M(E){v.push({name:"grapejs-edit",params:{id:E}})}function T(){t()}return(E,U)=>{const Z=En("NavbarSeparator"),te=En("IDropdownItem"),ee=En("IDropdownMinimal"),G=En("IButton"),q=En("NavbarItems"),D=En("IOverlay"),$=En("IEmptyState"),B=En("Button"),W=En("Icon"),X=En("ResourceTable"),V=En("ITextDark"),_e=En("IModal"),ue=En("ResourceExport"),Ve=En("RouterView"),le=En("MainLayout"),N=qb("i-tooltip"),xe=qb("dialog");return za(),Ac(le,null,{actions:Ci(()=>[Pn(Z,{class:"hidden lg:block"}),Pn(q,null,{default:Ci(()=>[Pn(ee,{placement:f.value?"bottom-end":"bottom",horizontal:""},{default:Ci(()=>[sn(e).authorizedToImport?(za(),Ac(te,{key:0,icon:"DocumentAdd",to:{name:"import-resource",params:{resourceName:sn(r)}},text:E.$t("core::resource.import",{resource:sn(e).label})},null,8,["to","text"])):qs("",!0),sn(e).authorizedToExport?(za(),Ac(te,{key:1,icon:"DocumentDownload",text:E.$t("core::resource.export",{resource:sn(e).label}),onClick:U[0]||(U[0]=Oe=>E.$dialog.show("export-modal"))},null,8,["text"])):qs("",!0),sn(e).usesSoftDeletes?(za(),Ac(te,{key:2,icon:"Trash",to:{name:"trashed-resource-records",params:{resourceName:sn(r)}},text:E.$t("core::resource.trashed",{resource:sn(e).label})},null,8,["to","text"])):qs("",!0)]),_:1},8,["placement"]),Ef(Pn(G,{variant:"primary",icon:"PlusSolid",disabled:!sn(e).authorizedToCreate,to:{name:"create-page"},text:E.$t("core::resource.create",{resource:sn(e).singularLabel})},null,8,["disabled","text"]),[[Ub,!f.value]])]),_:1})]),default:Ci(()=>[d.value?qs("",!0):(za(),Ac(D,{key:0,show:""})),m.value?(za(),zb("div",Qie,[Pn($,Xie(Yie({to:{name:"create-page"},title:E.$t("You have not created any Page"),buttonText:E.$t("saas::saas.create.page"),description:E.$t("saas::saas.fields.pages.empty_state.description"),secondButtonText:E.$t("core::import.from_file",{file_type:"CSV"}),secondButtonTo:{name:"import-resource",params:{resourceName:sn(r)}}})),null,16)])):qs("",!0),Ef(Mc("div",null,[Pn(X,{"resource-name":sn(r),onLoaded:O},{name:Ci(({row:Oe})=>[Pn(B,{onClick:ge=>M(Oe.id)},{default:Ci(()=>[Wb(Sv(Oe.name),1)]),_:2},1032,["onClick"])]),template_id:Ci(({row:Oe})=>[Mc("div",eae,[Mc("a",{target:"_blank",rel:"noopener noreferrer",href:`/pages/${Oe.id}/preview`},[Ef(Pn(W,{icon:"Eye",class:"ml-2 mt-px size-6 cursor-pointer",onClick:ge=>w(Oe)},null,8,["onClick"]),[[N,sn(u)("saas::saas.preview_page"),void 0,{bottom:!0,light:!0}]])],8,tae),Ef(Pn(W,{icon:"CloudArrowUp",class:"ml-2 mt-px size-6 cursor-pointer",onClick:ge=>w(Oe)},null,8,["onClick"]),[[N,sn(u)("saas::saas.upload_template"),void 0,{bottom:!0,light:!0}],[xe,"templateUpload"]])])]),_:1},8,["resource-name"])],512),[[Ub,!f.value]]),Pn(_e,{id:"templateUpload",modelValue:n.value,"onUpdate:modelValue":U[2]||(U[2]=Oe=>n.value=Oe),size:"sm",title:E.$t("Upload Template"),"hide-footer":""},{default:Ci(()=>[Mc("div",rae,[Pn(V,{class:"font-semibold",text:"Please refer to the sample file for guidance..."}),Pn(G,{icon:"DocumentDownload",text:E.$t("core::import.download_sample"),basic:"",onClick:U[1]||(U[1]=Oe=>y("/api/saas/download"))},null,8,["text"]),Mc("input",{ref:"fileInput",type:"file",accept:".zip",class:Jie(["",sn(SC)(["block w-full rounded-lg border-0 text-base/6 text-neutral-900 shadow-sm placeholder:text-neutral-500/80 disabled:bg-neutral-200 dark:bg-neutral-500/10 dark:text-white dark:placeholder-neutral-300/70 dark:disabled:bg-neutral-700/10","ring-1 ring-inset ring-neutral-300 focus:ring-2 focus:ring-inset focus:ring-primary-600 dark:ring-neutral-500/30 dark:focus:ring-primary-600","px-3.5 py-2.5 sm:px-3 sm:py-1.5 sm:text-sm/6"],["rounded border p-2"])]),onChange:b},null,34),s.value?(za(),zb("p",nae,Sv(s.value),1)):qs("",!0),Pn(G,{variant:"primary",disabled:!i.value,onClick:x},{default:Ci(()=>[Wb(Sv(sn(u)("Upload")),1)]),_:1},8,["disabled"])])]),_:1},8,["modelValue","title"]),Pn(ue,{"resource-name":sn(r)},null,8,["resource-name"]),Pn(Ve,{"redirect-to-view":!0,onCreated:U[3]||(U[3]=({isRegularAction:Oe})=>Oe?void 0:T()),onHidden:E.$router.back},null,8,["onHidden"])]),_:1})}}},Qo=Vue.unref,fa=Vue.resolveComponent,Kb=Vue.openBlock,Gb=Vue.createBlock,sae=Vue.createCommentVNode,lae=Vue.renderSlot,Wa=Vue.createVNode,Zb=Vue.vShow,cae=Vue.createElementVNode,Xb=Vue.withDirectives,Pf=Vue.withCtx,uae=Vue.createSlots,Ov=Vue.ref,fae=_app_.i18n.useI18n,dae=_app_.router.useRouter,pae={__name:"Create",props:{visible:{type:Boolean,default:!0},goToList:{type:Boolean,default:!0},redirectToView:Boolean,createUsing:Function,withExtendedSubmitButtons:Boolean,fieldsVisible:{type:Boolean,default:!0},title:String,contacts:Array,deals:Array},emits:["created","restored","update:visible","ready"],setup(o,{emit:r}){const e=o,t=r,{t:n}=fae(),i=dae(),s=Innoclapps.resourceName("quotas"),l=Ov(!1),u=Ov(!1);Ov(!1);const{fields:f,hasFields:d,getCreateFields:v}=Sa(),{form:m}=In(),{createResource:y}=hs(s);kp(()=>e.visible,E,{immediate:!0});function b(U){if(U.indexRoute={name:"quotas-index"},U.action==="go-to-list")return i.push(U.indexRoute)}function w(){f.value=[],m.reset()}function x(){T().then(b)}function O(){T("create-another").then(U=>{m.reset(),b(U)})}function M(){T("go-to-list").then(b)}async function T(U=null){let te={company:await y(m).catch(ee=>(ee.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Promise.reject(ee))),isRegularAction:U===null,action:U};return t("created",te),Innoclapps.success(n("core::resource.created")),te}async function E(){const U=await v(s),Z=te=>Rp(U,["attribute",te]);for(let te of["contacts","deals"]){if(!e[te])continue;let ee=Z(te);ee===-1?m.set(te,e[te].map(G=>typeof G=="object"?G.id:G)):U[ee].value=e[te]}f.value=U,t("ready",{fields:f,form:m})}return(U,Z)=>{const te=fa("FieldsPlaceholder"),ee=fa("FormFields"),G=fa("IDropdownItem"),q=fa("IDropdownMenu"),D=fa("IExtendedDropdown"),$=fa("CreateDealModal"),B=fa("CreateContactModal"),W=fa("ISlideover");return Kb(),Gb(W,{id:"createCompanyModal",visible:o.visible,title:o.title||U.$t("saas::saas.quotas.create"),"ok-text":U.$t("core::app.create"),"ok-disabled":Qo(m).busy,static:"",form:"",onHidden:w,onSubmit:Z[7]||(Z[7]=X=>o.createUsing?o.createUsing(x):M()),"onUpdate:visible":Z[8]||(Z[8]=X=>U.$emit("update:visible",X))},uae({default:Pf(()=>[Qo(d)?sae("",!0):(Kb(),Gb(te,{key:0})),lae(U.$slots,"top",{isReady:Qo(d)}),Xb(cae("div",null,[Wa(ee,{fields:Qo(f),form:Qo(m),"resource-name":Qo(s),"is-floating":"","focus-first":"",onUpdateFieldValue:Z[0]||(Z[0]=X=>Qo(m).fill(X.attribute,X.value)),onSetInitialValue:Z[1]||(Z[1]=X=>Qo(m).set(X.attribute,X.value))},null,8,["fields","form","resource-name"])],512),[[Zb,o.fieldsVisible]]),Wa($,{visible:l.value,"onUpdate:visible":Z[2]||(Z[2]=X=>l.value=X),overlay:!1,onCreated:Z[3]||(Z[3]=X=>l.value=!1)},null,8,["visible"]),Wa(B,{visible:u.value,"onUpdate:visible":Z[4]||(Z[4]=X=>u.value=X),overlay:!1,onCreated:Z[5]||(Z[5]=X=>u.value=!1),onRestored:Z[6]||(Z[6]=X=>u.value=!1)},null,8,["visible"])]),_:2},[o.withExtendedSubmitButtons?{name:"modal-ok",fn:Pf(()=>[Wa(D,{type:"submit",placement:"top-end",disabled:Qo(m).busy,loading:Qo(m).busy,text:U.$t("core::app.create")},{default:Pf(()=>[Wa(q,{class:"min-w-48"},{default:Pf(()=>[Wa(G,{text:U.$t("core::app.create_and_add_another"),onClick:O},null,8,["text"]),Xb(Wa(G,{text:U.$t("core::app.create_and_go_to_list"),onClick:M},null,8,["text"]),[[Zb,o.goToList]])]),_:1})]),_:1},8,["disabled","loading","text"])]),key:"0"}:void 0]),1032,["visible","title","ok-text","ok-disabled"])}}},kf=Vue.unref,hae=Vue.resolveComponent,vae=Vue.createVNode,gae=Vue.vShow,mae=Vue.withDirectives,Yb=Vue.openBlock,yae=Vue.createElementBlock,_ae=Vue.createCommentVNode,bae=Vue.normalizeProps,wae=Vue.withCtx,xae=Vue.createBlock,Cae={key:0,class:"mb-4 rounded-lg border border-neutral-300 bg-neutral-50/80 px-4 py-3 dark:border-neutral-500/30 dark:bg-neutral-500/10"},Sae=Vue.computed,Oae=_app_.i18n.useI18n,Tae={__name:"QuotaCreate",props:{viaResource:String,parentResource:Object},emits:["associated"],setup(o,{emit:r}){const e=o,t=Innoclapps.resourceName("quotas"),{t:n}=Oae(),{form:i}=In(),s=Sae(()=>e.viaResource?hasSelectedExistingCompany.value?n("saas::saas.associate_with.quota",{name:e.parentResource.display_name}):n("saas::saas.create_with.quota",{name:e.parentResource.display_name}):n("Create Quota"));return e.viaResource||Pp(n("Create Quota")),(l,u)=>{const f=hae("FormFields");return Yb(),xae(pae,bae({title:s.value,[o.viaResource||""]:o.viaResource?[o.parentResource]:void 0}),{top:wae(({isReady:d})=>[o.viaResource?mae((Yb(),yae("div",Cae,[vae(f,{fields:l.associateField,form:kf(i),"resource-name":kf(t),"is-floating":"",onUpdateFieldValue:u[0]||(u[0]=v=>kf(i).fill(v.attribute,v.value)),onSetInitialValue:u[1]||(u[1]=v=>kf(i).set(v.attribute,v.value))},null,8,["fields","form","resource-name"])],512)),[[gae,d]]):_ae("",!0)]),_:1},16,["title"])}}},No=Vue.resolveComponent,da=Vue.createVNode,pa=Vue.unref,Gs=Vue.openBlock,Vc=Vue.createBlock,Ic=Vue.createCommentVNode,Af=Vue.withCtx,Jb=Vue.vShow,Qb=Vue.withDirectives,Eae=Vue.normalizeProps,Pae=Vue.guardReactiveProps,kae=Vue.createElementBlock,Aae=Vue.createElementVNode,Mae={key:1,class:"m-auto mt-8 max-w-5xl"},Vae=Vue.computed,ew=Vue.ref,qa="quotas",Iae={__name:"QuotaIndex",setup(o){const r=Innoclapps.resource(qa),{reloadTable:e}=Ep(qa),t=ew(!0),n=ew(!1),i=Vae(()=>t.value&&n.value);function s(u){t.value=u.isPreEmpty,n.value=!0}function l(){e()}return(u,f)=>{const d=No("NavbarSeparator"),v=No("IDropdownItem"),m=No("IDropdownMinimal"),y=No("IButton"),b=No("NavbarItems"),w=No("IOverlay"),x=No("IEmptyState"),O=No("ResourceTable"),M=No("ResourceExport"),T=No("RouterView"),E=No("MainLayout");return Gs(),Vc(E,null,{actions:Af(()=>[da(d,{class:"hidden lg:block"}),da(b,null,{default:Af(()=>[da(m,{placement:t.value?"bottom-end":"bottom",horizontal:""},{default:Af(()=>[pa(r).authorizedToImport?(Gs(),Vc(v,{key:0,icon:"DocumentAdd",to:{name:"import-resource",params:{resourceName:qa}},text:u.$t("core::resource.import",{resource:pa(r).label})},null,8,["to","text"])):Ic("",!0),pa(r).authorizedToExport?(Gs(),Vc(v,{key:1,icon:"DocumentDownload",text:u.$t("core::resource.export",{resource:pa(r).label}),onClick:f[0]||(f[0]=U=>u.$dialog.show("export-modal"))},null,8,["text"])):Ic("",!0),pa(r).usesSoftDeletes?(Gs(),Vc(v,{key:2,icon:"Trash",to:{name:"trashed-resource-records",params:{resourceName:qa}},text:u.$t("core::resource.trashed",{resource:pa(r).label})},null,8,["to","text"])):Ic("",!0)]),_:1},8,["placement"]),Qb(da(y,{variant:"primary",icon:"PlusSolid",disabled:!pa(r).authorizedToCreate,to:{name:"create-quota"},text:u.$t("core::resource.create",{resource:pa(r).singularLabel})},null,8,["disabled","text"]),[[Jb,!t.value]])]),_:1})]),default:Af(()=>[n.value?Ic("",!0):(Gs(),Vc(w,{key:0,show:""})),i.value?(Gs(),kae("div",Mae,[da(x,Eae(Pae({to:{name:"create-quota"},title:u.$t("You have not created any Quota"),buttonText:u.$t("Create Quota"),description:u.$t("Save time by using predefined quotas."),secondButtonText:u.$t("Import from CSV file",{file_type:"CSV"}),secondButtonIcon:"DocumentAdd",secondButtonTo:{name:"import-resource",params:{resourceName:qa}}})),null,16)])):Ic("",!0),Qb(Aae("div",null,[da(O,{"resource-name":qa,onLoaded:s})],512),[[Jb,!t.value]]),da(M,{"resource-name":qa}),da(T,{"redirect-to-view":!0,onCreated:f[1]||(f[1]=({isRegularAction:U})=>U?void 0:l()),onHidden:u.$router.back},null,8,["onHidden"])]),_:1})}}},$ae={},tw=Vue.resolveComponent,Dae=Vue.createVNode,Lae=Vue.withCtx,jae=Vue.openBlock,Rae=Vue.createBlock;function Nae(o,r){const e=tw("router-view"),t=tw("MainLayout");return jae(),Rae(t,null,{default:Lae(()=>[Dae(e)]),_:1})}const Fae=bl($ae,[["render",Nae]]),Qt=Vue.unref,bo=Vue.resolveComponent,rw=Vue.openBlock,nw=Vue.createBlock,Bae=Vue.createCommentVNode,Hae=Vue.renderSlot,Uae=Vue.toDisplayString,zae=Vue.createTextVNode,wo=Vue.withCtx,wr=Vue.createVNode,Si=Vue.createElementVNode,ow=Vue.createSlots,iw=Vue.vShow,aw=Vue.withDirectives,Wae={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},qae={class:"sm:col-span-2"},Kae={class:"sm:col-span-2"},Gae={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},Zae={class:"sm:col-span-2"},Xae={class:"sm:col-span-2"},Yae={class:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-4"},Jae={class:"sm:col-span-2"},sw=Vue.ref,Qae=Vue.watch,ese=_app_.i18n.useI18n,tse=_app_.router.useRouter,rse={__name:"Create",props:{visible:{type:Boolean,default:!0},goToList:{type:Boolean,default:!0},redirectToView:Boolean,createUsing:Function,withExtendedSubmitButtons:Boolean,fieldsVisible:{type:Boolean,default:!0},title:String,contacts:Array,deals:Array},emits:["created","restored","update:visible","ready"],setup(o,{emit:r}){const e=o,t=r,{t:n}=ese(),i=tse(),{originalSettings:s,isReady:l}=um(),u=Innoclapps.resourceName("tenants"),f=sw(!1),d=sw({}),{fields:v,hasFields:m,getCreateFields:y}=Sa(),{form:b}=In(),{createResource:w}=hs(u);kp(()=>e.visible,ee,{immediate:!0}),Qae(l,q=>{q&&(d.value=s.value)});function x(q){if(q.indexRoute={name:"tenants-index"},q.action==="go-to-list")return i.push(q.indexRoute)}function O(){v.value=[],b.reset()}function M(){b.db_test=!1,U()}function T(){te().then(x)}function E(){te("create-another").then(q=>{b.reset(),x(q)})}function U(){te("go-to-list").then(x)}async function Z(){const q=b.activate_modules;let D="";const $=q.length-1;return q.forEach((B,W)=>{(!d.value[`${B}_licence_type`]||d.value[`${B}_licence_type`]!=="Extended License")&&(D+=$===W?B:B+", ")}),D&&await Innoclapps.confirm(`Module/s [${D}] does not have an extended license. Do you wish to continue?`),!0}async function te(q=null){await Z();let $={company:await w(b).catch(B=>{var W,X;return B.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Innoclapps.error((X=(W=B==null?void 0:B.response)==null?void 0:W.data)==null?void 0:X.message,3e3),Promise.reject(B)}),isRegularAction:q===null,action:q};return t("created",$),Innoclapps.success(n("core::resource.created")),$}async function ee(){const q=await y(u),D=$=>Rp(q,["attribute",$]);for(let $ of["contacts","deals"]){if(!e[$])continue;let B=D($);B===-1?b.set($,e[$].map(W=>typeof W=="object"?W.id:W)):q[B].value=e[$]}v.value=q,t("ready",{fields:v,form:b})}function G(){b.db_test=!0,T()}return(q,D)=>{const $=bo("FieldsPlaceholder"),B=bo("ILink"),W=bo("IFormInput"),X=bo("IFormError"),V=bo("IFormGroup"),_e=bo("IButton"),ue=bo("FormFields"),Ve=bo("IDropdownItem"),le=bo("IDropdownMenu"),N=bo("IExtendedDropdown"),xe=bo("CreateContactModal"),Oe=bo("ISlideover");return rw(),nw(Oe,{id:"createCompanyModal",visible:o.visible,title:o.title||Qt(n)("saas::saas.title"),"ok-text":q.$t("core::app.create"),"ok-disabled":Qt(b).busy,static:"",form:"",onHidden:O,onSubmit:D[11]||(D[11]=ge=>o.createUsing?o.createUsing(T):M()),"onUpdate:visible":D[12]||(D[12]=ge=>q.$emit("update:visible",ge))},ow({default:wo(()=>[Qt(m)?Bae("",!0):(rw(),nw($,{key:0})),Hae(q.$slots,"top",{isReady:Qt(m)}),aw(Si("div",null,[wr(ue,{fields:Qt(v),form:Qt(b),"resource-name":Qt(u),"is-floating":"","focus-first":"",onUpdateFieldValue:D[6]||(D[6]=ge=>Qt(b).fill(ge.attribute,ge.value)),onSetInitialValue:D[7]||(D[7]=ge=>Qt(b).set(ge.attribute,ge.value))},ow({"after-contact_id-field":wo(()=>[wr(B,{class:"-mt-1 block text-right",onClick:D[0]||(D[0]=ge=>f.value=!0)},{default:wo(()=>[zae(" + "+Uae(q.$t("contacts::contact.create")),1)]),_:1})]),_:2},[Qt(b).db_scheme==="custom"?{name:"after-db_scheme-field",fn:wo(()=>[Si("div",Wae,[Si("div",qae,[wr(V,{key:"db_host","label-for":"db_host",label:q.$t("saas::saas.fields.tenant.db_host"),required:""},{default:wo(()=>[wr(W,{id:"db_host",modelValue:Qt(b).db_host,"onUpdate:modelValue":D[1]||(D[1]=ge=>Qt(b).db_host=ge),placeholder:q.$t("saas::saas.fields.tenant.db_host")},null,8,["modelValue","placeholder"]),wr(X,{error:Qt(b).getError("db_host")},null,8,["error"])]),_:1},8,["label"])]),Si("div",Kae,[wr(V,{key:"db_port","label-for":"db_port",label:q.$t("saas::saas.fields.tenant.db_port"),required:""},{default:wo(()=>[wr(W,{id:"db_port",modelValue:Qt(b).db_port,"onUpdate:modelValue":D[2]||(D[2]=ge=>Qt(b).db_port=ge),placeholder:q.$t("saas::saas.fields.tenant.db_port")},null,8,["modelValue","placeholder"]),wr(X,{error:Qt(b).getError("db_port")},null,8,["error"])]),_:1},8,["label"])])]),Si("div",Gae,[Si("div",Zae,[wr(V,{key:"db_user","label-for":"db_user",label:q.$t("saas::saas.fields.tenant.db_user"),required:""},{default:wo(()=>[wr(W,{id:"db_user",modelValue:Qt(b).db_user,"onUpdate:modelValue":D[3]||(D[3]=ge=>Qt(b).db_user=ge),placeholder:q.$t("saas::saas.fields.tenant.db_user")},null,8,["modelValue","placeholder"]),wr(X,{error:Qt(b).getError("db_user")},null,8,["error"])]),_:1},8,["label"])]),Si("div",Xae,[wr(V,{key:"db_password","label-for":"db_password",label:q.$t("saas::saas.fields.tenant.db_password"),required:""},{default:wo(()=>[wr(W,{id:"db_password",modelValue:Qt(b).db_password,"onUpdate:modelValue":D[4]||(D[4]=ge=>Qt(b).db_password=ge),placeholder:q.$t("saas::saas.fields.tenant.db_password")},null,8,["modelValue","placeholder"]),wr(X,{error:Qt(b).getError("db_password")},null,8,["error"])]),_:1},8,["label"])])]),Si("div",Yae,[Si("div",Jae,[wr(V,{key:"database","label-for":"database",label:q.$t("saas::saas.fields.tenant.database"),required:""},{default:wo(()=>[wr(W,{id:"database",modelValue:Qt(b).database,"onUpdate:modelValue":D[5]||(D[5]=ge=>Qt(b).database=ge),placeholder:q.$t("saas::saas.fields.tenant.database")},null,8,["modelValue","placeholder"]),wr(X,{error:Qt(b).getError("database")},null,8,["error"])]),_:1},8,["label"])])]),wr(_e,{variant:"primary",loading:Qt(b).busy,text:q.$t("saas::saas.buttons.test_connection"),onClick:G},null,8,["loading","text"])]),key:"0"}:void 0]),1032,["fields","form","resource-name"])],512),[[iw,o.fieldsVisible]]),wr(xe,{visible:f.value,"onUpdate:visible":D[8]||(D[8]=ge=>f.value=ge),overlay:!1,onCreated:D[9]||(D[9]=ge=>f.value=!1),onRestored:D[10]||(D[10]=ge=>f.value=!1)},null,8,["visible"])]),_:2},[o.withExtendedSubmitButtons?{name:"modal-ok",fn:wo(()=>[wr(N,{type:"submit",placement:"top-end",disabled:Qt(b).busy,loading:Qt(b).busy,text:q.$t("core::app.create")},{default:wo(()=>[wr(le,{class:"min-w-48"},{default:wo(()=>[wr(Ve,{text:q.$t("core::app.create_and_add_another"),onClick:E},null,8,["text"]),aw(wr(Ve,{text:q.$t("core::app.create_and_go_to_list"),onClick:U},null,8,["text"]),[[iw,o.goToList]])]),_:1})]),_:1},8,["disabled","loading","text"])]),key:"0"}:void 0]),1032,["visible","title","ok-text","ok-disabled"])}}},Mf=Vue.unref,nse=Vue.resolveComponent,ose=Vue.createVNode,ise=Vue.vShow,ase=Vue.withDirectives,lw=Vue.openBlock,sse=Vue.createElementBlock,lse=Vue.createCommentVNode,cse=Vue.normalizeProps,use=Vue.withCtx,fse=Vue.createBlock,dse={key:0,class:"mb-4 rounded-lg border border-neutral-300 bg-neutral-50/80 px-4 py-3 dark:border-neutral-500/30 dark:bg-neutral-500/10"},pse=Vue.computed,hse=_app_.i18n.useI18n,vse={__name:"TenantCreate",props:{viaResource:String,parentResource:Object},setup(o){const r=o,e=Innoclapps.resourceName("tenants"),{t}=hse(),{form:n}=In(),i=pse(()=>r.viaResource?t("saas::saas.associate_with.tenant",{name:r.parentResource.display_name}):t("Create Tenant"));return r.viaResource||Pp(t("Create Tenant")),(s,l)=>{const u=nse("FormFields");return lw(),fse(rse,cse({title:i.value,[o.viaResource||""]:o.viaResource?[o.parentResource]:void 0}),{top:use(({isReady:f})=>[o.viaResource?ase((lw(),sse("div",dse,[ose(u,{fields:s.associateField,form:Mf(n),"resource-name":Mf(e),"is-floating":"",onUpdateFieldValue:l[0]||(l[0]=d=>Mf(n).fill(d.attribute,d.value)),onSetInitialValue:l[1]||(l[1]=d=>Mf(n).set(d.attribute,d.value))},null,8,["fields","form","resource-name"])],512)),[[ise,f]]):lse("",!0)]),_:1},16,["title"])}}},cw=Vue.ref,gse=PC(()=>{const{setLoading:o,isLoading:r}=YC(),e=cw([]),t=cw(!1);async function n(u,f){const{data:d}=await Innoclapps.request(`/saas/tenants/${u}`,f);return d}async function i(u){const{data:f}=await Innoclapps.request("/tenants/search",{params:{q:u,search_fields:"name:="}});return f.length>0?f[0]:null}async function s(u=100){if(t.value)return e.value;o(!0);try{const{data:f}=await l({params:{take:u}});return e.value=f,f}finally{o(!1),t.value=!0}}function l(u){return Innoclapps.request("/tenants/active",u)}return{limitedNumberOfActiveTenants:e,limitedNumberOfActiveTenantsRetrieved:t,limitedNumberOfTenantsLoading:r,fetchTenant:n,fetchTenantByName:i,retrieveLimitedNumberOfActiveTenants:s,fetchActiveTenants:l}}),Ka=Vue.unref,Tv=Vue.resolveComponent,uw=Vue.openBlock,fw=Vue.createBlock,mse=Vue.createCommentVNode,yse=Vue.createVNode,_se=Vue.withCtx,bse=Vue.ref,wse=_app_.i18n.useI18n,xse=_app_.router.useRoute,Cse=_app_.router.useRouter,Sse={__name:"TenantEdit",emits:["updated"],setup(o,{emit:r}){const e=r,t=Innoclapps.resourceName("tenants"),{t:n}=wse(),i=Cse(),s=xse(),{fetchTenant:l}=gse(),{fields:u,hasFields:f,getUpdateFields:d,hydrateFields:v}=Sa(),{form:m}=In(),{updateResource:y}=hs(t),b=bse(null);async function w(){var O,M;try{let T=await y(m,s.params.id);m.db_test?Innoclapps.success(n("saas::saas.database_test_successful")):(e("updated",T),Innoclapps.success(n("saas::saas.fields.tenant.updated")),i.back())}catch(T){return T.isValidationError()&&Innoclapps.error(n("core::app.form_validation_failed"),3e3),Innoclapps.error((M=(O=T==null?void 0:T.response)==null?void 0:O.data)==null?void 0:M.message,3e3),Promise.reject(T)}finally{m.db_test=!1}}async function x(){const[O,M]=await Promise.all([l(s.params.id),d(t,s.params.id)]);u.value=M,v(O),m.db_host=O.db_host,m.db_port=O.db_port,m.database=O.database,m.db_user=O.db_user,m.db_password=O.db_password,b.value=O,setTimeout(()=>{document.getElementById("tenants-subdomain-floating").setAttribute("disabled","disabled"),document.getElementById("tenants-domain-floating").setAttribute("disabled","disabled"),document.getElementsByName("db_scheme")[0].parentNode.parentNode.parentNode.parentNode.remove()},100)}return x(),(O,M)=>{const T=Tv("FieldsPlaceholder"),E=Tv("FormFields"),U=Tv("ISlideover");return uw(),fw(U,{id:"editProductModal","ok-loading":Ka(m).busy,"ok-text":O.$t("core::app.save"),title:O.$t("saas::saas.fields.tenant.edit"),visible:"",static:"",form:"",onHidden:O.$router.back,onSubmit:w},{default:_se(()=>[Ka(f)?mse("",!0):(uw(),fw(T,{key:0})),yse(E,{fields:Ka(u),form:Ka(m),"resource-name":Ka(t),"resource-id":O.$route.params.id,"is-floating":"",onUpdateFieldValue:M[0]||(M[0]=Z=>Ka(m).fill(Z.attribute,Z.value)),onSetInitialValue:M[1]||(M[1]=Z=>Ka(m).set(Z.attribute,Z.value))},null,8,["fields","form","resource-name","resource-id"])]),_:1},8,["ok-loading","ok-text","title","onHidden"])}}},lo=Vue.resolveComponent,ei=Vue.createVNode,ha=Vue.unref,Zs=Vue.openBlock,$c=Vue.createBlock,Dc=Vue.createCommentVNode,va=Vue.withCtx,dw=Vue.vShow,pw=Vue.withDirectives,Ose=Vue.normalizeProps,Tse=Vue.guardReactiveProps,Ese=Vue.createElementBlock,Ev=Vue.toDisplayString,Vf=Vue.createElementVNode,Pse={key:1,class:"m-auto mt-8 max-w-5xl"},kse=["href"],Ase=["href"],Mse=Vue.computed,hw=Vue.ref,Ga="tenants",Vse={__name:"TenantIndex",setup(o){const r=Innoclapps.resource(Ga),{reloadTable:e}=Ep(Ga),t=hw(!0),n=hw(!1),i=Mse(()=>t.value&&n.value);function s(u){t.value=u.isPreEmpty,n.value=!0}function l(){e()}return(u,f)=>{const d=lo("NavbarSeparator"),v=lo("IDropdownItem"),m=lo("IDropdownMinimal"),y=lo("IButton"),b=lo("NavbarItems"),w=lo("IOverlay"),x=lo("IEmptyState"),O=lo("Icon"),M=lo("ILink"),T=lo("ResourceTable"),E=lo("ResourceExport"),U=lo("RouterView"),Z=lo("MainLayout");return Zs(),$c(Z,null,{actions:va(()=>[ei(d,{class:"hidden lg:block"}),ei(b,null,{default:va(()=>[ei(m,{placement:t.value?"bottom-end":"bottom",horizontal:""},{default:va(()=>[ha(r).authorizedToImport?(Zs(),$c(v,{key:0,icon:"DocumentAdd",to:{name:"import-resource",params:{resourceName:Ga}},text:u.$t("core::resource.import",{resource:ha(r).label})},null,8,["to","text"])):Dc("",!0),ha(r).authorizedToExport?(Zs(),$c(v,{key:1,icon:"DocumentDownload",text:u.$t("core::resource.export",{resource:ha(r).label}),onClick:f[0]||(f[0]=te=>u.$dialog.show("export-modal"))},null,8,["text"])):Dc("",!0),ha(r).usesSoftDeletes?(Zs(),$c(v,{key:2,icon:"Trash",to:{name:"trashed-resource-records",params:{resourceName:Ga}},text:u.$t("core::resource.trashed",{resource:ha(r).label})},null,8,["to","text"])):Dc("",!0)]),_:1},8,["placement"]),pw(ei(y,{variant:"primary",icon:"PlusSolid",disabled:!ha(r).authorizedToCreate,to:{name:"create-tenant"},text:u.$t("core::resource.create",{resource:ha(r).singularLabel})},null,8,["disabled","text"]),[[dw,!t.value]])]),_:1})]),default:va(()=>[n.value?Dc("",!0):(Zs(),$c(w,{key:0,show:""})),i.value?(Zs(),Ese("div",Pse,[ei(x,Ose(Tse({to:{name:"create-tenant"},title:u.$t("saas::saas.fields.tenant.empty_state.title"),buttonText:u.$t("saas::saas.create.tenant"),description:u.$t("saas::saas.fields.tenant.empty_state.description"),secondButtonText:u.$t("core::import.from_file",{file_type:"CSV"}),secondButtonIcon:"DocumentAdd",secondButtonTo:{name:"import-resource",params:{resourceName:Ga}}})),null,16)])):Dc("",!0),pw(Vf("div",null,[ei(T,{"resource-name":Ga,onLoaded:s},{name:va(({row:te,column:ee})=>[Vf("span",null,Ev(te.name),1),ei(M,{class:"btn btn-secondary btn-sm absolute right-0.5 z-20 my-auto mr-4",to:`/saas/tenants/${te.id}/edit`},{default:va(()=>[ei(O,{icon:"Pencil"})]),_:2},1032,["to"])]),subdomain_url:va(({row:te,column:ee})=>[Vf("a",{class:"mr-1.5 text-base/6 text-primary-600 no-underline last:mr-0 hover:text-primary-900 focus:outline-none dark:text-primary-300 dark:hover:text-primary-400 sm:text-sm/6",target:"_blank",href:`${te.subdomain_url}`},Ev(te.subdomain_url),9,kse)]),domain_url:va(({row:te,column:ee})=>[Vf("a",{class:"mr-1.5 text-base/6 text-primary-600 no-underline last:mr-0 hover:text-primary-900 focus:outline-none dark:text-primary-300 dark:hover:text-primary-400 sm:text-sm/6",target:"_blank",href:`${te.domain_url}`},Ev(te.domain_url),9,Ase)]),_:1})],512),[[dw,!t.value]]),ei(E,{"resource-name":Ga}),ei(U,{"redirect-to-view":!0,onCreated:f[1]||(f[1]=({isRegularAction:te})=>te?void 0:l()),onHidden:u.$router.back},null,8,["onHidden"])]),_:1})}}};function Ise(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M7.25 13.25V7.5h1.5v5.75a.75.75 0 0 1-1.5 0ZM8.75 2.75V5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V2.75a.75.75 0 0 1 1.5 0ZM2.25 9.5a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5H4.5V2.75a.75.75 0 0 0-1.5 0V9.5h-.75ZM10 10.25a.75.75 0 0 1 .75-.75h.75V2.75a.75.75 0 0 1 1.5 0V9.5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75ZM3 12v1.25a.75.75 0 0 0 1.5 0V12H3ZM11.5 13.25V12H13v1.25a.75.75 0 0 1-1.5 0Z"})])}function $se(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"}),ke("path",{d:"M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"})])}function Dse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M8 2a.75.75 0 0 1 .75.75v8.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.22 3.22V2.75A.75.75 0 0 1 8 2Z","clip-rule":"evenodd"})])}function Lse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M8 14a.75.75 0 0 1-.75-.75V4.56L4.03 7.78a.75.75 0 0 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.75 4.56v8.69A.75.75 0 0 1 8 14Z","clip-rule":"evenodd"})])}function jse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z","clip-rule":"evenodd"})])}function Rse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function Nse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}function Fse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function Bse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z","clip-rule":"evenodd"})])}function Hse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M2 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM6.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM12.5 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"})])}function Use(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M8 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM9.5 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}function zse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})])}function Wse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})])}function qse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M13.488 2.513a1.75 1.75 0 0 0-2.475 0L6.75 6.774a2.75 2.75 0 0 0-.596.892l-.848 2.047a.75.75 0 0 0 .98.98l2.047-.848a2.75 2.75 0 0 0 .892-.596l4.261-4.262a1.75 1.75 0 0 0 0-2.474Z"}),ke("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V9A.75.75 0 0 1 14 9v2.25A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 2 11.25v-6.5A2.75 2.75 0 0 1 4.75 2H7a.75.75 0 0 1 0 1.5H4.75Z"})])}function Kse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"})])}function Gse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z","clip-rule":"evenodd"})])}function Zse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z","clip-rule":"evenodd"})])}function Xse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{d:"M5.28 4.22a.75.75 0 0 0-1.06 1.06L6.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L8 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L9.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L8 6.94 5.28 4.22Z"})])}function Yse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})])}function Jse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function Qse(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"})])}function ele(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function tle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"})])}function rle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function nle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})])}function ole(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})])}function ile(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"})])}function ale(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})])}function sle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})])}function lle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"})])}function cle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"})])}function ule(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})])}function fle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5M12 17.25h8.25"})])}function dle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12H12m-8.25 5.25h16.5"})])}function ple(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function hle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 4.5h14.25M3 9h9.75M3 13.5h5.25m5.25-.75L17.25 9m0 0L21 12.75M17.25 9v12"})])}function vle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function gle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})])}function mle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}function yle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"})])}function _le(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 12.75c1.148 0 2.278.08 3.383.237 1.037.146 1.866.966 1.866 2.013 0 3.728-2.35 6.75-5.25 6.75S6.75 18.728 6.75 15c0-1.046.83-1.867 1.866-2.013A24.204 24.204 0 0 1 12 12.75Zm0 0c2.883 0 5.647.508 8.207 1.44a23.91 23.91 0 0 1-1.152 6.06M12 12.75c-2.883 0-5.647.508-8.208 1.44.125 2.104.52 4.136 1.153 6.06M12 12.75a2.25 2.25 0 0 0 2.248-2.354M12 12.75a2.25 2.25 0 0 1-2.248-2.354M12 8.25c.995 0 1.971-.08 2.922-.236.403-.066.74-.358.795-.762a3.778 3.778 0 0 0-.399-2.25M12 8.25c-.995 0-1.97-.08-2.922-.236-.402-.066-.74-.358-.795-.762a3.734 3.734 0 0 1 .4-2.253M12 8.25a2.25 2.25 0 0 0-2.248 2.146M12 8.25a2.25 2.25 0 0 1 2.248 2.146M8.683 5a6.032 6.032 0 0 1-1.155-1.002c.07-.63.27-1.222.574-1.747m.581 2.749A3.75 3.75 0 0 1 15.318 5m0 0c.427-.283.815-.62 1.155-.999a4.471 4.471 0 0 0-.575-1.752M4.921 6a24.048 24.048 0 0 0-.392 3.314c1.668.546 3.416.914 5.223 1.082M19.08 6c.205 1.08.337 2.187.392 3.314a23.882 23.882 0 0 1-5.223 1.082"})])}function ble(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"})])}function wle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function xle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"})])}function Cle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"})])}function Sle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function Ole(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"})])}function Tle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})])}function Ele(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function Ple(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function kle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function Ale(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function Mle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Vle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})])}function Ile(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})])}function $le(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Dle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}function Lle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})])}function jle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Rle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function Nle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})])}function Fle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ble(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"})])}function Hle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"})])}function Ule(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function zle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})])}function Wle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function qle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Kle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Gle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function Zle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function Xle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Yle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function Jle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function Qle(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"})])}function ece(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function tce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"})])}function rce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A2.625 2.625 0 1 0 9.375 7.5H12m0-2.625V7.5m0-2.625A2.625 2.625 0 1 1 14.625 7.5H12m0 0V21m-8.625-9.75h18c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125h-18c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})])}function nce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 0 1-1.161.886l-.143.048a1.107 1.107 0 0 0-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 0 1-1.652.928l-.679-.906a1.125 1.125 0 0 0-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 0 0-8.862 12.872M12.75 3.031a9 9 0 0 1 6.69 14.036m0 0-.177-.529A2.25 2.25 0 0 0 17.128 15H16.5l-.324-.324a1.453 1.453 0 0 0-2.328.377l-.036.073a1.586 1.586 0 0 1-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 0 1-5.276 3.67m0 0a9 9 0 0 1-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25"})])}function oce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function ice(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m7.875 14.25 1.214 1.942a2.25 2.25 0 0 0 1.908 1.058h2.006c.776 0 1.497-.4 1.908-1.058l1.214-1.942M2.41 9h4.636a2.25 2.25 0 0 1 1.872 1.002l.164.246a2.25 2.25 0 0 0 1.872 1.002h2.092a2.25 2.25 0 0 0 1.872-1.002l.164-.246A2.25 2.25 0 0 1 16.954 9h4.636M2.41 9a2.25 2.25 0 0 0-.16.832V12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 12V9.832c0-.287-.055-.57-.16-.832M2.41 9a2.25 2.25 0 0 1 .382-.632l3.285-3.832a2.25 2.25 0 0 1 1.708-.786h8.43c.657 0 1.281.287 1.709.786l3.284 3.832c.163.19.291.404.382.632M4.5 20.25h15A2.25 2.25 0 0 0 21.75 18v-2.625c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125V18a2.25 2.25 0 0 0 2.25 2.25Z"})])}function ace(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"})])}function sce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function lce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})])}function cce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})])}function uce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})])}function fce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function dce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}function pce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function hce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})])}function vce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function gce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"})])}function mce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"})])}function yce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function _ce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function bce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 3.75 18 6m0 0 2.25 2.25M18 6l2.25-2.25M18 6l-2.25 2.25m1.5 13.5c-8.284 0-15-6.716-15-15V4.5A2.25 2.25 0 0 1 4.5 2.25h1.372c.516 0 .966.351 1.091.852l1.106 4.423c.11.44-.054.902-.417 1.173l-1.293.97a1.062 1.062 0 0 0-.38 1.21 12.035 12.035 0 0 0 7.143 7.143c.441.162.928-.004 1.21-.38l.97-1.293a1.125 1.125 0 0 1 1.173-.417l4.423 1.106c.5.125.852.575.852 1.091V19.5a2.25 2.25 0 0 1-2.25 2.25h-2.25Z"})])}function wce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function xce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Cce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}function Sce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Oce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function Tce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"})])}function Ece(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 0 0 6.16-12.12A14.98 14.98 0 0 0 9.631 8.41m5.96 5.96a14.926 14.926 0 0 1-5.841 2.58m-.119-8.54a6 6 0 0 0-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 0 0-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 0 1-2.448-2.448 14.9 14.9 0 0 1 .06-.312m-2.24 2.39a4.493 4.493 0 0 0-1.757 4.306 4.493 4.493 0 0 0 4.306-1.758M16.5 9a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})])}function Pce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"})])}function kce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})])}function Ace(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})])}function Mce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"})])}function Vce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Ice(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})])}function $ce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})])}function Dce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})])}function Lce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"})])}function jce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})])}function Rce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function Nce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"})])}function Fce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})])}function Bce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6Z"})])}function Hce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function Uce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"})])}function zce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function Wce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function qce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function Kce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125Z"})])}function Gce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.5 3.75H6A2.25 2.25 0 0 0 3.75 6v1.5M16.5 3.75H18A2.25 2.25 0 0 1 20.25 6v1.5m0 9V18A2.25 2.25 0 0 1 18 20.25h-1.5m-9 0H6A2.25 2.25 0 0 1 3.75 18v-1.5M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function Zce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8.25V18a2.25 2.25 0 0 0 2.25 2.25h13.5A2.25 2.25 0 0 0 21 18V8.25m-18 0V6a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 6v2.25m-18 0h18M5.25 6h.008v.008H5.25V6ZM7.5 6h.008v.008H7.5V6Zm2.25 0h.008v.008H9.75V6Z"})])}function Xce(o,r){return Re(),je("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[ke("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})])}const Yce={components:{EyeIcon:Xle,SparklesSolidIcon:Gse,CheckBadgeIcon:Ele,BanknotesIcon:cle,LockClosedIcon:dce,ClockIcon:$le,CodeBracketIcon:Lle,AcademicCapIcon:Yse,RocketLaunchIcon:Ece,ChatBubbleBottomCenterTextIcon:Sle,ViewfinderCircleIcon:Gce,SunIcon:Rce,MoonIcon:vce,MegaphoneIcon:pce,VolumeOffIcon:$ce,VolumeUpIcon:Ice,EmojiHappyIcon:Jle,EmojiSadIcon:Yle,ArrowRightIcon:nle,ArrowLeftIcon:ele,ReplyIcon:ile,CurrencyDollarIcon:Fle,CursorClickIcon:Ble,FilterIcon:tce,ShareIcon:kce,ListBulletIcon:fce,CogIcon:jle,CollectionIcon:Tce,ColorSwatchIcon:Nce,HomeIcon:oce,LightBulbIcon:cce,Bars3CenterLeftIcon:dle,Bars3BottomLeftIcon:ule,MenuAlt3Icon:fle,PhotographIcon:xce,PlusSolidIcon:Kse,MinusSolidIcon:Wse,PlusIcon:Sce,MicrophoneIcon:hce,UserGroupIcon:zce,ViewGridIcon:Dce,XSolidIcon:Xse,ArchiveBoxIcon:Jse,BugAntIcon:_le,MagnifyingGlassSolidIcon:zse,ChartSquareBarIcon:Cle,MailIcon:Gle,CalendarIcon:wle,ArrowPathRoundedSquareIcon:tle,TableCellsIcon:Fce,UsersIcon:qce,UserIcon:Wce,OfficeBuildingIcon:ble,InboxIcon:ace,InboxStackIcon:ice,GiftIcon:rce,KeyIcon:lce,FilmIcon:Qle,FolderIcon:ece,CpuChipIcon:Rle,PlayCircleIcon:Cce,CheckCircleIcon:Ple,CheckCircleSolidIcon:jse,ArrowUpSolidIcon:Lse,ArrowDownSolidIcon:Dse,CheckIcon:kle,XCircleSolidIcon:Zse,InformationCircleIcon:sce,ChevronUpSolidIcon:Bse,ChevronDownSolidIcon:Rse,ChevronRightSolidIcon:Fse,ChevronLeftSolidIcon:Nse,ChevronLeftIcon:Ale,ChevronRightIcon:Mle,ExclamationTriangleIcon:Zle,ShieldExclamationIcon:Mce,ShieldCheckIcon:Ace,SquaresPlusIcon:Lce,QuestionMarkCircleIcon:Oce,SelectorIcon:Vle,BellIcon:vle,ArrowsPointingOutIcon:ale,ArrowsRightLeftIcon:sle,RefreshIcon:rle,DuplicateIcon:zle,GlobeIcon:nce,DeviceMobileIcon:Hle,PhoneIcon:wce,PhoneXMarkIcon:bce,AdjustmentsVerticalSolidIcon:Ise,ArrowLeftStartOnRectangleIcon:Qse,PencilSquareSolidIcon:qse,WindowIcon:Zce,DocumentDownloadIcon:Ule,EllipsisHorizontalSolidIcon:Hse,EllipsisVerticalSolidIcon:Use,DocumentAddIcon:Wle,DocumentIcon:Kle,DocumentTextIcon:qle,DownloadSolidIcon:$se,ExternalLinkIcon:ole,LinkIcon:uce,TrashIcon:Hce,PencilAltIcon:yce,PencilIcon:_ce,StarIcon:jce,Bars3Icon:ple,TagIcon:Bce,ViewColumnsIcon:Kce,SortAscendingIcon:hle,AtSymbolIcon:lle,ShoppingBagIcon:Vce,BriefcaseIcon:yle,ChatIcon:Tle,ChatAltIcon:Ole,BookOpenIcon:gle,BookmarkIcon:mle,CameraIcon:xle,TruckIcon:Uce,CloudArrowUpIcon:Dle,PaperClipIcon:mce,PaintBrushIcon:gce,ClipboardIcon:Ile,CreditCardIcon:Nle,WrenchScrewdriverIcon:Xce,ScaleIcon:Pce},props:{type:{type:String,default:"hero"},icon:{required:!0}},setup(o){function r(){return o.type==="hero"}return{isHeroIcon:r}}},Jce=Vue.resolveDynamicComponent,Qce=Vue.openBlock,eue=Vue.createBlock,tue=Vue.createCommentVNode;function rue(o,r,e,t,n,i){return t.isHeroIcon?(Qce(),eue(Jce(`${e.icon}Icon`),{key:0,"aria-hidden":"true"})):tue("",!0)}const nue=bl(Yce,[["render",rue]]),oue=Vue.renderList,iue=Vue.Fragment,Lc=Vue.openBlock,Pv=Vue.createElementBlock,aue=Vue.unref,vw=Vue.createBlock,gw=Vue.createCommentVNode,sue=Vue.toDisplayString,lue=Vue.createTextVNode,cue=Vue.normalizeClass,uue=Vue.Transition,fue=Vue.withCtx,due={key:0,class:"sidebar-dropdown-menu mt-1 origin-top pl-4"},pue=["href","onClick"],hue=_app_.router.useRouter,vue={__name:"SideBarDropDown",props:{isOpen:{type:Boolean,required:!0,default:!1},items:{type:Array,required:!0,default:()=>[]}},setup(o){const r=hue(),e=(t,n)=>{t.preventDefault(),r.push(n.route)};return(t,n)=>(Lc(),vw(uue,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-y-0 opacity-0","enter-to-class":"transform scale-y-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform scale-y-100 opacity-100","leave-to-class":"transform scale-y-0 opacity-0"},{default:fue(()=>[o.isOpen?(Lc(),Pv("div",due,[(Lc(!0),Pv(iue,null,oue(o.items,i=>(Lc(),Pv("a",{key:i.id,class:cue(["group relative flex items-center rounded-md px-2 py-2 text-sm focus:outline-none mt-1","sidebar-lg-item-"+i.id,aue(r).currentRoute.value.path===i.route?"bg-white/10 text-white":"text-neutral-50 hover:bg-white/10"]),href:i.route,onClick:s=>e(s,i)},[i.icon?(Lc(),vw(nue,{key:0,class:"mr-3 size-6 shrink-0 text-neutral-300",icon:i.icon},null,8,["icon"])):gw("",!0),lue(" "+sue(i.name),1)],10,pue))),128))])):gw("",!0)]),_:1}))}},gue=bl(vue,[["__scopeId","data-v-66f75dd0"]]),mw=Vue.ref,mue=Vue.watch,yue=()=>{const o=mw(!1),r=mw(!1);return mue(o,t=>{r.value=t}),{isOpen:o,arrowRotated:r,toggleDropdown:()=>{o.value=!o.value}}},_ue=Vue.createApp,bue=Vue.h,wue=Vue.watch,xue=_app_.router.useRouter;class yw{constructor(r){this.router=r}initializeDropdowns(){const r=document.querySelectorAll(".sidebar-lg-item-saas");Array.from(document.querySelectorAll("button")).find(t=>t.textContent.trim()==="Open sidebar").addEventListener("click",t=>{document.querySelectorAll(".sidebar-sm-item-saas").forEach(i=>this.initializeDropdown(i))}),r.forEach(t=>this.initializeDropdown(t))}initializeDropdown(r){const e=this.getDropdownItems(),t=document.createElement("div");t.className="sidebar-dropdown-wrapper",r.parentNode.insertBefore(t,r.nextSibling);const n=this.addArrowIcon(r),s=_ue({setup(){const{isOpen:l,arrowRotated:u,toggleDropdown:f}=yue(),d=xue();return d.currentRoute&&d.currentRoute.value&&d.currentRoute.value.path.startsWith("/saas")&&f(),r.addEventListener("click",v=>{v.preventDefault(),v.stopPropagation(),f()},!0),wue(u,v=>{n&&(n.querySelector("svg").style.transform=v?"rotate(180deg)":"rotate(0)")}),()=>bue(gue,{isOpen:l.value,items:e,"onUpdate:isOpen":v=>{l.value=v},onItemClick:()=>{l.value=!1}})}});return s.use(this.router),s.component("Link",OC),s.mount(t),r.addEventListener("click",l=>{l.preventDefault();const u=s._instance;u&&u.exposed&&u.exposed.toggleDropdown&&u.exposed.toggleDropdown()}),s}addArrowIcon(r){const e=document.createElement("span");return e.className="ml-auto",e.innerHTML=`
            <svg class="transition-transform duration-200 ease-in-out h-5 w-5"
                 xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 20 20"
                 fill="currentColor">
                <path fill-rule="evenodd"
                      d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                      clip-rule="evenodd" />
            </svg>`,r.appendChild(e),e}getDropdownItems(){return[{id:"saas-tenants",name:"Tenants",route:"/saas/tenants",icon:"Users"},{id:"saas-packages",name:"Packages",route:"/saas/packages",icon:"Document"},{id:"saas-quotas",name:"Quotas",route:"/saas/quotas",icon:"Collection"},{id:"saas-pages",name:"Pages",route:"/saas/pages",icon:"Banknotes"}]}}window.Innoclapps&&Innoclapps.booting(function(o,r){o.component("SidebarManager",yw),o.component("LinkComponent",OC),o.component("TenantRegister",xG),r.addRoute({path:"/saas",name:"saas-index",component:Fae,meta:{title:"saas",subRoutes:["tenants","packages","pages"]},children:[{path:"tenants",name:"tenants-index",component:Vse,meta:{title:"Tenants"},subRoutes:["create","edit"],children:[{path:"create",name:"create-tenant",component:vse,meta:{title:"Create Tenant"}},{path:":id/edit",name:"edit-tenant",component:Sse,meta:{title:"Edit Tenant"}}]},{path:"packages",name:"packages-index",component:Aie,meta:{title:"Packages"},children:[{path:"create",name:"create-package",component:aie,meta:{title:"Create Package"}},{path:":id/edit",name:"edit-package",component:Cie,meta:{title:"Edit Package"}}]},{path:"quotas",name:"quotas-index",component:Iae,meta:{title:"Quotas"},children:[{path:"create",name:"create-quota",component:Tae,meta:{title:"Create Quota"}}]},{path:"pages",name:"pages-index",component:aae,meta:{title:"pages"},children:[{path:"create",name:"create-page",component:Zie,meta:{title:"Create Page"}}]},{path:"/pages/:id/edit",name:"grapejs-edit",component:_1,props:!0},{path:"editor",name:"editor",component:_1,meta:{title:"Editor"}}]}),r.addRoute("settings",{path:"/settings/saas",component:DK,name:"saas-setting"});const e=new yw(r);setTimeout(()=>{e.initializeDropdowns()},100)})});export default Cue();
